# Upstox API Documentation (Complete Scrape)



---
# Source: https://upstox.com/developer/api-documentation/open-api/
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * Developer API



# Developer API

Develop your app on the Upstox platform, utilizing a robust collection of REST APIs that deliver the necessary data for building a comprehensive investment and trading platform. With this API set, you can execute real-time orders, effectively manage user portfolios, stream live market data via Websockets, and more, all in a user-friendly and easily comprehensible manner.

## [description SandboxSandbox for developers](<https://upstox.com/developer/api-documentation/sandbox>)## [description AuthenticationUser authentication and authorization flow.](<https://upstox.com/developer/api-documentation/authentication>)## [folder API Structure3 items](<https://upstox.com/developer/api-documentation/request-response>)## [description Rate LimitsAPI rate limits.](<https://upstox.com/developer/api-documentation/rate-limiting>)## [folder SDK4 items](<https://upstox.com/developer/api-documentation/sdk>)## [description InstrumentsGet BOD instruments.](<https://upstox.com/developer/api-documentation/instruments>)## [folder Expired Instruments4 items](<https://upstox.com/developer/api-documentation/expired-instruments>)## [folder Login4 items](<https://upstox.com/developer/api-documentation/login>)## [folder User2 items](<https://upstox.com/developer/api-documentation/user>)## [folder Charges1 items](<https://upstox.com/developer/api-documentation/charges>)## [folder Margins1 items](<https://upstox.com/developer/api-documentation/margins>)## [folder Orders15 items](<https://upstox.com/developer/api-documentation/orders>)## [folder GTT Orders4 items](<https://upstox.com/developer/api-documentation/gtt-orders>)## [folder Portfolio4 items](<https://upstox.com/developer/api-documentation/portfolio>)## [folder Trade Profit And Loss3 items](<https://upstox.com/developer/api-documentation/trade-profit-and-loss>)## [folder Historical Data4 items](<https://upstox.com/developer/api-documentation/historical-data>)## [folder Market Quote6 items](<https://upstox.com/developer/api-documentation/market-quote>)## [folder Market Information3 items](<https://upstox.com/developer/api-documentation/market-information>)## [folder Option Chain2 items](<https://upstox.com/developer/api-documentation/option-chain>)## [folder Websocket6 items](<https://upstox.com/developer/api-documentation/websocket>)## [folder Websocket implementation1 items](<https://upstox.com/developer/api-documentation/websocket-implementation>)## [description WebhookWebhook for real-time order updates.](<https://upstox.com/developer/api-documentation/webhook>)## [folder Appendix11 items](<https://upstox.com/developer/api-documentation/appendix>)


---
# Source: https://upstox.com/developer/api-documentation/sandbox
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * Sandbox



On this page

# Sandbox APIs

## What is the Sandbox App?[â€‹](<https://upstox.com/developer/api-documentation/sandbox/#what-is-the-sandbox-app> "Direct link to heading")

To simplify the integration process for developers working with the Upstox APIs, we have developed a sandbox environment that closely emulates the actual API integration experience. This setup allows developers to fully integrate and test their applications end-to-end on the payload before even connecting to the live market. In the sandbox, you can test strategies and integrations comprehensively without incurring any costs and without any time restrictions, unlike the live system which operates only during defined periods.

In simple terms, using the sandbox APIs ensures that you have thoroughly tested all your code and its interactions within the API before executing actual orders in the live market.

We will be rolling out the sandbox feature in a phased manner, so it is advisable to check the documentation regularly for updates on the availability of additional sandbox APIs.

## Create a Sandbox App and Generate a Token[â€‹](<https://upstox.com/developer/api-documentation/sandbox/#create-a-sandbox-app-and-generate-a-token> "Direct link to heading")

Follow these steps to set up a sandbox app and generate an access token for API execution:

  1. **Access the Sandbox Section** \- Visit the [Upstox Developer Apps](<https://account.upstox.com/developer/apps#sandbox>) page to view the sandbox section. Here, you can manage your app and token.

![Sandbox Dashboard](https://upstox.com/developer/api-documentation/assets/images/sand_1-8679dcb69bbd3fb81594dfacaedeb07c.png)

  2. **Start the App Creation Process** \- Click the **New Sandbox App** button to open the application form. This form will allow you to specify the details of your new sandbox app. Note that the redirect URL and postback URL fields are included to collect data and currently do not serve any functional purpose for the sandbox app. These fields are mandatory for the live app and will soon mimic their functionality in the sandbox environment as well. We recommend filling out these URLs now to avoid having to update this information when the feature is fully implemented in the sandbox.

![App Creation Form](https://upstox.com/developer/api-documentation/assets/images/sand_2-671d1513ad71c8856c0afc56a1cfd1f3.png)

  3. **Complete the App Form** \- Fill in the required fields in the form to define your sandbox appâ€™s settings and features. After entering the information, click **Continue** to create your new sandbox app.

![Filled App Form](https://upstox.com/developer/api-documentation/assets/images/sand_3-3a6cfbb2dc16acc2327c77e9cffcec92.png)

  4. **Generate Your Access Token** \- Navigate to your newly created sandbox app, and click the **Generate** button. This will create a new access token that you can use to authenticate API requests.

![Generate Token](https://upstox.com/developer/api-documentation/assets/images/sand_4-639d3c675a71b8ac14fe82eeaa7680ca.png)

  5. **Copy Your Access Token** \- Once the token is generated, it will be displayed on the screen. Copy this token, which will be valid for 30 days, for use in your sandbox API executions.

![Token Display](https://upstox.com/developer/api-documentation/assets/images/sand_5-bd23327400df1446f62f66c5269c450a.png)




NOTE

  * Only one sandbox app is permitted per user, ensuring focused and manageable testing environments.
  * Sandbox access tokens are exclusively for sandbox orders and cannot be used for live transactions.



  


## Identifying APIs with Sandbox Capability[â€‹](<https://upstox.com/developer/api-documentation/sandbox/#identifying-apis-with-sandbox-capability> "Direct link to heading")

This section will guide you on how to identify APIs that have the sandbox feature enabled in the API documentation. As we progress towards making all APIs sandbox capable, the 'Sandbox enabled' flag will eventually be phased out. For now, here's how to spot and utilize APIs with sandbox capabilities from the documentation:

  1. **Look for the Sandbox Flag** \- An API with sandbox capabilities will display a 'Sandbox enabled' flag next to the page title.

![Sandbox Flag](https://upstox.com/developer/api-documentation/assets/images/sand_6-53bed7dfb4e80333dcfc8ccca4c106d8.png)

  2. **Check the Request Setup** \- A section with request-related fields will be present, often pre-filled with a sample payload, if applicable. Enter your sandbox token, generated as described in the previous sections, and click the 'Send API Request' button to proceed.

![Request Fields](https://upstox.com/developer/api-documentation/assets/images/sand_7-6d5dcb2b95067df18cfa0c0b48bbfd27.png)

  3. **Review the API Response** \- Once executed, the response section will appear, showing the data received from the API. This is how you can confirm that the sandbox API is functioning as expected.

![API Response](https://upstox.com/developer/api-documentation/assets/images/sand_8-7023c03d58eef6dbb71de28c2b2bed4d.png)




### Sandbox enabled APIs[â€‹](<https://upstox.com/developer/api-documentation/sandbox/#sandbox-enabled-apis> "Direct link to heading")

To facilitate easy navigation, we have listed APIs with sandbox capabilities within our documentation or developer portal.

  * [Place Order](<https://upstox.com/developer/api-documentation/place-order>)
  * [Place Order V3](<https://upstox.com/developer/api-documentation/v3/place-order>)
  * [Place Multi Order](<https://upstox.com/developer/api-documentation/place-multi-order>)
  * [Modify Order](<https://upstox.com/developer/api-documentation/modify-order>)
  * [Modify Order V3](<https://upstox.com/developer/api-documentation/v3/modify-order>)
  * [Cancel Order](<https://upstox.com/developer/api-documentation/cancel-order>)
  * [Cancel Order V3](<https://upstox.com/developer/api-documentation/v3/cancel-order>)




---
# Source: https://upstox.com/developer/api-documentation/authentication
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * Authentication



On this page

# Authentication

![Login flow](https://upstox.com/developer/api-documentation/assets/images/loginflow-58e94762548c9142d35fe1d479df21bf.webp#block)

Upstox uses standard OAuth 2.0 for customer authentication and login.

All logins are handled by upstox.com. There is no public endpoint for other applications to directly log the customer into their upstox.com. For security and compliance purposes, all logins and logouts are handled exclusively by upstox.com.

  


## Perform Authentication[â€‹](<https://upstox.com/developer/api-documentation/authentication/#perform-authentication> "Direct link to heading")

The login window is a web page hosted at the following link.
    
    
    https://api.upstox.com/v2/login/authorization/dialog  
    

Your client application must trigger the opening of the above URL using Webview (or similar technology) and pass the following parameters:

Parameter| Description  
---|---  
client_id| The API key obtained during the app generation process.  
redirect_uri| The URL to which the user will be redirected post authentication; must match the URL provided during app generation.  
state| An optional parameter. If specified, will be returned after authentication, allowing for state continuity between request and callback.  
response_type| This value must always be `code`.  
  
URL construction:
    
    
    https://api.upstox.com/v2/login/authorization/dialog?response_type=code&client_id=<Your-API-Key-Here>&redirect_uri=<Your-Redirect-URI-Here>&state=<Your-Optional-State-Parameter-Here>  
    

Sample URL:
    
    
    https://api.upstox.com/v2/login/authorization/dialog?response_type=code&client_id=615b1297-d443-3b39-ba19-1927fbcdddc7&redirect_uri=https%3A%2F%2Fwww.trading.tech%2Flogin%2Fupstox-v2&state=RnJpIERlYyAxNiAyMDIyIDE1OjU4OjUxIEdNVCswNTMwIChJbmRpYSBTdGFuZGFyZCBUaW1lKQ%3D%3D  
    

NOTE

In OAuth, client_id means API Key (not customer UCC) and client_secret means API Secret.

NOTE

  * In some cases, redirect URLs with .php or similar extensions might get blocked due to security reasons. So you can avoid putting the redirect at the end of the URL and place it somewhere in the middle of the URL.
  * If you encounter an `Invalid Credentials` error, it likely stems from inconsistencies in the request parameters (`client_id`, `redirect_uri`, and `response_type`) compared to the information registered during app creation. Ensure you verify these parameters and correct any discrepancies before making another attempt.



The user will be redirected to the default login page where they will be able to log in.

![Login page](https://upstox.com/developer/api-documentation/assets/images/loginpage-bd1c2065c2c8d2c720f0ed703dd48131.webp#block)

NOTE

You also have the option to select [TOTP (Time-based One-Time Password)](<https://en.wikipedia.org/wiki/Time-based_one-time_password>) as a more secure method for 2FA, compared to the usual SMS OTP, for a safer login. Learn more about activating TOTP on your Upstox account [here](<https://help.upstox.com/support/solutions/articles/260346-what-is-totp-and-how-to-enable-totp-for-my-account-from-upstox-web-platform->).

  


## Receive Auth Code[â€‹](<https://upstox.com/developer/api-documentation/authentication/#receive-auth-code> "Direct link to heading")

Upon successful authentication, this API will redirect to the URL specified in the `redirect_url` parameter, with the `code` essential for the token generation included within the request parameters.
    
    
    https://<redirect_uri>?code=mk404x&state=XX56849  
    

Name| Description  
---|---  
code| Utilize this code to generate the `access_token` as part of the next step.  
state| Provided optionally if it was initially included in the request URL parameters.  
  


## Generate Access Token[â€‹](<https://upstox.com/developer/api-documentation/authentication/#generate-access-token> "Direct link to heading")

Once the user has authenticated with us, they will be redirected to your redirect URL with an authorization code. The parameter will come as `code` (query parameter).

NOTE

The authorization code is valid for a single use, regardless of whether the access token generation succeeds or encounters an issue.

The last step is to make a server-to-server call between your backend server and Upstox to get an `access_token` using the authorization code. This can be done by calling the following service:
    
    
    https://api.upstox.com/v2/login/authorization/token  
    

You will need to pass the following parameters:

Parameter| Description  
---|---  
code| The `code` is a unique parameter included in the URL upon a successful [Authorize API](<https://upstox.com/developer/api-documentation/authorize>) authentication.  
client_id| The API key obtained during the app generation process.  
client_secret| The API secret obtained during the app generation process. This private key remains confidential, known only to the application and the authorization server.  
redirect_uri| The URL provided during app generation.  
grant_type| This value must always be `authorization_code`.  
  
URL construction:
    
    
    curl -X 'POST' 'https://api.upstox.com/v2/login/authorization/token' \  
    -H 'accept: application/json' \  
    -H 'Content-Type: application/x-www-form-urlencoded' \  
    -d 'code=<Your-Auth-Code-Here>&client_id=<Your-API-Key-Here>&client_secret=<Your-API-Secret-Here>&redirect_uri=<Your-Redirect-URI-Here>&grant_type=authorization_code'  
    

Finally this will return an access token for you. This access token can be successfully passed back to your front-end application to access the Upstox API.

## Semi-Automated Token Generation[â€‹](<https://upstox.com/developer/api-documentation/authentication/#semi-automated-token-generation> "Direct link to heading")

For apps that automate authentication requests but require manual approval: 

  1. Configure your app to trigger the **auth request** at a specific time as detailed **[Access Token Request API](<https://upstox.com/developer/api-documentation/access-token-request#request>)**. 
  2. When notified on your mobile, approve the authentication by either: 
     * Clicking the link in the notification 
     * Visiting **[Upstox Developer Apps](<https://account.upstox.com/developer/apps>)** and approving the request 
  3. Once approved, the access token is delivered to the **notifier URL** set during app creation. 
  4. Ensure your app **listens on the notifier URL** and stores the token for further use.



For more details on implementation and usage, please refer to the [Access Token Request Documentation](<https://upstox.com/developer/api-documentation/access-token-request>).

## Manual Token Generation[â€‹](<https://upstox.com/developer/api-documentation/authentication/#manual-token-generation> "Direct link to heading")

If your app is a small utility where manual input is feasible, you can generate an access token directly: 

  * Visit [Upstox Developer Apps](<https://account.upstox.com/developer/apps>), click on the app you've created. 
  * Click **Generate** to create a new access token 
  * Copy the generated token and use it in your app 



This is ideal for one-time or occasional API usage where automation isnâ€™t required. 

  


## Extended Token[â€‹](<https://upstox.com/developer/api-documentation/authentication/#extended-token> "Direct link to heading")

Upstox APIs now support the generation of an extended token in addition to the standard access token.

An extended token is designed for long-term use, primarily for read-only API calls. It remains valid for one year from the date it is generated, or until the user revokes access to their account from pro.upstox.com, whichever occurs first. This token allows access to specific user trade data. Below is a list of APIs that can be utilized with the extended token:

#### Supported APIs[â€‹](<https://upstox.com/developer/api-documentation/authentication/#supported-apis> "Direct link to heading")

  * [Get Positions](<https://upstox.com/developer/api-documentation/get-positions>)
  * [Get Holdings](<https://upstox.com/developer/api-documentation/get-holdings>)
  * [Get Order Details](<https://upstox.com/developer/api-documentation/get-order-details>)
  * [Get Order History](<https://upstox.com/developer/api-documentation/get-order-history>)
  * [Get Order Book](<https://upstox.com/developer/api-documentation/get-order-book>)



Enroll for Extended Token

Extended tokens are available for multi-client applications upon request. If your app requires an extended token, please reach out to our support team for enrollment and further assistance.


---
# Source: https://upstox.com/developer/api-documentation/request-response
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * API Structure



# API Structure

## [description Request StructureOverview of the request structure.](<https://upstox.com/developer/api-documentation/request-structure>)## [description Response StructureOverview of the response structure.](<https://upstox.com/developer/api-documentation/response-structure>)## [description Error CodesDescription of the error codes.](<https://upstox.com/developer/api-documentation/error-codes>)


---
# Source: https://upstox.com/developer/api-documentation/request-structure
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [API Structure](<https://upstox.com/developer/api-documentation/request-response>)
  * Request Structure



# Request Structure

Use the following structure to make requests to the Upstox API:
    
    
    curl -X [API_METHOD] \  
        'https://api.upstox.com/v2/[API_ENDPOINT]' \  
        -H 'accept: application/json' \  
        -H 'Authorization: Bearer [YOUR_ACCESS_TOKEN]' \  
        [CONTENT_TYPE_HEADER] \  
        [REQUEST_PAYLOAD]  
    

Placeholders:

Name| Description  
---|---  
[API_METHOD]| The HTTP method for your request (e.g., GET, POST, PUT, DELETE).  
[API_ENDPOINT]| The specific endpoint you're targeting (e.g., /user/profile, /order/place).  
[YOUR_ACCESS_TOKEN]| Your personal access token for authentication.  
[CONTENT_TYPE_HEADER]| Include -H `Content-Type: application/json` for requests that send a JSON payload. Include -H `Content-Type: application/x-www-form-urlencoded` for requests that send data in key-value pair format. Omit for other requests.  
[REQUEST_PAYLOAD]| For POST and PUT methods that send data, use `-d '[YOUR_JSON_DATA]'`. Omit for other methods.  
  


Note

All API requests must be encoded using the **Standard URL Encoding** \- Encodes special characters and non-ASCII characters using the percent sign and two hexadecimal digits.


---
# Source: https://upstox.com/developer/api-documentation/response-structure
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [API Structure](<https://upstox.com/developer/api-documentation/request-response>)
  * Response Structure



On this page

# Response Structure

## Success response[â€‹](<https://upstox.com/developer/api-documentation/response-structure/#success-response> "Direct link to heading")

### Single Object Response Structure[â€‹](<https://upstox.com/developer/api-documentation/response-structure/#single-object-response-structure> "Direct link to heading")

Used for endpoints that return a single object, like `/order/place` and `/user/profile`.
    
    
    {  
        "status": "success",  
        "data": {  
          "key1": "value1",  
          "key2": "value2",  
          ...  
        }  
    }  
    

### Multiple Object Response Structure[â€‹](<https://upstox.com/developer/api-documentation/response-structure/#multiple-object-response-structure> "Direct link to heading")

Used for endpoints that return a multiple object, like `/user/get-funds-and-margin`
    
    
    {  
        "status": "success",  
        "data": [  
          {  
            "key1": "value1",  
            "key2": "value2",  
            ...  
          },  
          {  
            "key1": "value1",  
            "key2": "value2",  
            ...  
          }  
        ]  
    }    
    

Properties:

Property| Description  
---|---  
status| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| `Single` An object holding the response content with various key-value pairs.  
`Multiple` An array containing the main content of the response. Each element of the array is an object with various key-value pairs.  
  
## Error response[â€‹](<https://upstox.com/developer/api-documentation/response-structure/#error-response> "Direct link to heading")
    
    
    {  
      "status": "error",  
      "errors": [  
        {  
          "error_code": "string",  
          "message": "string",  
          "property_path": null,  
          "invalid_value": null  
        }  
      ]  
    }  
    

Properties:

Property| Description  
---|---  
status| A string indicating the outcome of the request. In this context, the term `error` represents a failure in the operation.  
errors| An array containing the main content of the error response.  
error_code| A specific error. Refer to the "Error Code" section for explanations.  
message| Descriptive error message.  
property_path| Indicates which part of the request triggered the error. It can be null.  
invalid_value| Shows the value causing the error. It can be null.  
  
Notice of Deprecation

The camelCase fields (`errorCode`, `propertyPath`, and `invalidValue`) are deprecated and will be removed in future versions. Use the snake_case versions for consistency.


---
# Source: https://upstox.com/developer/api-documentation/error-codes
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [API Structure](<https://upstox.com/developer/api-documentation/request-response>)
  * Error Codes



On this page

# Error Codes

## HTTP error codes[â€‹](<https://upstox.com/developer/api-documentation/error-codes/#http-error-codes> "Direct link to heading")

Error code| Description  
---|---  
`400` Bad Request| Your request parameters are incorrect.  
`401` Unauthorized| Your API key is wrong or missing.  
`403` Forbidden| The requested resource is hidden for administrators only.  
`404` Not Found| The specified resource could not be found.  
`405` Method Not Allowed| You tried to access a resource with an invalid method.  
`406` Not Acceptable| You requested a format that isnâ€™t json.  
`410` Gone| The resource requested has been removed from our servers.  
`429` Too Many Requests| Youâ€™re requesting too many resources! Slow down!  
`500` Internal Server Error| We had a problem with our server. Please try again later.  
`503` Service Unavailable| Weâ€™re temporarily offline for maintenance. Please try again later.  
  


## Common API error codes[â€‹](<https://upstox.com/developer/api-documentation/error-codes/#common-api-error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI10000| **This request is not supported by Upstox API** \- This error is thrown when the API call is not recognized or valid, possibly due to incorrect URL formatting or the presence of unexpected characters in the URL.  
UDAPI100016| **Invalid Credentials** \- Thrown when one of the credentials you've passed to this API is invalid.  
UDAPI10005| **Too Many Request Sent** \- Thrown when you've exceeded the Rate limits for the API.  
UDAPI100015| **API Version does not exist** \- Thrown when API version isn't part of the Header attributes.  
UDAPI100050| **Invalid token used to access API** \- Thrown when an invalid token is used to access the API.  
UDAPI100067| **The API you are trying to access is not permitted with an extended_token** \- Thrown when trying to access an API that is not allowed with an extended_token.  
UDAPI100036| **Invalid Input** \- Thrown when an invalid input is passed to the API.  
UDAPI100038| **Invalid input passed to the API** \- Thrown when an invalid input is passed to the API.  
UDAPI100073| **Your 'client_id' is inactive.** \- Thrown when the `client_id` is not active. Please contact the support team for further assistance.  
UDAPI100500| **Something went wrong... please contact us** \- An unexpected error occurred. Please contact support.  
  
Error codes specific to each API are detailed in the **4XX** response section within their respective documentation.


---
# Source: https://upstox.com/developer/api-documentation/rate-limiting
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * Rate Limits



On this page

# Rate Limits

In our pursuit of offering a consistent and reliable service, we've established rate limits for our API interactions. These constraints, detailed below, are designed to prevent system overloads and ensure equitable access to all our users. The rate limits are enforced on a per-API, per-user basis.

### Order Placement and Other Standard APIs[â€‹](<https://upstox.com/developer/api-documentation/rate-limiting/#order-placement-and-other-standard-apis> "Direct link to heading")

Time duration| Request limit  
---|---  
Per second| 50 requests  
Per minute| 500 requests  
Per 30 minutes| 2000 requests  
  


### Multi-Order APIs (Place, Cancel, and Exit Positions)[â€‹](<https://upstox.com/developer/api-documentation/rate-limiting/#multi-order-apis-place-cancel-and-exit-positions> "Direct link to heading")

Time duration| Request limit  
---|---  
Per second| 4 request  
Per minute| 40 requests  
Per 30 minutes| 160 requests  
  
NOTE

Please adhere to these limits to avoid potential disruptions in service. Exceeding these limits might result in temporary suspension of access.


---
# Source: https://upstox.com/developer/api-documentation/sdk
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * SDK



# SDK

## [description What's an SDK?Discover how the Upstox SDK streamlines your API integration journey with less complexity and minimal maintenance overhead.](<https://upstox.com/developer/api-documentation/what-is-an-sdk>)## [description PrerequisitesEnsure you have API access, and the supported programming environment, to start integrating with the SDK seamlessly.](<https://upstox.com/developer/api-documentation/prerequisites-for-an-sdk>)## [description Installing the Upstox SDKLearn how to install the Upstox SDK and required dependencies for seamless integration.](<https://upstox.com/developer/api-documentation/installing-sdk>)## [description Build using SandboxLearn how to use Upstox Sandbox Mode for testing and development before going live.](<https://upstox.com/developer/api-documentation/build-using-sandbox>)


---
# Source: https://upstox.com/developer/api-documentation/what-is-an-sdk
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [SDK](<https://upstox.com/developer/api-documentation/sdk>)
  * What's an SDK?



On this page

# What's an SDK?

An SDK (Software Development Kit) is a simplified set of tools, libraries, and best practices designed to help you access and use an API without needing deep technical expertise. Think of it as a ready-made toolkit where most of the heavy lifting is already handled for you. Instead of worrying about complex integrations and low-level details, you can simply follow the SDKâ€™s methods and guidelines.

## Why Use the Upstox SDK?[â€‹](<https://upstox.com/developer/api-documentation/what-is-an-sdk/#why-use-the-upstox-sdk> "Direct link to heading")

By using the Upstox SDK, you:

  * **Eliminate Excess Complexity:** No need to be a tech pro to integrate with Upstox. The SDK streamlines API calls so you can focus on leveraging the data rather than decoding technical specs.
  * **Save Time and Effort:** Common tasks like authentication, managing requests, and handling responses are built-in. You spend less time coding and more time on business logic.
  * **Reduce Errors:** Predefined functions and data structures help ensure youâ€™re making valid calls, limiting the chance of mistakes.
  * **Stay Current with Minimal Effort:** As the Upstox team updates or improves the SDK, you just upgrade the libraryâ€”no deep code changes needed.



## Who Should Use an SDK[â€‹](<https://upstox.com/developer/api-documentation/what-is-an-sdk/#who-should-use-an-sdk> "Direct link to heading")

The Upstox SDK is best suited for developers or teams who want a quick, hassle-free way to integrate with Upstox, without needing in-depth technical knowledge. Itâ€™s especially useful for those who donâ€™t require granular control over each API call and prefer a more guided approachâ€”where common tasks such as authentication, error handling, and data formatting are already handled by the SDK. This makes it ideal for smaller projects, businesses with limited technical resources, and any scenario where simplicity and speed of implementation take priority.

  


## Advantages Over Using the API Alone[â€‹](<https://upstox.com/developer/api-documentation/what-is-an-sdk/#advantages-over-using-the-api-alone> "Direct link to heading")

  1. **Automatic Handling of Deprecations:**

     * When a field is changed or deprecated in the API, the Upstox team updates the SDK accordingly. 
     * You just upgrade to the latest version of the SDK, and your integration remains intact. 
     * Without the SDK, youâ€™d need to make potentially significant changes in your code whenever the API is updated.
  2. **Ongoing Performance Improvements:**

     * Our team continually refines the SDK for efficiency and reliability. 
     * By updating the SDK, you automatically benefit from these performance boosts.
  3. **Centralized Support and Documentation:**

     * Having one comprehensive source for instructions, release notes, and troubleshooting tips helps you quickly find what you need.
     * Consolidated support makes it easier to resolve any issues, as the SDK is maintained by a dedicated team.



Overall, using the Upstox SDK means you can confidently build, maintain, and scale your application with minimal hassleâ€”keeping your integration smooth and your focus on growing your business.


---
# Source: https://upstox.com/developer/api-documentation/prerequisites-for-an-sdk
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [SDK](<https://upstox.com/developer/api-documentation/sdk>)
  * Prerequisites



On this page

# Prerequisites

Before using the Upstox SDK, you need to complete two key steps: 

#### 1\. Procuring API Credentials[â€‹](<https://upstox.com/developer/api-documentation/prerequisites-for-an-sdk/#1-procuring-api-credentials> "Direct link to heading")

To access the Upstox API, you must create an app and obtain an **API Key** and **API Secret**. Follow the instructions in the official Upstox documentation to create an app and retrieve your credentials: 

ðŸ”— [Upstox API App Creation Guide](<https://upstox.com/help-center/258159/>)

#### 2\. Setting Up Your Development Environment[â€‹](<https://upstox.com/developer/api-documentation/prerequisites-for-an-sdk/#2-setting-up-your-development-environment> "Direct link to heading")

Depending on your preferred programming language, follow the setup process below to prepare your environment for SDK integration. 

### Python Environment Setup[â€‹](<https://upstox.com/developer/api-documentation/prerequisites-for-an-sdk/#python-environment-setup> "Direct link to heading")

  1. **Install Python** (if not installed) â€“ Download and install from [python.org](<https://www.python.org/downloads/>). 
  2. **Set up a Virtual Environment (Recommended)** : 
         
         python -m venv upstox_env  
         source upstox_env/bin/activate  # Mac/Linux  
         upstox_env\Scripts\activate     # Windows  
         

  3. **Ensure`pip` is up to date**: 
         
         python -m pip install --upgrade pip  
         

  4. **Proceed to SDK installation in the next section**



### Node.js Environment Setup[â€‹](<https://upstox.com/developer/api-documentation/prerequisites-for-an-sdk/#nodejs-environment-setup> "Direct link to heading")

  1. **Install Node.js** â€“ Download and install from [nodejs.org](<https://nodejs.org/>). 
  2. **Verify installation** : 
         
         node -v  
         npm -v  
         

  3. **Initialize a new Node.js project (optional but recommended)** : 
         
         mkdir upstox-sdk && cd upstox-sdk  
         npm init -y  
         

  4. **Proceed to SDK installation in the next section**



### Java Environment Setup[â€‹](<https://upstox.com/developer/api-documentation/prerequisites-for-an-sdk/#java-environment-setup> "Direct link to heading")

  1. **Install Java (JDK 11 or later)** â€“ Download from [Adoptium](<https://adoptium.net/>) or [Oracle](<https://www.oracle.com/java/technologies/javase-downloads.html>). 
  2. **Set up environment variables (if needed)** : 
     * Add `JAVA_HOME` to your system variables 
     * Ensure `java` and `javac` are accessible via CLI: 
           
           java -version  
           javac -version  
           

  3. **Set up Maven or Gradle (Recommended for dependency management)** : 
     * [Maven Setup Guide](<https://maven.apache.org/install.html>)
     * [Gradle Setup Guide](<https://gradle.org/install/>)
  4. **Proceed to SDK installation in the next section**



### PHP Environment Setup[â€‹](<https://upstox.com/developer/api-documentation/prerequisites-for-an-sdk/#php-environment-setup> "Direct link to heading")

  1. **Install PHP** â€“ Download and install from [php.net](<https://www.php.net/downloads>). 
  2. **Verify PHP installation** : 
         
         php -v  
         

  3. **Install Composer (Dependency Manager for PHP)** : 
     * Download and install from [getcomposer.org](<https://getcomposer.org/>). 
     * Verify installation: 
           
           composer -v  
           

  4. **Proceed to SDK installation in the next section**



With your development environment set up, youâ€™re now ready to install and integrate the Upstox SDK in your chosen language! ðŸš€


---
# Source: https://upstox.com/developer/api-documentation/installing-sdk
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [SDK](<https://upstox.com/developer/api-documentation/sdk>)
  * Installing the Upstox SDK



On this page

# Installing the Upstox SDK

With your environment set up, the next step is to install the Upstox SDK along with any required dependencies. Follow the instructions for your preferred language to ensure a smooth setup and integration.

### Python[â€‹](<https://upstox.com/developer/api-documentation/installing-sdk/#python> "Direct link to heading")

**Repository Links:**

  * GitHub: <https://github.com/upstox/upstox-python>
  * PIP: <https://pypi.org/project/upstox-python-sdk/>



**Installation:**
    
    
     pip install --upgrade upstox-python-sdk  
    

  


### Node.js[â€‹](<https://upstox.com/developer/api-documentation/installing-sdk/#nodejs> "Direct link to heading")

**Repository Links:**

  * GitHub: <https://github.com/upstox/upstox-nodejs>
  * NPM: <https://www.npmjs.com/package/upstox-js-sdk>



**Installation:**
    
    
     npm install upstox-js-sdk --save  
    

  


### Java[â€‹](<https://upstox.com/developer/api-documentation/installing-sdk/#java> "Direct link to heading")

**Repository Links:**

  * GitHub: <https://github.com/upstox/upstox-java>
  * Maven Central: <https://mvnrepository.com/artifact/com.upstox.api/upstox-java-sdk>



**Installation:**

**Maven** â€“ Add this to your `pom.xml`:
    
    
    <dependency>  
      <groupId>com.upstox.api</groupId>  
      <artifactId>upstox-java-sdk</artifactId>  
      <version>LATEST</version>  
      <scope>compile</scope>  
    </dependency>  
    

**Gradle** â€“ Add this to your `build.gradle`:
    
    
    implementation "com.upstox.api:upstox-java-sdk:+"  
    

  


### PHP[â€‹](<https://upstox.com/developer/api-documentation/installing-sdk/#php> "Direct link to heading")

**Repository Links:**

  * GitHub: <https://github.com/upstox/upstox-php>
  * Composer: <https://packagist.org/packages/upstox/upstox-php-sdk>



**Installation:**
    
    
     composer require upstox/upstox-php-sdk  
    


---
# Source: https://upstox.com/developer/api-documentation/build-using-sandbox
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [SDK](<https://upstox.com/developer/api-documentation/sdk>)
  * Build using Sandbox



On this page

# Building with Sandbox Mode

We recommend using **Sandbox Mode** for building and testing your apps, as it offers greater flexibility bypassing trading window limitations. This allows for seamless testing without real-market constraints. 

ðŸ”— Learn more about sandbox benefits: [Sandbox Documentation](<https://upstox.com/developer/api-documentation/sandbox>)

### Steps to Use Sandbox Mode in the SDK[â€‹](<https://upstox.com/developer/api-documentation/build-using-sandbox/#steps-to-use-sandbox-mode-in-the-sdk> "Direct link to heading")

#### Step 1: Create a Sandbox Access Token[â€‹](<https://upstox.com/developer/api-documentation/build-using-sandbox/#step-1-create-a-sandbox-access-token> "Direct link to heading")

To use the sandbox environment, you must first create a sandbox app. If you havenâ€™t created one yet, follow the instructions to set up your app and generate a sandbox access token. 

ðŸ”— Create a Sandbox App & Generate Token: [Sandbox Access Token Guide](<https://upstox.com/developer/api-documentation/sandbox#create-a-sandbox-app-and-generate-a-token>)

#### Step 2: Initialize a Sandbox Instance[â€‹](<https://upstox.com/developer/api-documentation/build-using-sandbox/#step-2-initialize-a-sandbox-instance> "Direct link to heading")

Once you have the sandbox access token, you can create a sandbox instance in your preferred programming language. For SDK users, switching between sandbox and live mode is effortless - just toggle a configuration setting.

  * Python SDK
  * Node.js SDK
  * Java SDK
  * PHP SDK


    
    
    configuration = upstox_client.Configuration(sandbox=True)  
    configuration.access_token = 'SANDBOX_ACCESS_TOKEN'  
    
    
    
    let sandboxClient = new UpstoxClient.ApiClient(true);  
    sandboxClient.authentications["OAUTH2"].accessToken = "SANDBOX_ACCESS_TOKEN";  
    
    
    
    boolean sandbox = true;  
    ApiClient sandboxClient = new ApiClient(sandbox);  
    OAuth OAUTH2 = (OAuth) sandboxClient.getAuthentication("OAUTH2");  
    OAUTH2.setAccessToken("SANDBOX_ACCESS_TOKEN");  
    Configuration.setDefaultApiClient(sandboxClient);  
    
    
    
    $config = Upstox\Client\Configuration::getDefaultConfiguration(sandbox:true)->setAccessToken("SANDBOX_ACCESS_TOKEN");  
    

  


#### Complete example to Place an Order in Sandbox Mode[â€‹](<https://upstox.com/developer/api-documentation/build-using-sandbox/#complete-example-to-place-an-order-in-sandbox-mode> "Direct link to heading")

  * Python SDK
  * Node.js SDK
  * Java SDK
  * PHP SDK


    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration(sandbox=True)  
    configuration.access_token = 'SANDBOX_ACCESS_TOKEN'  
      
    api_instance = upstox_client.OrderApiV3(upstox_client.ApiClient(configuration))  
    body = upstox_client.PlaceOrderV3Request(quantity=1, product="D",validity="DAY", price=9.12, tag="string", instrument_token="NSE_EQ|INE669E01016", order_type="LIMIT",  
                                             transaction_type="BUY", disclosed_quantity=0, trigger_price=0.0, is_amo=True, slice=True)  
      
    try:  
        api_response = api_instance.place_order(body)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->place_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require("upstox-js-sdk");  
    let sandboxClient = new UpstoxClient.ApiClient(true);  
    sandboxClient.authentications["OAUTH2"].accessToken = "SANDBOX_ACCESS_TOKEN";  
      
      
    let apiInstance = new UpstoxClient.OrderApiV3();  
    let body = new UpstoxClient.PlaceOrderV3Request(1,UpstoxClient.PlaceOrderV3Request.ProductEnum.D,  
        UpstoxClient.PlaceOrderV3Request.ValidityEnum.DAY, 0,"NSE_EQ|INE528G01035",UpstoxClient.PlaceOrderV3Request.OrderTypeEnum.MARKET,  
        UpstoxClient.PlaceOrderV3Request.TransactionTypeEnum.BUY,0,0,true);  
    let opt = {"slice": true}  
    apiInstance.placeOrder(body, opt, (error, data, response) => {  
      if (error) {  
        console.log("error->" + JSON.stringify(error));  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OrderApiV3;  
    public class Main{  
        public static void main(String[] args) {  
            boolean sandbox = true;  
            ApiClient sandboxClient = new ApiClient(sandbox);  
            OAuth OAUTH2 = (OAuth) sandboxClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("SANDBOX_ACCESS_TOKEN");  
            Configuration.setDefaultApiClient(sandboxClient);  
            OrderApiV3 orderApiV3 = new OrderApiV3();  
            PlaceOrderV3Request body = new PlaceOrderV3Request();  
            body.setQuantity(10);  
            body.setProduct(PlaceOrderV3Request.ProductEnum.D);  
            body.setValidity(PlaceOrderV3Request.ValidityEnum.DAY);  
            body.setPrice(9F);  
            body.setTag("string");  
            body.setInstrumentToken("NSE_EQ|INE669E01016");  
            body.orderType(PlaceOrderV3Request.OrderTypeEnum.LIMIT);  
            body.setTransactionType(PlaceOrderV3Request.TransactionTypeEnum.BUY);  
            body.setDisclosedQuantity(0);  
            body.setTriggerPrice(0F);  
            body.setIsAmo(false);  
            body.setSlice(true);  
            try {  
                PlaceOrderV3Response result = orderApiV3.placeOrder(body);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#placeOrder ");  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    $config = Upstox\Client\Configuration::getDefaultConfiguration(sandbox:true)->setAccessToken("SANDBOX_ACCESS_TOKEN");  
      
    $apiInstance = new Upstox\Client\Api\OrderApi(  
        new GuzzleHttp\Client(),  
        $config  
    );  
      
    $body = new \Upstox\Client\Model\PlaceOrderRequest();  
    $body->setQuantity(1);  
    $body->setProduct("D");  
    $body->setValidity("DAY");  
    $body->setPrice(0);  
    $body->setTag("string");  
    $body->setInstrumentToken("NSE_EQ|INE669E01016");  
    $body->setOrderType("MARKET");  
    $body->setTransactionType("BUY");  
    $body->setDisclosedQuantity(0);  
    $body->setTriggerPrice(0);  
    $body->setIsAmo(false);  
    try {  
        $result = $apiInstance->placeOrder($body,"2.0");  
        print($result);  
    } catch (Exception $e) {  
        print($e->getMessage());  
    }  
    

NOTE

We are actively expanding the suite of Sandbox APIs to enable seamless integration without market restrictions. This is a work in progress, and we aim to include all APIs over time. If an API is not yet available in Sandbox, please switch to live mode for full functionality.

For a list of APIs available in sandbox mode, refer to:  
ðŸ”— [Sandbox-Enabled APIs](<https://upstox.com/developer/api-documentation/sandbox#sandbox-enabled-apis>)


---
# Source: https://upstox.com/developer/api-documentation/instruments
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * Instruments



On this page

# Instruments

Note

  * The [BOD Instruments](<https://upstox.com/developer/api-documentation/instruments#json-files>) section provides a list of all instruments available at the beginning of the day.
  * The [MTF Instruments](<https://upstox.com/developer/api-documentation/instruments#mtf-instruments>) section provides the list of MTF instruments in JSON format.
  * The [MIS Instruments](<https://upstox.com/developer/api-documentation/instruments#mis-instruments>) section provides the list of MIS instruments in JSON format.
  * The [Suspended instruments](<https://upstox.com/developer/api-documentation/instruments#suspended-instruments>) section provides the list of Suspended instruments in JSON format.



Recommendations

  * Use `instrument_key` for uniquely identifying instruments, as it remains unique for each instrument. Conversely, `exchange_token` may be reused by the exchange for a different instrument after its expiry.
  * Use Instruments data in JSON format instead of CSV, as its structure has been designed for enhanced robustness and future scalability, making programmatic processing easier.



  


## JSON files[â€‹](<https://upstox.com/developer/api-documentation/instruments/#json-files> "Direct link to heading")

These URLs provide access to the complete list of BOD contracts available for trading on Upstox in JSON format.

  * [Complete](<https://assets.upstox.com/market-quote/instruments/exchange/complete.json.gz>)
  * [NSE](<https://assets.upstox.com/market-quote/instruments/exchange/NSE.json.gz>)
  * [BSE](<https://assets.upstox.com/market-quote/instruments/exchange/BSE.json.gz>)
  * [MCX](<https://assets.upstox.com/market-quote/instruments/exchange/MCX.json.gz>)

  


## Suspended Instruments[â€‹](<https://upstox.com/developer/api-documentation/instruments/#suspended-instruments> "Direct link to heading")

This URL provides access to the list of suspended instruments that are not available for trading on Upstox.

  * [Suspended](<https://assets.upstox.com/market-quote/instruments/exchange/suspended-instrument.json.gz>)

  


## MTF Instruments[â€‹](<https://upstox.com/developer/api-documentation/instruments/#mtf-instruments> "Direct link to heading")

This URL provides access to the list of instruments that are available for Margin Trading Facility (MTF) on Upstox.

  * [MTF](<https://assets.upstox.com/market-quote/instruments/exchange/MTF.json.gz>)

  


## MIS Instruments[â€‹](<https://upstox.com/developer/api-documentation/instruments/#mis-instruments> "Direct link to heading")

This URL provides access to the list of instruments that are available for Margin Intraday Square-off (MIS) on Upstox.

  * [NSE](<https://assets.upstox.com/market-quote/instruments/exchange/NSE_MIS.json.gz>)
  * [BSE](<https://assets.upstox.com/market-quote/instruments/exchange/BSE_MIS.json.gz>)

  


### Sample JSON Object[â€‹](<https://upstox.com/developer/api-documentation/instruments/#sample-json-object> "Direct link to heading")

Note

  * The first four tabs (EQ, Futures, Options, and Index) are all included in the [BOD json file](<https://upstox.com/developer/api-documentation/instruments#json-files>).



  * EQ
  * Futures
  * Options
  * INDEX
  * Suspended
  * MTF
  * MIS


    
    
    {  
      "segment": "NSE_EQ",  
      "name": "JOCIL LIMITED",  
      "exchange": "NSE",  
      "isin": "INE839G01010",  
      "instrument_type": "EQ",  
      "instrument_key": "NSE_EQ|INE839G01010",  
      "lot_size": 1,  
      "freeze_quantity": 100000.0,  
      "exchange_token": "16927",  
      "tick_size": 5.0,  
      "trading_symbol": "JOCIL",  
      "short_name": "JOCIL",  
      "security_type": "NORMAL"  
    }  
    

Note

  * When you're searching for instrument keys within an instrument JSON file, you can employ the `segment` and `instrument_type` parameters to refine and narrow down the list of instrument keys. For instance, if you're looking for the instrument key for Reliance Equity, specify the `segment` as `NSE_EQ` and the `instrument_type` as `EQ`, excluding other segments and instrument types from your search criteria.



###  Field Description 

Field Name| Type| Description  
---|---|---  
segment| string| Segment to which the instrument is associated.   
Possible values: `NSE_EQ`, `NSE_INDEX`, `NSE_FO`, `NCD_FO`, `BSE_EQ`, `BSE_INDEX`, `BSE_FO`, `BCD_FO`, `MCX_FO`, `NSE_COM`  
name| string| The name of the equity.  
exchange| string| Exchange to which the instrument is associated.   
Possible values: `NSE`, `BSE`, `MCX`  
isin| string| The International Securities Identification Number.  
instrument_type| string| The instrument types for NSE are present at [NSE India](<https://www.nseindia.com/market-data/legend-of-series>) and for BSE are present at [BSE India](<https://www.bseindia.com/markets/equity/EQReports/tra_trading.aspx>).  
instrument_key| string| The unique identifier used across Upstox APIs for instrument identification. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
lot_size| number| The size of one lot of the equity.  
freeze_quantity| number| The maximum quantity that can be frozen.  
exchange_token| string| The exchange-specific token for the equity.  
tick_size| number| The minimum price movement of the equity.  
trading_symbol| string| Trading symbol of the instrument.  
short_name| string| A shorter or abbreviated name of the equity.  
security_type| string| Identifies the classification or status of a security within the market. Valid security types can be found in the [Security Type Appendix](<https://upstox.com/developer/api-documentation/appendix/equity-security-type>)  
      
    
    {  
      "weekly": false,  
      "segment": "NSE_FO",  
      "name": "071NSETEST",  
      "exchange": "NSE",  
      "expiry": 2111423399000,  
      "instrument_type": "FUT",  
      "underlying_symbol": "071NSETEST",  
      "instrument_key": "NSE_FO|36702",  
      "lot_size": 50,  
      "freeze_quantity": 100000.0,  
      "exchange_token": "36702",  
      "minimum_lot": 50,  
      "underlying_key": "NSE_EQ|DUMMYSAN011",  
      "tick_size": 5.0,  
      "underlying_type": "EQUITY",  
      "trading_symbol": "071NSETEST FUT 27 NOV 36",  
      "strike_price": 0.0  
    }  
    

Note

  * When you're searching for instrument keys within an instrument JSON file, you can employ the `segment` and `instrument_type` parameters to refine and narrow down the list of instrument keys. For instance, if you're looking for the instrument key for Reliance Future, specify the `segment` as `NSE_FO` and the `instrument_type` as `FUT`, excluding other segments and instrument types from your search criteria.



###  Field Description 

Field Name| Type| Description  
---|---|---  
weekly| boolean| Indicates if the future is weekly.  
segment| string| Segment to which the instrument is associated. Possible values: `NSE_EQ`, `NSE_INDEX`, `NSE_FO`, `NCD_FO`, `BSE_EQ`, `BSE_INDEX`, `BSE_FO`, `BCD_FO`, `MCX_FO`, `NSE_COM`  
name| string| The name of the future.  
exchange| string| Exchange to which the instrument is associated. Possible values: `NSE`, `BSE`, `MCX`  
expiry| date| The expiry date of the future.  
instrument_type| string| The type of the future instrument. Possible values: `FUT`  
underlying_symbol| string| The symbol of the underlying asset.  
instrument_key| string| The unique identifier used across Upstox APIs for instrument identification. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
lot_size| number| The size of one lot of the future.  
freeze_quantity| number| The maximum quantity that can be frozen.  
exchange_token| string| The exchange-specific token for the future.  
minimum_lot| number| The minimum lot size for the future.  
underlying_key| string| The `instrument_key` for the underlying asset.  
tick_size| number| The minimum price movement of the future.  
underlying_type| string| The type of the underlying asset. Possible values: `COM`, `INDEX`, `EQUITY`, `CUR`, `IRD`  
trading_symbol| string| The symbol used for trading the future. Format: `<underlying_symbol> FUT <expiry in dd MMM yy>`  
      
    
    {  
      "weekly": false,  
      "segment": "NSE_FO",  
      "name": "VODAFONE IDEA LIMITED",  
      "exchange": "NSE",  
      "expiry": 1706207399000,  
      "instrument_type": "CE",  
      "underlying_symbol": "IDEA",  
      "instrument_key": "NSE_FO|36708",  
      "lot_size": 80000,  
      "freeze_quantity": 1600000.0,  
      "exchange_token": "36708",  
      "minimum_lot": 80000,  
      "underlying_key": "NSE_EQ|INE669E01016",  
      "tick_size": 5.0,  
      "underlying_type": "EQUITY",  
      "trading_symbol": "IDEA 22 CE 25 JAN 24",  
      "strike_price": 22.0  
    }  
    

Note

  * When you're searching for instrument keys within an instrument JSON file, you can employ the `segment` and `instrument_type` parameters to refine and narrow down the list of instrument keys. For instance, if you're looking for the instrument key for Reliance Call Option, specify the `segment` as `NSE_FO` and the `instrument_type` as `CE`, excluding other segments and instrument types from your search criteria. If you want to search for Put Option then set `instrument_type` as `PE`.



###  Field Description 

Field Name| Type| Description  
---|---|---  
weekly| boolean| Indicates if the option is weekly.  
segment| string| The market segment of the option. Possible values: `NSE_EQ`, `NSE_INDEX`, `NSE_FO`, `NCD_FO`, `BSE_EQ`, `BSE_INDEX`, `BSE_FO`, `BCD_FO`, `MCX_FO`, `NSE_COM`  
name| string| The name of the option.  
exchange| string| Exchange to which the instrument is associated. Possible values: `NSE`, `BSE`, `MCX`  
expiry| date| The expiry date of the option.  
instrument_type| string| The type of the option instrument. Possible values: `CE`, `PE`  
underlying_symbol| string| The symbol of the underlying asset.  
instrument_key| string| The unique identifier used across Upstox APIs for instrument identification. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
strike_price| number| The strike price for the option.  
lot_size| number| The size of one lot of the option.  
freeze_quantity| number| The maximum quantity that can be frozen.  
exchange_token| string| The exchange-specific token for the option.  
minimum_lot| number| The minimum lot size for the option.  
underlying_key| string| The `instrument_key` for the underlying asset.  
tick_size| number| The minimum price movement of the option.  
underlying_type| string| The type of the underlying asset. Possible values: `COM`, `INDEX`, `EQUITY`, `CUR`, `IRD`  
trading_symbol| string| The symbol used for trading the option. Format: `<underlying_symbol> <strike_price> <CE/PE> <expiry in dd MMM yy>`  
      
    
    {  
      "segment": "BSE_INDEX",  
      "name": "AUTO",  
      "exchange": "BSE",  
      "instrument_type": "INDEX",  
      "instrument_key": "BSE_INDEX|AUTO",  
      "exchange_token": "13",  
      "trading_symbol": "AUTO"  
    }  
    

Note

  * When you're searching for instrument keys within an instrument JSON file, you can employ the `segment` and `instrument_type` parameters to refine and narrow down the list of instrument keys. For instance, if you're looking for the instrument key for NSE Index, specify the `segment` as `NSE_INDEX` and the `instrument_type` as `INDEX`, excluding other segments and instrument types from your search criteria.



### Field Description[â€‹](<https://upstox.com/developer/api-documentation/instruments/#field-description> "Direct link to heading")

Field Name| Type| Description  
---|---|---  
segment| string| Segment to which the instrument is associated.   
Possible values: `NSE_EQ`, `NSE_INDEX`, `NSE_FO`, `NCD_FO`, `BSE_EQ`, `BSE_INDEX`, `BSE_FO`, `BCD_FO`, `MCX_FO`, `NSE_COM`  
name| string| The name of the index.  
exchange| string| Exchange to which the instrument is associated.   
Possible values: `NSE`, `BSE`, `MCX`  
instrument_type| string| The type of the option instrument.   
Possible values: `INDEX`  
instrument_key| string| The unique identifier used across Upstox APIs for instrument identification. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
exchange_token| number| The numerical identifier issued by the exchange representing the instrument.  
trading_symbol| string| Trading symbol for the index.  
      
    
    {  
      "segment": "NSE_EQ",  
      "name": "JOCIL LIMITED",  
      "exchange": "NSE",  
      "isin": "INE839G01010",  
      "instrument_type": "BE",  
      "instrument_key": "NSE_EQ|INE839G01010",  
      "lot_size": 1,  
      "freeze_quantity": 100000.0,  
      "exchange_token": "16931",  
      "tick_size": 1.0,  
      "trading_symbol": "JOCIL",  
      "qty_multiplier": 1.0  
    }  
    

Note

  * When you're searching for instrument keys within an instrument JSON file, you can employ the `segment` and `instrument_type` parameters to refine and narrow down the list of instrument keys. For instance, if you're looking for the instrument key for a suspended instrument, check the instrument type and segment to identify it in the suspended instruments list.



###  Field Description 

Field Name| Type| Description  
---|---|---  
segment| string| Segment to which the instrument is associated.   
Possible values: `NSE_EQ`, `NSE_INDEX`, `NSE_FO`, `NCD_FO`, `BSE_EQ`, `BSE_INDEX`, `BSE_FO`, `BCD_FO`, `MCX_FO`, `NSE_COM`  
name| string| The name of the suspended instrument.  
exchange| string| Exchange to which the instrument is associated.   
Possible values: `NSE`, `BSE`, `MCX`  
isin| string| The International Securities Identification Number.  
instrument_type| string| The instrument types for NSE are present at [NSE India](<https://www.nseindia.com/market-data/legend-of-series>)  
instrument_key| string| The unique identifier used across Upstox APIs for instrument identification. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
lot_size| number| The size of one lot of the instrument.  
freeze_quantity| number| The maximum quantity that can be frozen.  
exchange_token| string| The exchange-specific token for the instrument.  
tick_size| number| The minimum price movement of the instrument.  
trading_symbol| string| Trading symbol of the instrument.  
qty_multiplier| number| Quantity multiplier for the instrument.  
      
    
    {  
      "segment": "NSE_EQ",  
      "name": "RELIANCE INDUSTRIES LTD",  
      "exchange": "NSE",  
      "isin": "INE002A01018",  
      "instrument_type": "EQ",  
      "instrument_key": "NSE_EQ|INE002A01018",  
      "lot_size": 1,  
      "freeze_quantity": 100000.0,  
      "exchange_token": "2885",  
      "tick_size": 5.0,  
      "trading_symbol": "RELIANCE",  
      "short_name": "Reliance Industries",  
      "mtf_enabled": true,  
      "mtf_bracket": 26.5,  
      "security_type": "NORMAL"  
    }  
    

Note

  * When you're searching for instrument keys within an instrument JSON file, you can employ the `segment` and `instrument_type` parameters to refine and narrow down the list of instrument keys. For instance, if you're looking for the instrument key for Reliance Equity, specify the `segment` as `NSE_EQ` and the `instrument_type` as `EQ`, excluding other segments and instrument types from your search criteria.



###  Field Description 

Field Name| Type| Description  
---|---|---  
segment| string| Segment to which the instrument is associated.   
Possible values: `NSE_EQ`  
name| string| The name of the equity.  
exchange| string| Exchange to which the instrument is associated.   
Possible values: `NSE`  
isin| string| The International Securities Identification Number.  
instrument_type| string| The instrument types for NSE are present at [NSE India](<https://www.nseindia.com/market-data/legend-of-series>)  
instrument_key| string| The unique identifier used across Upstox APIs for instrument identification. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
lot_size| number| The size of one lot of the equity.  
freeze_quantity| number| The maximum quantity that can be frozen.  
exchange_token| string| The exchange-specific token for the equity.  
tick_size| number| The minimum price movement of the equity.  
trading_symbol| string| Trading symbol of the instrument.  
short_name| string| A shorter or abbreviated name of the equity.  
mtf_enabled| boolean| Indicates whether the MTF is enabled for this particular instrument.  
mtf_bracket| string| Represents the margin multiplier or leverage factor available for this security under MTF.  
security_type| string| Identifies the classification or status of a security within the market. Valid security types can be found in the [Security Type Appendix](<https://upstox.com/developer/api-documentation/appendix/equity-security-type>)  
      
    
    {  
      "segment": "NSE_EQ",  
      "name": "RELIANCE INDUSTRIES LTD",  
      "exchange": "NSE",  
      "isin": "INE002A01018",  
      "instrument_type": "EQ",  
      "instrument_key": "NSE_EQ|INE002A01018",  
      "lot_size": 1,  
      "freeze_quantity": 100000,  
      "exchange_token": "2885",  
      "tick_size": 10,  
      "trading_symbol": "RELIANCE",  
      "short_name": "Reliance Industries",  
      "qty_multiplier": 1,  
      "security_type": "NORMAL",  
      "intraday_margin": 20,  
      "intraday_leverage": 5  
    }  
    

Note

  * When you're searching for instrument keys within an instrument JSON file, you can employ the `segment` and `instrument_type` parameters to refine and narrow down the list of instrument keys. For instance, if you're looking for the instrument key for Reliance Equity, specify the `segment` as `NSE_EQ` and the `instrument_type` as `EQ`, excluding other segments and instrument types from your search criteria.



###  Field Description 

Field Name| Type| Description  
---|---|---  
segment| string| Segment to which the instrument is associated.   
Possible values: `NSE_EQ`  
name| string| The name of the equity.  
exchange| string| Exchange to which the instrument is associated.   
Possible values: `NSE`  
isin| string| The International Securities Identification Number.  
instrument_type| string| The instrument types for NSE are present at [NSE India](<https://www.nseindia.com/market-data/legend-of-series>)  
instrument_key| string| The unique identifier used across Upstox APIs for instrument identification. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
lot_size| number| The size of one lot of the equity.  
freeze_quantity| number| The maximum quantity that can be frozen.  
exchange_token| string| The exchange-specific token for the equity.  
tick_size| number| The minimum price movement of the equity.  
trading_symbol| string| Trading symbol of the instrument.  
short_name| string| A shorter or abbreviated name of the equity.  
security_type| string| Identifies the classification or status of a security within the market. Valid security types can be found in the [Security Type Appendix](<https://upstox.com/developer/api-documentation/appendix/equity-security-type>)  
intraday_margin| number| Percentage of LTP at which you can buy the stock for intraday trades.  
intraday_leverage| number| Factor by which your trading capacity is increased for intraday trades.  
  
  


Note

  * The files undergo daily refresh at around 6 AM, and they are only refreshed as needed during the day, which is a seldom occurrence.
  * The BOD instrument for the next trading day will not include delisted stocks or expired contracts.



  


Deprecation Notice

  * **The CSV format for instruments files is being deprecated.** Switch to the JSON format for improved performance. Details at [CSV Instruments File Deprecation Notice](<https://upstox.com/developer/api-documentation/announcements/instruments-csv-deprecation-notice>).



## CSV Files Deprecated[â€‹](<https://upstox.com/developer/api-documentation/instruments/#csv-files-deprecated> "Direct link to heading")

These URLs provide access to the complete list of BOD contracts available for trading on Upstox in CSV format.

  * [Complete](<https://assets.upstox.com/market-quote/instruments/exchange/complete.csv.gz>)
  * [NSE](<https://assets.upstox.com/market-quote/instruments/exchange/NSE.csv.gz>)
  * [BSE](<https://assets.upstox.com/market-quote/instruments/exchange/BSE.csv.gz>)
  * [MCX](<https://assets.upstox.com/market-quote/instruments/exchange/MCX.csv.gz>)

  


### Sample CSV Record[â€‹](<https://upstox.com/developer/api-documentation/instruments/#sample-csv-record> "Direct link to heading")

instrument_key| exchange_token| tradingsymbol| name| last_price| expiry| strike| tick_size| lot_size| instrument_type| option_type| exchange  
---|---|---|---|---|---|---|---|---|---|---|---  
NSE_FO|164693| 164693| RELIANCE24JAN1840CE| RELIANCE INDUSTRIES LTD| 424.8| 2024-01-25| 1840.0| 0.05| 250| OPTSTK| CE| NSE_FO  
  
### Field Description[â€‹](<https://upstox.com/developer/api-documentation/instruments/#field-description-1> "Direct link to heading")

Name| Type| Description  
---|---|---  
instrument_key| string| The unique identifier used across Upstox APIs for instrument identification. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
exchange_token| number| The numerical identifier issued by the exchange representing the instrument.  
tradingsymbol| string| Shows the trading symbol which could be a combination of symbol name, instrument, expiry date etc. The format of this value may vary between weekly and monthly contracts, leading to inconsistencies. These inconsistencies have been resolved in the JSON version.  
name| string| Name of the company (for equity instruments).  
last_price| number| Last traded price.  
expiry| string| Expiry date (for derivatives). Data format is `yyyy-MM-dd`  
strike| number| Indicates the predetermined price at which an option can be bought or sold when it's exercised.  
tick_size| number| Measure of the minimum upward or downward movement in the price of an instrument.  
lot_size| number| Minimum size in which the stock futures or index futures can be traded.  
instrument_type| string| Instrument type of a particular contract.  
Possible values: `FUTSTK`, `OPTSTK`, `OPTIDX` etc.  
option_type| string| Option type of the option contracts (applicable only for options contract).  
Possible values: `CE`, `PE`  
exchange| string| Exchange to which the order is associated.  
Possible values: `NSE_EQ`, `NSE_FO`, `NCD_FO`, `NSE_INDEX`, `BSE_EQ`, `BSE_FO`, `BCD_FO`, `BSE_INDEX`, `MCX_FO`, `NSE_COM` etc.  
  



---
# Source: https://upstox.com/developer/api-documentation/expired-instruments
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * Expired Instruments



# Expired Instruments

## [description Get ExpiriesGet all the expiries for an underlying instrument.](<https://upstox.com/developer/api-documentation/get-expiries>)## [description Get Expired Option ContractsGet all the expired option contracts for an underlying instrument.](<https://upstox.com/developer/api-documentation/get-expired-option-contracts>)## [description Get Expired Future ContractsGet all the expired future contracts for an underlying instrument.](<https://upstox.com/developer/api-documentation/get-expired-future-contracts>)## [description Get Expired Historical Candle DataGet historical OHLC values for expired contracts.](<https://upstox.com/developer/api-documentation/get-expired-historical-candle-data>)


---
# Source: https://upstox.com/developer/api-documentation/get-expiries
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Expired Instruments](<https://upstox.com/developer/api-documentation/expired-instruments>)
  * Get Expiries



## Get Expiries ![](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzkiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAzOSAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMwIDAuNzVDMzQuNTU2MyAwLjc1IDM4LjI1IDQuNDQzNjUgMzguMjUgOUMzOC4yNSAxMy41NTYzIDM0LjU1NjMgMTcuMjUgMzAgMTcuMjVIOUM0LjQ0MzY1IDE3LjI1IDAuNzUgMTMuNTU2MyAwLjc1IDlDMC43NSA0LjQ0MzY1IDQuNDQzNjUgMC43NSA5IDAuNzVIMzBaIiBmaWxsPSIjMjAyMDIwIi8+CjxwYXRoIGQ9Ik0zMCAwLjc1QzM0LjU1NjMgMC43NSAzOC4yNSA0LjQ0MzY1IDM4LjI1IDlDMzguMjUgMTMuNTU2MyAzNC41NTYzIDE3LjI1IDMwIDE3LjI1SDlDNC40NDM2NSAxNy4yNSAwLjc1IDEzLjU1NjMgMC43NSA5QzAuNzUgNC40NDM2NSA0LjQ0MzY1IDAuNzUgOSAwLjc1SDMwWiIgc3Ryb2tlPSJ1cmwoI3BhaW50MF9saW5lYXJfMjY1N180NzU2OSkiIHN0cm9rZS13aWR0aD0iMC41Ii8+CjxwYXRoIGQ9Ik0xOC41MjM5IDEwLjcyMDhDMTguNDY5OCAxMS4wNDM5IDE4LjYyNTcgMTEuMjA1MiAxOC45OTE3IDExLjIwNTJDMTkuMTY4IDExLjIwNTIgMTkuMzkxOSAxMS4xNzkyIDE5LjU4MTYgMTEuMTM0MlYxMi43NTQ1QzE5LjMxNyAxMi44Mzg3IDE4LjcwNzEgMTIuOTIzNiAxOC4wMjIzIDEyLjkyMzZDMTYuODM2IDEyLjkyMzYgMTYuMTQ0MyAxMi40MTk4IDE2LjM2NzggMTEuMDc2NUwxNy42MDcyIDQuMDcwMjlIMTkuNzAyM0wxOC41MjM5IDEwLjcyMDhaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMjIuOTg5IDYuNTkzODFMMjIuNDA2IDEwLjEwNzNDMjIuMjkwOCAxMC43OTg0IDIyLjc5OTMgMTEuMTI3NiAyMy4zMDc4IDExLjEyNzZDMjMuODE2MyAxMS4xMjc2IDI0LjQxOTYgMTAuNzk4NCAyNC41MzQ4IDEwLjEwNzNMMjUuMTI0OCA2LjU5MzgxSDI3LjIxMjlMMjYuMTgyNSAxMi43OTRIMjQuMjYzN0wyNC4yOTc1IDEyLjIwNjFDMjMuNzQ4MyAxMi43NjE0IDIyLjk0MTQgMTIuOTg3NSAyMi4xODkgMTIuOTg3NUMyMC45ODg4IDEyLjk4NzUgMTkuOTcxOCAxMi4xNjczIDIwLjIxNjEgMTAuNjg4MkwyMC44OTQgNi41OTM0TDIyLjk4OSA2LjU5MzgxWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTI5LjUzNTcgMTIuOTIzMUMyOC41OTMyIDEyLjkyMzEgMjcuNjg0NSAxMi43NjE4IDI3LjExNTQgMTIuNDk2OUwyNy4zOTEyIDEwLjg0ODJDMjcuOTYwNyAxMS4wODA5IDI5LjA0MTEgMTEuMzAyMSAyOS42MjQxIDExLjMwMjFDMzAuMzkwMyAxMS4zMDIxIDMwLjY1NDUgMTEuMTkyMyAzMC42NTQ1IDEwLjg5NTNDMzAuNjU0NSAxMC42OTUyIDMwLjQ1NzggMTAuNjA0OCAyOS44NjE0IDEwLjUwNzlMMjkuMjg0OSAxMC40MTc1QzI4LjE2NjIgMTAuMjQzIDI3LjYzNzMgOS43MzkyNSAyNy42MzczIDguODY3NDhDMjcuNjM3MyA3LjM5NSAyOC45ODY1IDYuNDY1MDUgMzAuOTQ2IDYuNDY1MDVDMzEuNzY2MyA2LjQ2NTA1IDMyLjQ5MTggNi42MDA3OSAzMy4wNjE0IDYuODY1NjdMMzIuNjQwOCA4LjQ0Nzg5QzMyLjI2MSA4LjI4NjU4IDMxLjMzODggOC4xMTg2NiAzMC43ODMxIDguMTE4NjZDMzAuMDIzOCA4LjExODY2IDI5LjY2NDMgOC4yNjA1OCAyOS42NjQzIDguNTUxNDVDMjkuNjY0MyA4Ljc1MTU1IDI5LjkxNTEgOC44NjEyOSAzMC41Nzk1IDguOTY0ODVMMzEuMTgyOSA5LjA2MTgxQzMyLjIxMzMgOS4yMjk3MiAzMi43MDg0IDkuNzIwNjkgMzIuNzA4NCAxMC41NjY1QzMyLjcwODQgMTIuMDEzIDMxLjQyNjcgMTIuOTIzOSAyOS41MzUzIDEyLjkyMzlMMjkuNTM1NyAxMi45MjMxWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTguMjE3IDkuOTQ4Mkw3LjcxMTk0IDEyLjc5NDFIOS44OTQ5MUwxMC4zMDg1IDkuODgzODRIMTIuMzkwMkMxNC41NDYzIDkuODgzODQgMTYuMDE4MyA4LjQ2MjM0IDE2LjM5MDUgNi43MTY4MUMxNi43NjI4IDQuOTcxMjkgMTUuMTgzOCA0LjAyMzUyIDEzLjQzNDQgNC4wMjM1MkgxMi41NDRDMTIuNTEyNSA0LjYyOTkxIDEyLjQ2MDYgNS4yMzQ0MyAxMi4zMTQgNS44MTI0NUgxMi45ODY2QzEzLjY5MTcgNS44MTI0NSAxNC4zMDM3IDYuMzM2MDkgMTQuMTMyNiA2LjkzNjNDMTMuOTM4MSA3LjYxODkyIDEzLjQ2ODIgOC4wOTQ5MSAxMi41MzI3IDguMDk0OTFIMTEuMDY3NUMxMC42ODEzIDguNTM1NTcgMTAuMjEzOSA4LjkzMDExIDkuNjAxOTIgOS4zMTM0MUM5LjEzNDU3IDkuNjA2MTIgOC42NzM5OSA5LjgwNTE4IDguMjE3IDkuOTQ4MloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0xMS43OTU2IDMuOTY3NzdDMTEuNzkzIDQuNzc1NTcgMTEuNjE0MyA1LjU5MTcxIDExLjI1ODggNi4zMjFDMTAuOTAzNCA3LjA1MDMgMTAuMzg3MSA3LjY5MzU3IDkuNzQ2OTMgOC4yMDQ1OEM5LjEwNjggOC43MTU2IDguMzU4NzggOS4wODE2NyA3LjU1NjY0IDkuMjc2NDdDNi43NTQ0OSA5LjQ3MTI2IDUuOTg2NDcgOS40MzEwNCA1IDkuNDMxTDUuNDM4NDMgNy4zOTU2OUM2LjIwNTY3IDcuMzk1NjkgNi41OTg1NiA3LjQwNjA5IDcuMDgyNTIgNy4yODg1N0M3LjU2NjQ4IDcuMTcxMDQgOC4wMTE1OCA2Ljk1NDE1IDguMzk3OCA2LjY0NTg0QzguNzg0MDEgNi4zMzc1MiA5LjA0MDY0IDUuODI4MjUgOS4yNTUwOCA1LjM4ODI1QzkuNDY5NTMgNC45NDgyNCA5LjU3ODUxIDQuNDU1MTQgOS41ODAwOCAzLjk2Nzc3TDExLjc5NTYgMy45Njc3N1oiIGZpbGw9IndoaXRlIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMjY1N180NzU2OSIgeDE9IjIwLjk2MDUiIHkxPSIxIiB4Mj0iMjAuOTYwNSIgeTI9IjIyLjY2NjciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0E0ODNGNCIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMxODBCMjUiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K)[â€‹](<https://upstox.com/developer/api-documentation/get-expiries/#get-expiries-> "Direct link to heading")

API to retrieve all the expiries for a given underlying instrument. This API is useful for traders and analysts who need to know all available expiry dates for a specific instrument to plan their trading strategies accordingly.   


Expiries is currently not available for the MCX. The API will retrieve the complete list of expiry dates (including weekly and monthly) for the instrument, covering up to six months of historical expiries.

### Request[â€‹](<https://upstox.com/developer/api-documentation/get-expiries/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/expired-instruments/expiries?instrument_key=NSE_INDEX%7CNifty%2050' \  
    --header 'Content-Type: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --header 'Accept: application/json'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/get-expiries/#sample-code>) on this page.

### Path Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-expiries/#path-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
instrument_key| true| string| Key of an underlying symbol. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-expiries/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": [  
        "2024-10-03",  
        "2024-10-10",  
        "2024-10-17",  
        "2024-10-24",  
        "2024-10-31",  
        "2024-11-07",  
        "2024-11-14",  
        "2024-11-21",  
        "2024-11-28",  
        "2024-12-05",  
        "2024-12-12",  
        "2024-12-19",  
        "2024-12-26",  
        "2025-01-02",  
        "2025-01-09",  
        "2025-01-16",  
        "2025-01-23",  
        "2025-01-30",  
        "2025-02-06",  
        "2025-02-13",  
        "2025-02-20",  
        "2025-02-27",  
        "2025-03-06",  
        "2025-03-13",  
        "2025-03-20",  
        "2025-03-27",  
        "2025-04-03",  
        "2025-04-09",  
        "2025-04-17"  
      ]  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| array| List of all available expiry dates in format `YYYY-MM-dd`  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/get-expiries/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI100011| **Invalid Instrument key** \- You need to provide proper instrument key for this operation.  
UDAPI1149| **This API is available exclusively with an Upstox Plus plan subscription** \- Please upgrade to the Plus plan to gain access.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-expiries/#sample-code> "Direct link to heading")

### Get Expiries for given instrument[â€‹](<https://upstox.com/developer/api-documentation/get-expiries/#get-expiries-for-given-instrument> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/expired-instruments/expiries?instrument_key=NSE_INDEX%7CNifty%2050' \  
    --header 'Content-Type: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/expired-instruments/expiries?instrument_key=NSE_INDEX%7CNifty%2050'  
    headers = {  
        'Content-Type': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/expired-instruments/expiries?instrument_key=NSE_INDEX%7CNifty%2050';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/expired-instruments/expiries?instrument_key=NSE_INDEX%7CNifty%2050";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/expired-instruments/expiries?instrument_key=NSE_INDEX%7CNifty%2050';  
      
    // Initialize cURL session  
    $curl = curl_init();  
      
    // Set cURL options  
    curl_setopt_array($curl, [  
        CURLOPT_URL => $url,  
        CURLOPT_RETURNTRANSFER => true,  
        CURLOPT_HTTPHEADER => [  
            'Content-Type: application/json',  
            'Authorization: Bearer {your_access_token}',  
            'Accept: application/json'  
        ]  
    ]);  
      
    // Execute the request  
    $response = curl_exec($curl);  
    $httpCode = curl_getinfo($curl, CURLINFO_HTTP_CODE);  
      
    // Check for errors  
    if (curl_errno($curl)) {  
        echo 'Error: ' . curl_error($curl);  
    } else if ($httpCode != 200) {  
        echo 'Error: HTTP status code ' . $httpCode;  
    } else {  
        // Process the successful response  
        echo $response;  
    }  
      
    // Close cURL session  
    curl_close($curl);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    apiInstance = upstox_client.ExpiredInstrumentApi(upstox_client.ApiClient(configuration))  
    try:  
        response = apiInstance.get_expiries("NSE_INDEX|Nifty 50")  
        print(response)  
    except ApiException as e:  
        print("Exception when calling expired instrument v3 api: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let expiredInstrumentsApiInstance = new UpstoxClient.ExpiredInstrumentApi();  
    expiredInstrumentsApiInstance.getExpiries("NSE_INDEX|Nifty 50", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log(data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import com.upstox.auth.*;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
              
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            ExpiredInstrumentApi expiredInstrumentApi = new ExpiredInstrumentApi();  
            try {  
                GetExpiriesResponse getExpiriesResponse = expiredInstrumentApi.getExpiries("NSE_INDEX|Nifty 50");  
                System.out.println(getExpiriesResponse);  
            } catch (ApiException e) {  
                System.out.println("Exception when calling ExpiredInstrumentApi#getExpiredInstruments");  
                System.out.println("Status code: " + e.getCode());  
                System.out.println("Error message: " + e.getResponseBody());  
            }  
        }  
    }  
    
    
    
    GET /expired-instruments/expiries

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

`instrument_key` â€” query **required**


---
# Source: https://upstox.com/developer/api-documentation/get-expired-option-contracts
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [ Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Expired Instruments](<https://upstox.com/developer/api-documentation/expired-instruments>)
  * Get Expired Option Contracts



## Get Expired Option Contracts ![](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzkiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAzOSAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMwIDAuNzVDMzQuNTU2MyAwLjc1IDM4LjI1IDQuNDQzNjUgMzguMjUgOUMzOC4yNSAxMy41NTYzIDM0LjU1NjMgMTcuMjUgMzAgMTcuMjVIOUM0LjQ0MzY1IDE3LjI1IDAuNzUgMTMuNTU2MyAwLjc1IDlDMC43NSA0LjQ0MzY1IDQuNDQzNjUgMC43NSA5IDAuNzVIMzBaIiBmaWxsPSIjMjAyMDIwIi8+CjxwYXRoIGQ9Ik0zMCAwLjc1QzM0LjU1NjMgMC43NSAzOC4yNSA0LjQ0MzY1IDM4LjI1IDlDMzguMjUgMTMuNTU2MyAzNC41NTYzIDE3LjI1IDMwIDE3LjI1SDlDNC40NDM2NSAxNy4yNSAwLjc1IDEzLjU1NjMgMC43NSA5QzAuNzUgNC40NDM2NSA0LjQ0MzY1IDAuNzUgOSAwLjc1SDMwWiIgc3Ryb2tlPSJ1cmwoI3BhaW50MF9saW5lYXJfMjY1N180NzU2OSkiIHN0cm9rZS13aWR0aD0iMC41Ii8+CjxwYXRoIGQ9Ik0xOC41MjM5IDEwLjcyMDhDMTguNDY5OCAxMS4wNDM5IDE4LjYyNTcgMTEuMjA1MiAxOC45OTE3IDExLjIwNTJDMTkuMTY4IDExLjIwNTIgMTkuMzkxOSAxMS4xNzkyIDE5LjU4MTYgMTEuMTM0MlYxMi43NTQ1QzE5LjMxNyAxMi44Mzg3IDE4LjcwNzEgMTIuOTIzNiAxOC4wMjIzIDEyLjkyMzZDMTYuODM2IDEyLjkyMzYgMTYuMTQ0MyAxMi40MTk4IDE2LjM2NzggMTEuMDc2NUwxNy42MDcyIDQuMDcwMjlIMTkuNzAyM0wxOC41MjM5IDEwLjcyMDhaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMjIuOTg5IDYuNTkzODFMMjIuNDA2IDEwLjEwNzNDMjIuMjkwOCAxMC43OTg0IDIyLjc5OTMgMTEuMTI3NiAyMy4zMDc4IDExLjEyNzZDMjMuODE2MyAxMS4xMjc2IDI0LjQxOTYgMTAuNzk4NCAyNC41MzQ4IDEwLjEwNzNMMjUuMTI0OCA2LjU5MzgxSDI3LjIxMjlMMjYuMTgyNSAxMi43OTRIMjQuMjYzN0wyNC4yOTc1IDEyLjIwNjFDMjMuNzQ4MyAxMi43NjE0IDIyLjk0MTQgMTIuOTg3NSAyMi4xODkgMTIuOTg3NUMyMC45ODg4IDEyLjk4NzUgMTkuOTcxOCAxMi4xNjczIDIwLjIxNjEgMTAuNjg4MkwyMC44OTQgNi41OTM0TDIyLjk4OSA2LjU5MzgxWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTI5LjUzNTcgMTIuOTIzMUMyOC41OTMyIDEyLjkyMzEgMjcuNjg0NSAxMi43NjE4IDI3LjExNTQgMTIuNDk2OUwyNy4zOTEyIDEwLjg0ODJDMjcuOTYwNyAxMS4wODA5IDI5LjA0MTEgMTEuMzAyMSAyOS42MjQxIDExLjMwMjFDMzAuMzkwMyAxMS4zMDIxIDMwLjY1NDUgMTEuMTkyMyAzMC42NTQ1IDEwLjg5NTNDMzAuNjU0NSAxMC42OTUyIDMwLjQ1NzggMTAuNjA0OCAyOS44NjE0IDEwLjUwNzlMMjkuMjg0OSAxMC40MTc1QzI4LjE2NjIgMTAuMjQzIDI3LjYzNzMgOS43MzkyNSAyNy42MzczIDguODY3NDhDMjcuNjM3MyA3LjM5NSAyOC45ODY1IDYuNDY1MDUgMzAuOTQ2IDYuNDY1MDVDMzEuNzY2MyA2LjQ2NTA1IDMyLjQ5MTggNi42MDA3OSAzMy4wNjE0IDYuODY1NjdMMzIuNjQwOCA4LjQ0Nzg5QzMyLjI2MSA4LjI4NjU4IDMxLjMzODggOC4xMTg2NiAzMC43ODMxIDguMTE4NjZDMzAuMDIzOCA4LjExODY2IDI5LjY2NDMgOC4yNjA1OCAyOS42NjQzIDguNTUxNDVDMjkuNjY0MyA4Ljc1MTU1IDI5LjkxNTEgOC44NjEyOSAzMC41Nzk1IDguOTY0ODVMMzEuMTgyOSA5LjA2MTgxQzMyLjIxMzMgOS4yMjk3MiAzMi43MDg0IDkuNzIwNjkgMzIuNzA4NCAxMC41NjY1QzMyLjcwODQgMTIuMDEzIDMxLjQyNjcgMTIuOTIzOSAyOS41MzUzIDEyLjkyMzlMMjkuNTM1NyAxMi45MjMxWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTguMjE3IDkuOTQ4Mkw3LjcxMTk0IDEyLjc5NDFIOS44OTQ5MUwxMC4zMDg1IDkuODgzODRIMTIuMzkwMkMxNC41NDYzIDkuODgzODQgMTYuMDE4MyA4LjQ2MjM0IDE2LjM5MDUgNi43MTY4MUMxNi43NjI4IDQuOTcxMjkgMTUuMTgzOCA0LjAyMzUyIDEzLjQzNDQgNC4wMjM1MkgxMi41NDRDMTIuNTEyNSA0LjYyOTkxIDEyLjQ2MDYgNS4yMzQ0MyAxMi4zMTQgNS44MTI0NUgxMi45ODY2QzEzLjY5MTcgNS44MTI0NSAxNC4zMDM3IDYuMzM2MDkgMTQuMTMyNiA2LjkzNjNDMTMuOTM4MSA3LjYxODkyIDEzLjQ2ODIgOC4wOTQ5MSAxMi41MzI3IDguMDk0OTFIMTEuMDY3NUMxMC42ODEzIDguNTM1NTcgMTAuMjEzOSA4LjkzMDExIDkuNjAxOTIgOS4zMTM0MUM5LjEzNDU3IDkuNjA2MTIgOC42NzM5OSA5LjgwNTE4IDguMjE3IDkuOTQ4MloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0xMS43OTU2IDMuOTY3NzdDMTEuNzkzIDQuNzc1NTcgMTEuNjE0MyA1LjU5MTcxIDExLjI1ODggNi4zMjFDMTAuOTAzNCA3LjA1MDMgMTAuMzg3MSA3LjY5MzU3IDkuNzQ2OTMgOC4yMDQ1OEM5LjEwNjggOC43MTU2IDguMzU4NzggOS4wODE2NyA3LjU1NjY0IDkuMjc2NDdDNi43NTQ0OSA5LjQ3MTI2IDUuOTg2NDcgOS40MzEwNCA1IDkuNDMxTDUuNDM4NDMgNy4zOTU2OUM2LjIwNTY3IDcuMzk1NjkgNi41OTg1NiA3LjQwNjA5IDcuMDgyNTIgNy4yODg1N0M3LjU2NjQ4IDcuMTcxMDQgOC4wMTE1OCA2Ljk1NDE1IDguMzk3OCA2LjY0NTg0QzguNzg0MDEgNi4zMzc1MiA5LjA0MDY0IDUuODI4MjUgOS4yNTUwOCA1LjM4ODI1QzkuNDY5NTMgNC45NDgyNCA5LjU3ODUxIDQuNDU1MTQgOS41ODAwOCAzLjk2Nzc3TDExLjc5NTYgMy45Njc3N1oiIGZpbGw9IndoaXRlIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMjY1N180NzU2OSIgeDE9IjIwLjk2MDUiIHkxPSIxIiB4Mj0iMjAuOTYwNSIgeTI9IjIyLjY2NjciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0E0ODNGNCIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMxODBCMjUiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K)[â€‹](<https://upstox.com/developer/api-documentation/get-expired-option-contracts/#get-expired-option-contracts-> "Direct link to heading")

API to retrieve expired option contracts for an underlying instrument on a specified expiry date. This API is useful for traders and analysts who want to analyze the historical performance of options and their underlying assets. By providing the instrument key and expiry date, users can obtain detailed information about the expired options, including their trading symbols, strike prices, lot sizes, and other relevant attributes.

### Request[â€‹](<https://upstox.com/developer/api-documentation/get-expired-option-contracts/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/expired-instruments/option/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-11-27' \  
    --header 'Content-Type: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --header 'Accept: application/json'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/get-expired-option-contracts/#sample-code>) on this page.

### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-expired-option-contracts/#query-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
instrument_key| true| string| Key of an underlying instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
expiry_date| true| string| Expiry date for which expired option contracts are required in format: `YYYY-MM-DD`.  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-expired-option-contracts/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": [  
        {  
          "name": "NIFTY",  
          "segment": "NSE_FO",  
          "exchange": "NSE",  
          "expiry": "2025-04-17",  
          "instrument_key": "NSE_FO|47983|17-04-2025",  
          "exchange_token": "47983",  
          "trading_symbol": "NIFTY 20400 PE 17 APR 25",  
          "tick_size": 5,  
          "lot_size": 75,  
          "instrument_type": "PE",  
          "freeze_quantity": 1800,  
          "underlying_key": "NSE_INDEX|Nifty 50",  
          "underlying_type": "INDEX",  
          "underlying_symbol": "NIFTY",  
          "strike_price": 20400,  
          "minimum_lot": 75,  
          "weekly": true  
        },  
        {  
          "name": "NIFTY",  
          "segment": "NSE_FO",  
          "exchange": "NSE",  
          "expiry": "2025-04-17",  
          "instrument_key": "NSE_FO|47982|17-04-2025",  
          "exchange_token": "47982",  
          "trading_symbol": "NIFTY 20400 CE 17 APR 25",  
          "tick_size": 5,  
          "lot_size": 75,  
          "instrument_type": "CE",  
          "freeze_quantity": 1800,  
          "underlying_key": "NSE_INDEX|Nifty 50",  
          "underlying_type": "INDEX",  
          "underlying_symbol": "NIFTY",  
          "strike_price": 20400,  
          "minimum_lot": 75,  
          "weekly": true  
        }  
      ]  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Data object for expired option contracts.  
data[].name| string| The name of the option.  
data[].segment| string| The market segment of the option.   
Possible values: `NSE_EQ`, `NSE_INDEX`, `NSE_FO`, `NCD_FO`, `BSE_EQ`, `BSE_INDEX`, `BSE_FO`, `BCD_FO`, `MCX_FO`, `NSE_COM`  
data[].exchange| string| Exchange to which the instrument is associated.   
Possible values: `NSE`, `BSE`, `MCX`.  
data[].expiry| string| Expiry date (for derivatives). Date format is `YYYY-MM-dd`.  
data[].instrument_key| string| Also refer to an **expired_instrument_key** for expired future contract. This is combination of instrument_key and expiry date. For the regex pattern applicable to `expired_instrument_key` field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
data[].exchange_token| string| The exchange-specific token for the option.  
data[].trading_symbol| string| The symbol used for trading the option.   
Format: `<underlying_symbol> <strike_price> <CE/PE> <expiry in dd MMM yy>`  
data[].tick_size| number| The minimum price movement of the option.  
data[].lot_size| number| The size of one lot of the option.  
data[].instrument_type| string| The type of the option instrument,   
Possible values: `CE`, `PE`  
data[].freeze_quantity| number| The maximum quantity that can be frozen.  
data[].underlying_key| string| The `instrument_key` for the underlying asset.  
data[].underlying_type| string| The type of the underlying asset, Possible values: `COM`, `INDEX`, `EQUITY`, `CUR`, `IRD`.  
data[].underlying_symbol| string| The symbol of the underlying asset.  
data[].strike_price| number| The strike price for the option.  
data[].minimum_lot| number| The minimum lot size for the option.  
data[].weekly| boolean| Indicates if the option is weekly.  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/get-expired-option-contracts/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI100011| **Invalid Instrument key** \- You need to provide proper instrument key for this operation.  
UDAPI1088| **Invalid date** \- You need to provide the expiry_date in proper format: `YYYY-MM-DD`  
UDAPI1149| **This API is available exclusively with an Upstox Plus plan subscription** \- Please upgrade to the Plus plan to gain access.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-expired-option-contracts/#sample-code> "Direct link to heading")

### Get Expired Option Contracts for given instrument with expiry date[â€‹](<https://upstox.com/developer/api-documentation/get-expired-option-contracts/#get-expired-option-contracts-for-given-instrument-with-expiry-date> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/expired-instruments/option/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-11-27' \  
    --header 'Content-Type: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/expired-instruments/option/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-11-27'  
    headers = {  
        'Content-Type': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/expired-instruments/option/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-11-27';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/expired-instruments/option/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-11-27";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/expired-instruments/option/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-11-27';  
      
    // Initialize cURL session  
    $curl = curl_init();  
      
    // Set cURL options  
    curl_setopt_array($curl, [  
        CURLOPT_URL => $url,  
        CURLOPT_RETURNTRANSFER => true,  
        CURLOPT_HTTPHEADER => [  
            'Content-Type: application/json',  
            'Authorization: Bearer {your_access_token}',  
            'Accept: application/json'  
        ]  
    ]);  
      
    // Execute the request  
    $response = curl_exec($curl);  
    $httpCode = curl_getinfo($curl, CURLINFO_HTTP_CODE);  
      
    // Check for errors  
    if (curl_errno($curl)) {  
        echo 'Error: ' . curl_error($curl);  
    } else if ($httpCode != 200) {  
        echo 'Error: HTTP status code ' . $httpCode;  
    } else {  
        // Process the successful response  
        echo $response;  
    }  
      
    // Close cURL session  
    curl_close($curl);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    apiInstance = upstox_client.ExpiredInstrumentApi(upstox_client.ApiClient(configuration))  
    try:  
        response = apiInstance.get_expired_option_contracts("NSE_INDEX|Nifty 50", "2025-04-30")  
        print(response)  
    except ApiException as e:  
        print("Exception when calling expired instrument api: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let expiredInstrumentsApiInstance = new UpstoxClient.ExpiredInstrumentApi();  
    expiredInstrumentsApiInstance.getExpiredOptionContracts("NSE_INDEX|Nifty 50", "2025-04-24", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log(data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import com.upstox.auth.*;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
              
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            ExpiredInstrumentApi expiredInstrumentApi = new ExpiredInstrumentApi();  
            try {  
                GetOptionContractResponse result = expiredInstrumentApi.getExpiredOptionContracts("NSE_INDEX|Nifty 50", "2025-04-24");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.out.println("Exception when calling ExpiredInstrumentApi#getExpiredOptionContracts");  
                System.out.println("Status code: " + e.getCode());  
                System.out.println("Error message: " + e.getResponseBody());  
            }  
        }  
    }  
    
    
    
    GET /expired-instruments/option/contract

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

`instrument_key` â€” query **required**

`expiry_date` â€” query **required**

NOTE

  * This API is specifically designed for expired option contracts. For current or active contracts, please refer to either [Instrument json](<https://upstox.com/developer/api-documentation/instruments#json-files>) or the [Get Option Contracts](<https://upstox.com/developer/api-documentation/get-option-contracts>) API.
  * Before using this API, ensure to check the [Get Expiries](<https://upstox.com/developer/api-documentation/get-expiries>) API to obtain the available expiry dates for the underlying instrument.




---
# Source: https://upstox.com/developer/api-documentation/get-expired-future-contracts
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Expired Instruments](<https://upstox.com/developer/api-documentation/expired-instruments>)
  * Get Expired Future Contracts



## Get Expired Future Contracts ![](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzkiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAzOSAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMwIDAuNzVDMzQuNTU2MyAwLjc1IDM4LjI1IDQuNDQzNjUgMzguMjUgOUMzOC4yNSAxMy41NTYzIDM0LjU1NjMgMTcuMjUgMzAgMTcuMjVIOUM0LjQ0MzY1IDE3LjI1IDAuNzUgMTMuNTU2MyAwLjc1IDlDMC43NSA0LjQ0MzY1IDQuNDQzNjUgMC43NSA5IDAuNzVIMzBaIiBmaWxsPSIjMjAyMDIwIi8+CjxwYXRoIGQ9Ik0zMCAwLjc1QzM0LjU1NjMgMC43NSAzOC4yNSA0LjQ0MzY1IDM4LjI1IDlDMzguMjUgMTMuNTU2MyAzNC41NTYzIDE3LjI1IDMwIDE3LjI1SDlDNC40NDM2NSAxNy4yNSAwLjc1IDEzLjU1NjMgMC43NSA5QzAuNzUgNC40NDM2NSA0LjQ0MzY1IDAuNzUgOSAwLjc1SDMwWiIgc3Ryb2tlPSJ1cmwoI3BhaW50MF9saW5lYXJfMjY1N180NzU2OSkiIHN0cm9rZS13aWR0aD0iMC41Ii8+CjxwYXRoIGQ9Ik0xOC41MjM5IDEwLjcyMDhDMTguNDY5OCAxMS4wNDM5IDE4LjYyNTcgMTEuMjA1MiAxOC45OTE3IDExLjIwNTJDMTkuMTY4IDExLjIwNTIgMTkuMzkxOSAxMS4xNzkyIDE5LjU4MTYgMTEuMTM0MlYxMi43NTQ1QzE5LjMxNyAxMi44Mzg3IDE4LjcwNzEgMTIuOTIzNiAxOC4wMjIzIDEyLjkyMzZDMTYuODM2IDEyLjkyMzYgMTYuMTQ0MyAxMi40MTk4IDE2LjM2NzggMTEuMDc2NUwxNy42MDcyIDQuMDcwMjlIMTkuNzAyM0wxOC41MjM5IDEwLjcyMDhaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMjIuOTg5IDYuNTkzODFMMjIuNDA2IDEwLjEwNzNDMjIuMjkwOCAxMC43OTg0IDIyLjc5OTMgMTEuMTI3NiAyMy4zMDc4IDExLjEyNzZDMjMuODE2MyAxMS4xMjc2IDI0LjQxOTYgMTAuNzk4NCAyNC41MzQ4IDEwLjEwNzNMMjUuMTI0OCA2LjU5MzgxSDI3LjIxMjlMMjYuMTgyNSAxMi43OTRIMjQuMjYzN0wyNC4yOTc1IDEyLjIwNjFDMjMuNzQ4MyAxMi43NjE0IDIyLjk0MTQgMTIuOTg3NSAyMi4xODkgMTIuOTg3NUMyMC45ODg4IDEyLjk4NzUgMTkuOTcxOCAxMi4xNjczIDIwLjIxNjEgMTAuNjg4MkwyMC44OTQgNi41OTM0TDIyLjk4OSA2LjU5MzgxWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTI5LjUzNTcgMTIuOTIzMUMyOC41OTMyIDEyLjkyMzEgMjcuNjg0NSAxMi43NjE4IDI3LjExNTQgMTIuNDk2OUwyNy4zOTEyIDEwLjg0ODJDMjcuOTYwNyAxMS4wODA5IDI5LjA0MTEgMTEuMzAyMSAyOS42MjQxIDExLjMwMjFDMzAuMzkwMyAxMS4zMDIxIDMwLjY1NDUgMTEuMTkyMyAzMC42NTQ1IDEwLjg5NTNDMzAuNjU0NSAxMC42OTUyIDMwLjQ1NzggMTAuNjA0OCAyOS44NjE0IDEwLjUwNzlMMjkuMjg0OSAxMC40MTc1QzI4LjE2NjIgMTAuMjQzIDI3LjYzNzMgOS43MzkyNSAyNy42MzczIDguODY3NDhDMjcuNjM3MyA3LjM5NSAyOC45ODY1IDYuNDY1MDUgMzAuOTQ2IDYuNDY1MDVDMzEuNzY2MyA2LjQ2NTA1IDMyLjQ5MTggNi42MDA3OSAzMy4wNjE0IDYuODY1NjdMMzIuNjQwOCA4LjQ0Nzg5QzMyLjI2MSA4LjI4NjU4IDMxLjMzODggOC4xMTg2NiAzMC43ODMxIDguMTE4NjZDMzAuMDIzOCA4LjExODY2IDI5LjY2NDMgOC4yNjA1OCAyOS42NjQzIDguNTUxNDVDMjkuNjY0MyA4Ljc1MTU1IDI5LjkxNTEgOC44NjEyOSAzMC41Nzk1IDguOTY0ODVMMzEuMTgyOSA5LjA2MTgxQzMyLjIxMzMgOS4yMjk3MiAzMi43MDg0IDkuNzIwNjkgMzIuNzA4NCAxMC41NjY1QzMyLjcwODQgMTIuMDEzIDMxLjQyNjcgMTIuOTIzOSAyOS41MzUzIDEyLjkyMzlMMjkuNTM1NyAxMi45MjMxWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTguMjE3IDkuOTQ4Mkw3LjcxMTk0IDEyLjc5NDFIOS44OTQ5MUwxMC4zMDg1IDkuODgzODRIMTIuMzkwMkMxNC41NDYzIDkuODgzODQgMTYuMDE4MyA4LjQ2MjM0IDE2LjM5MDUgNi43MTY4MUMxNi43NjI4IDQuOTcxMjkgMTUuMTgzOCA0LjAyMzUyIDEzLjQzNDQgNC4wMjM1MkgxMi41NDRDMTIuNTEyNSA0LjYyOTkxIDEyLjQ2MDYgNS4yMzQ0MyAxMi4zMTQgNS44MTI0NUgxMi45ODY2QzEzLjY5MTcgNS44MTI0NSAxNC4zMDM3IDYuMzM2MDkgMTQuMTMyNiA2LjkzNjNDMTMuOTM4MSA3LjYxODkyIDEzLjQ2ODIgOC4wOTQ5MSAxMi41MzI3IDguMDk0OTFIMTEuMDY3NUMxMC42ODEzIDguNTM1NTcgMTAuMjEzOSA4LjkzMDExIDkuNjAxOTIgOS4zMTM0MUM5LjEzNDU3IDkuNjA2MTIgOC42NzM5OSA5LjgwNTE4IDguMjE3IDkuOTQ4MloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0xMS43OTU2IDMuOTY3NzdDMTEuNzkzIDQuNzc1NTcgMTEuNjE0MyA1LjU5MTcxIDExLjI1ODggNi4zMjFDMTAuOTAzNCA3LjA1MDMgMTAuMzg3MSA3LjY5MzU3IDkuNzQ2OTMgOC4yMDQ1OEM5LjEwNjggOC43MTU2IDguMzU4NzggOS4wODE2NyA3LjU1NjY0IDkuMjc2NDdDNi43NTQ0OSA5LjQ3MTI2IDUuOTg2NDcgOS40MzEwNCA1IDkuNDMxTDUuNDM4NDMgNy4zOTU2OUM2LjIwNTY3IDcuMzk1NjkgNi41OTg1NiA3LjQwNjA5IDcuMDgyNTIgNy4yODg1N0M3LjU2NjQ4IDcuMTcxMDQgOC4wMTE1OCA2Ljk1NDE1IDguMzk3OCA2LjY0NTg0QzguNzg0MDEgNi4zMzc1MiA5LjA0MDY0IDUuODI4MjUgOS4yNTUwOCA1LjM4ODI1QzkuNDY5NTMgNC45NDgyNCA5LjU3ODUxIDQuNDU1MTQgOS41ODAwOCAzLjk2Nzc3TDExLjc5NTYgMy45Njc3N1oiIGZpbGw9IndoaXRlIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMjY1N180NzU2OSIgeDE9IjIwLjk2MDUiIHkxPSIxIiB4Mj0iMjAuOTYwNSIgeTI9IjIyLjY2NjciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0E0ODNGNCIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMxODBCMjUiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K)[â€‹](<https://upstox.com/developer/api-documentation/get-expired-future-contracts/#get-expired-future-contracts-> "Direct link to heading")

API to retrieve expired future contracts for an underlying instrument on a specified expiry date. This API is useful for traders and analysts who want to analyze the historical performance of futures and their underlying assets. By providing the instrument key and expiry date, users can obtain detailed information about the expired futures, including their trading symbols, lot sizes, and other relevant attributes.

### Request[â€‹](<https://upstox.com/developer/api-documentation/get-expired-future-contracts/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/expired-instruments/future/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-11-27' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/get-expired-future-contracts/#sample-code>) on this page.

### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-expired-future-contracts/#query-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
instrument_key| true| string| Key of an underlying instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
expiry_date| true| string| Expiry date for which expired future contracts are required in format: `YYYY-MM-DD`.  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-expired-future-contracts/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": [  
        {  
          "name": "NIFTY",  
          "segment": "NSE_FO",  
          "exchange": "NSE",  
          "expiry": "2025-04-24",  
          "instrument_key": "NSE_FO|54452|24-04-2025",  
          "exchange_token": "54452",  
          "trading_symbol": "NIFTY FUT 24 APR 25",  
          "tick_size": 10,  
          "lot_size": 75,  
          "instrument_type": "FUT",  
          "freeze_quantity": 1800,  
          "underlying_key": "NSE_INDEX|Nifty 50",  
          "underlying_type": "INDEX",  
          "underlying_symbol": "NIFTY",  
          "minimum_lot": 75  
        }  
      ]  
    }  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/get-expired-future-contracts/#sample-code>) on this page.

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-expired-future-contracts/#response-body-1> "Direct link to heading")

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Data object for expired future contracts.  
data[].name| string| The name of the future.  
data[].segment| string| The market segment of the future.   
Possible values: `NSE_EQ`, `NSE_INDEX`, `NSE_FO`, `NCD_FO`, `BSE_EQ`, `BSE_INDEX`, `BSE_FO`, `BCD_FO`, `MCX_FO`, `NSE_COM`  
data[].exchange| string| Exchange to which the instrument is associated.   
Possible values: `NSE`, `BSE`, `MCX`.  
data[].expiry| string| Expiry date (for derivatives). Date format is `YYYY-MM-dd`.  
data[].instrument_key| string| Also refer to an **expired_instrument_key** for expired future contract. This is combination of instrument_key and expiry date. For the regex pattern applicable to `expired_instrument_key` field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
data[].exchange_token| string| The exchange-specific token for the future.  
data[].trading_symbol| string| The symbol used for trading the future.   
Format: `<underlying_symbol> <expiry in dd MMM yy> FUT`  
data[].tick_size| number| The minimum price movement of the future.  
data[].lot_size| number| The size of one lot of the future.  
data[].instrument_type| string| The type of the instrument. For futures, this is always `FUT`.  
data[].freeze_quantity| number| The maximum quantity that can be frozen.  
data[].underlying_key| string| The `instrument_key` for the underlying asset.  
data[].underlying_type| string| The type of the underlying asset, Possible values: `COM`, `INDEX`, `EQUITY`, `CUR`, `IRD`.  
data[].underlying_symbol| string| The symbol of the underlying asset.  
data[].minimum_lot| number| The minimum lot size for the future.  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/get-expired-future-contracts/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI100011| **Invalid Instrument key** \- You need to provide proper instrument key for this operation.  
UDAPI1088| **Invalid date** \- You need to provide the expiry_date in proper format: `YYYY-MM-DD`  
UDAPI1149| **This API is available exclusively with an Upstox Plus plan subscription** \- Please upgrade to the Plus plan to gain access.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-expired-future-contracts/#sample-code> "Direct link to heading")

### Get Expired Future Contracts for given instrument with expiry date[â€‹](<https://upstox.com/developer/api-documentation/get-expired-future-contracts/#get-expired-future-contracts-for-given-instrument-with-expiry-date> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/expired-instruments/future/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-11-27' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/expired-instruments/future/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-11-27'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/expired-instruments/future/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-11-27';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/expired-instruments/future/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-11-27";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/expired-instruments/future/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-11-27';  
      
    // Initialize cURL session  
    $curl = curl_init();  
      
    // Set cURL options  
    curl_setopt_array($curl, [  
        CURLOPT_URL => $url,  
        CURLOPT_RETURNTRANSFER => true,  
        CURLOPT_HTTPHEADER => [  
            'Content-Type: application/json',  
            'Accept: application/json',  
            'Authorization: Bearer {your_access_token}'  
        ]  
    ]);  
      
    // Execute the request  
    $response = curl_exec($curl);  
    $httpCode = curl_getinfo($curl, CURLINFO_HTTP_CODE);  
      
    // Check for errors  
    if (curl_errno($curl)) {  
        echo 'Error: ' . curl_error($curl);  
    } else if ($httpCode != 200) {  
        echo 'Error: HTTP status code ' . $httpCode;  
    } else {  
        // Process the successful response  
        echo $response;  
    }  
      
    // Close cURL session  
    curl_close($curl);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    apiInstance = upstox_client.ExpiredInstrumentApi(upstox_client.ApiClient(configuration))  
    try:  
        response = apiInstance.get_expired_future_contracts("NSE_INDEX|Nifty 50", "2024-11-27")  
        print(response)  
    except ApiException as e:  
        print("Exception when calling expired instrument api: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let expiredInstrumentsApiInstance = new UpstoxClient.ExpiredInstrumentApi();  
    expiredInstrumentsApiInstance.getExpiredFutureContracts("NSE_INDEX|Nifty 50", "2024-11-27", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log(data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import com.upstox.auth.*;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
              
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            ExpiredInstrumentApi expiredInstrumentApi = new ExpiredInstrumentApi();  
            try {  
                GetExpiredFuturesContractResponse response = expiredInstrumentApi.getExpiredFutureContracts("NSE_INDEX|Nifty 50", "2024-11-27");  
                System.out.println(response);  
            } catch (ApiException e) {  
                System.out.println("Exception when calling ExpiredInstrumentApi#getExpiredFutureContracts");  
                System.out.println("Status code: " + e.getCode());  
                System.out.println("Error message: " + e.getResponseBody());  
            }  
        }  
    }  
    
    
    
    GET /expired-instruments/future/contract

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

`instrument_key` â€” query **required**

`expiry_date` â€” query **required**

NOTE

  * This API is specifically designed for expired future contracts. For current or active instruments, please refer to the [Instrument json](<https://upstox.com/developer/api-documentation/instruments#json-files>)
  * Before using this API, ensure to check the [Get Expiries](<https://upstox.com/developer/api-documentation/get-expiries>) API to obtain the available expiry dates for the underlying instrument.




---
# Source: https://upstox.com/developer/api-documentation/get-expired-historical-candle-data
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Expired Instruments](<https://upstox.com/developer/api-documentation/expired-instruments>)
  * Get Expired Historical Candle Data



## Get Expired Historical Candle Data ![](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzkiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAzOSAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMwIDAuNzVDMzQuNTU2MyAwLjc1IDM4LjI1IDQuNDQzNjUgMzguMjUgOUMzOC4yNSAxMy41NTYzIDM0LjU1NjMgMTcuMjUgMzAgMTcuMjVIOUM0LjQ0MzY1IDE3LjI1IDAuNzUgMTMuNTU2MyAwLjc1IDlDMC43NSA0LjQ0MzY1IDQuNDQzNjUgMC43NSA5IDAuNzVIMzBaIiBmaWxsPSIjMjAyMDIwIi8+CjxwYXRoIGQ9Ik0zMCAwLjc1QzM0LjU1NjMgMC43NSAzOC4yNSA0LjQ0MzY1IDM4LjI1IDlDMzguMjUgMTMuNTU2MyAzNC41NTYzIDE3LjI1IDMwIDE3LjI1SDlDNC40NDM2NSAxNy4yNSAwLjc1IDEzLjU1NjMgMC43NSA5QzAuNzUgNC40NDM2NSA0LjQ0MzY1IDAuNzUgOSAwLjc1SDMwWiIgc3Ryb2tlPSJ1cmwoI3BhaW50MF9saW5lYXJfMjY1N180NzU2OSkiIHN0cm9rZS13aWR0aD0iMC41Ii8+CjxwYXRoIGQ9Ik0xOC41MjM5IDEwLjcyMDhDMTguNDY5OCAxMS4wNDM5IDE4LjYyNTcgMTEuMjA1MiAxOC45OTE3IDExLjIwNTJDMTkuMTY4IDExLjIwNTIgMTkuMzkxOSAxMS4xNzkyIDE5LjU4MTYgMTEuMTM0MlYxMi43NTQ1QzE5LjMxNyAxMi44Mzg3IDE4LjcwNzEgMTIuOTIzNiAxOC4wMjIzIDEyLjkyMzZDMTYuODM2IDEyLjkyMzYgMTYuMTQ0MyAxMi40MTk4IDE2LjM2NzggMTEuMDc2NUwxNy42MDcyIDQuMDcwMjlIMTkuNzAyM0wxOC41MjM5IDEwLjcyMDhaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMjIuOTg5IDYuNTkzODFMMjIuNDA2IDEwLjEwNzNDMjIuMjkwOCAxMC43OTg0IDIyLjc5OTMgMTEuMTI3NiAyMy4zMDc4IDExLjEyNzZDMjMuODE2MyAxMS4xMjc2IDI0LjQxOTYgMTAuNzk4NCAyNC41MzQ4IDEwLjEwNzNMMjUuMTI0OCA2LjU5MzgxSDI3LjIxMjlMMjYuMTgyNSAxMi43OTRIMjQuMjYzN0wyNC4yOTc1IDEyLjIwNjFDMjMuNzQ4MyAxMi43NjE0IDIyLjk0MTQgMTIuOTg3NSAyMi4xODkgMTIuOTg3NUMyMC45ODg4IDEyLjk4NzUgMTkuOTcxOCAxMi4xNjczIDIwLjIxNjEgMTAuNjg4MkwyMC44OTQgNi41OTM0TDIyLjk4OSA2LjU5MzgxWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTI5LjUzNTcgMTIuOTIzMUMyOC41OTMyIDEyLjkyMzEgMjcuNjg0NSAxMi43NjE4IDI3LjExNTQgMTIuNDk2OUwyNy4zOTEyIDEwLjg0ODJDMjcuOTYwNyAxMS4wODA5IDI5LjA0MTEgMTEuMzAyMSAyOS42MjQxIDExLjMwMjFDMzAuMzkwMyAxMS4zMDIxIDMwLjY1NDUgMTEuMTkyMyAzMC42NTQ1IDEwLjg5NTNDMzAuNjU0NSAxMC42OTUyIDMwLjQ1NzggMTAuNjA0OCAyOS44NjE0IDEwLjUwNzlMMjkuMjg0OSAxMC40MTc1QzI4LjE2NjIgMTAuMjQzIDI3LjYzNzMgOS43MzkyNSAyNy42MzczIDguODY3NDhDMjcuNjM3MyA3LjM5NSAyOC45ODY1IDYuNDY1MDUgMzAuOTQ2IDYuNDY1MDVDMzEuNzY2MyA2LjQ2NTA1IDMyLjQ5MTggNi42MDA3OSAzMy4wNjE0IDYuODY1NjdMMzIuNjQwOCA4LjQ0Nzg5QzMyLjI2MSA4LjI4NjU4IDMxLjMzODggOC4xMTg2NiAzMC43ODMxIDguMTE4NjZDMzAuMDIzOCA4LjExODY2IDI5LjY2NDMgOC4yNjA1OCAyOS42NjQzIDguNTUxNDVDMjkuNjY0MyA4Ljc1MTU1IDI5LjkxNTEgOC44NjEyOSAzMC41Nzk1IDguOTY0ODVMMzEuMTgyOSA5LjA2MTgxQzMyLjIxMzMgOS4yMjk3MiAzMi43MDg0IDkuNzIwNjkgMzIuNzA4NCAxMC41NjY1QzMyLjcwODQgMTIuMDEzIDMxLjQyNjcgMTIuOTIzOSAyOS41MzUzIDEyLjkyMzlMMjkuNTM1NyAxMi45MjMxWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTguMjE3IDkuOTQ4Mkw3LjcxMTk0IDEyLjc5NDFIOS44OTQ5MUwxMC4zMDg1IDkuODgzODRIMTIuMzkwMkMxNC41NDYzIDkuODgzODQgMTYuMDE4MyA4LjQ2MjM0IDE2LjM5MDUgNi43MTY4MUMxNi43NjI4IDQuOTcxMjkgMTUuMTgzOCA0LjAyMzUyIDEzLjQzNDQgNC4wMjM1MkgxMi41NDRDMTIuNTEyNSA0LjYyOTkxIDEyLjQ2MDYgNS4yMzQ0MyAxMi4zMTQgNS44MTI0NUgxMi45ODY2QzEzLjY5MTcgNS44MTI0NSAxNC4zMDM3IDYuMzM2MDkgMTQuMTMyNiA2LjkzNjNDMTMuOTM4MSA3LjYxODkyIDEzLjQ2ODIgOC4wOTQ5MSAxMi41MzI3IDguMDk0OTFIMTEuMDY3NUMxMC42ODEzIDguNTM1NTcgMTAuMjEzOSA4LjkzMDExIDkuNjAxOTIgOS4zMTM0MUM5LjEzNDU3IDkuNjA2MTIgOC42NzM5OSA5LjgwNTE4IDguMjE3IDkuOTQ4MloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0xMS43OTU2IDMuOTY3NzdDMTEuNzkzIDQuNzc1NTcgMTEuNjE0MyA1LjU5MTcxIDExLjI1ODggNi4zMjFDMTAuOTAzNCA3LjA1MDMgMTAuMzg3MSA3LjY5MzU3IDkuNzQ2OTMgOC4yMDQ1OEM5LjEwNjggOC43MTU2IDguMzU4NzggOS4wODE2NyA3LjU1NjY0IDkuMjc2NDdDNi43NTQ0OSA5LjQ3MTI2IDUuOTg2NDcgOS40MzEwNCA1IDkuNDMxTDUuNDM4NDMgNy4zOTU2OUM2LjIwNTY3IDcuMzk1NjkgNi41OTg1NiA3LjQwNjA5IDcuMDgyNTIgNy4yODg1N0M3LjU2NjQ4IDcuMTcxMDQgOC4wMTE1OCA2Ljk1NDE1IDguMzk3OCA2LjY0NTg0QzguNzg0MDEgNi4zMzc1MiA5LjA0MDY0IDUuODI4MjUgOS4yNTUwOCA1LjM4ODI1QzkuNDY5NTMgNC45NDgyNCA5LjU3ODUxIDQuNDU1MTQgOS41ODAwOCAzLjk2Nzc3TDExLjc5NTYgMy45Njc3N1oiIGZpbGw9IndoaXRlIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMjY1N180NzU2OSIgeDE9IjIwLjk2MDUiIHkxPSIxIiB4Mj0iMjAuOTYwNSIgeTI9IjIyLjY2NjciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0E0ODNGNCIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMxODBCMjUiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K)[â€‹](<https://upstox.com/developer/api-documentation/get-expired-historical-candle-data/#get-expired-historical-candle-data-> "Direct link to heading")

This API extends the functionality of the existing [Get Historical Candle Data API](<https://upstox.com/developer/api-documentation/get-historical-candle-data>) by allowing users to query data for expired contracts. 

This API is particularly useful for traders and analysts who need to analyze past performance and trends of expired contracts.

It provides historical Open, High, Low, Close (OHLC) data for expired contracts, available across multiple time intervals including: `1minute`, `3minute`, `5minute`, `15minute`, `30minute` and `day`.

### Request[â€‹](<https://upstox.com/developer/api-documentation/get-expired-historical-candle-data/#request> "Direct link to heading")
    
    
    curl -X 'GET' 'https://api.upstox.com/v2/expired-instruments/historical-candle/NSE_FO%7CNIFTY22D0117800CE/day/2022-11-30/2022-11-01'  
    --header 'Content-Type: application/json'  
    --header 'Accept: application/json'  
    --header 'Authorization: Bearer {your_access_token}'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/get-expired-historical-candle-data/#sample-code>) on this page.

### Path Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-expired-historical-candle-data/#path-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
expired_instrument_key| true| string| The unique identifier for the expired financial instrument for which historical data is being queried. This key is combination of normal instrument key and expiry date. The expired_instrument_key key must match the regex pattern specified in the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
interval| true| string| Specifies the time frame of the candles.  
Possible values: `1minute`, `3minute`,`5minute`,`15minute`,`30minute`, `day`.  
to_date| true| string| The ending date (inclusive) for the historical data range. Format: `YYYY-MM-DD`.  
from_date| true| string| The starting date for the historical data range. Format: `YYYY-MM-DD`.  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-expired-historical-candle-data/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "candles": [  
          [  
            "2022-11-30T00:00:00+05:30",  
            125.35,  
            126.8,  
            122.1,  
            123.45,  
            1542678,  
            184632  
          ],  
          [  
            "2022-11-29T00:00:00+05:30",  
            120.85,  
            126.55,  
            120.5,  
            125.35,  
            1876543,  
            195732  
          ]  
        ]  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Contains OHLC values for expired contracts across various timeframes.  
data.candles| array[]| Array of candle data, each presented as an array with sequential elements representing trading activity.  
data.candle[0]| number| `Timestamp`: Indicating the start time of the candle's timeframe.  
data.candle[1]| number| `Open`: The opening price of the asset for the given timeframe.  
data.candle[2]| number| `High`: The highest price at which the asset traded during the timeframe.  
data.candle[3]| number| `Low`: The lowest price at which the asset traded during the timeframe.  
data.candle[4]| number| `Close`: The closing price of the asset for the given timeframe.  
data.candle[5]| number| `Volume`: The total amount of the asset that was traded during the timeframe.  
data.candle[6]| number| `Open Interest`: The total number of outstanding derivative contracts, such as options or futures.  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/get-expired-historical-candle-data/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1021| **Instrument key is of invalid format** \- The provided instrument key doesn't conform to the expected format.  
UDAPI1020| **Interval accepts one of (1minute,30minute,day,week,month)** \- Ensure the 'interval' is one of the specified values.  
UDAPI1022| **to_date is required** \- You must specify the 'to_date' in your request.  
UDAPI100011| **Invalid Instrument key** \- The instrument key you provided doesn't match any of the recognized expired keys in the system.  
UDAPI1088| **Invalid date** \- You need to provide the expiry_date in proper format: `YYYY-MM-DD`  
UDAPI1149| **This API is available exclusively with an Upstox Plus plan subscription** \- Please upgrade to the Plus plan to gain access.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-expired-historical-candle-data/#sample-code> "Direct link to heading")

### Get Historical Candle Data for Expired Instruments[â€‹](<https://upstox.com/developer/api-documentation/get-expired-historical-candle-data/#get-historical-candle-data-for-expired-instruments> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/expired-instruments/historical-candle/NSE_FO|73507|24-04-2025/30minute/2025-04-24/2020-02-24' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/expired-instruments/historical-candle/NSE_FO|73507|24-04-2025/30minute/2025-04-24/2020-02-24'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/expired-instruments/historical-candle/NSE_FO|73507|24-04-2025/30minute/2025-04-24/2020-02-24';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/expired-instruments/historical-candle/NSE_FO|73507|24-04-2025/30minute/2025-04-24/2020-02-24";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/expired-instruments/historical-candle/NSE_FO|73507|24-04-2025/30minute/2025-04-24/2020-02-24';  
      
    // Initialize cURL session  
    $curl = curl_init();  
      
    // Set cURL options  
    curl_setopt_array($curl, [  
        CURLOPT_URL => $url,  
        CURLOPT_RETURNTRANSFER => true,  
        CURLOPT_HTTPHEADER => [  
            'Content-Type: application/json',  
            'Accept: application/json',  
            'Authorization: Bearer {your_access_token}'  
        ]  
    ]);  
      
    // Execute the request  
    $response = curl_exec($curl);  
    $httpCode = curl_getinfo($curl, CURLINFO_HTTP_CODE);  
      
    // Check for errors  
    if (curl_errno($curl)) {  
        echo 'Error: ' . curl_error($curl);  
    } else if ($httpCode != 200) {  
        echo 'Error: HTTP status code ' . $httpCode;  
    } else {  
        // Process the successful response  
        echo $response;  
    }  
      
    // Close cURL session  
    curl_close($curl);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    apiInstance = upstox_client.ExpiredInstrumentApi(upstox_client.ApiClient(configuration))  
    try:  
        response = apiInstance.get_expired_historical_candle_data("NSE_FO|54452|24-04-2025", "1minute", "2025-04-24", "2025-04-24")  
        print(response)  
    except ApiException as e:  
        print("Exception when calling expired instrument api: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let expiredInstrumentsApiInstance = new UpstoxClient.ExpiredInstrumentApi();  
    expiredInstrumentsApiInstance.getExpiredHistoricalCandleData("NSE_FO|54452|24-04-2025", "1minute", "2025-04-24", "2025-01-03", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log(data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import com.upstox.auth.*;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
              
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            ExpiredInstrumentApi expiredInstrumentApi = new ExpiredInstrumentApi();  
            try {  
                GetHistoricalCandleResponse result = expiredInstrumentApi.getExpiredHistoricalCandleData("NSE_FO|54452|24-04-2025", "30minute", "2025-06-04", "2002-06-04");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.out.println("Exception when calling ExpiredInstrumentApi#getExpiredHistoricalCandleData");  
                System.out.println("Status code: " + e.getCode());  
                System.out.println("Error message: " + e.getResponseBody());  
            }  
        }  
    }  
    
    
    
    GET /expired-instruments/historical-candle/:expired_instrument_key/:interval/:to_date/:from_date

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

`expired_instrument_key` â€” path **required**

`interval` â€” path **required**

`to_date` â€” path **required**

`from_date` â€” path **required**

NOTE

  * Before using this API, utilize the [Get Expired Option Contracts API](<https://upstox.com/developer/api-documentation/get-expired-option-contracts>) or [Get Expired Future Contracts API](<https://upstox.com/developer/api-documentation/get-expired-future-contracts>) to obtain the `expired_instrument_key` for the expired contracts This key, required as a path parameter, is a combination of the standard instrument key and the expiry date returned by the previously mentioned APIs.
  * For Open, High, Low, Close (OHLC) data of an active contracts, use the [Historical Candle Data API](<https://upstox.com/developer/api-documentation/get-historical-candle-data>).




---
# Source: https://upstox.com/developer/api-documentation/login
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * Login



# Login

## [description AuthorizeLogin flow for the API users.](<https://upstox.com/developer/api-documentation/authorize>)## [description Get TokenGet access token for the API user after login.](<https://upstox.com/developer/api-documentation/get-token>)## [description Access Token RequestGet an access token for an individual user using the notifier webhook endpoint after the user approves the token generation request.](<https://upstox.com/developer/api-documentation/access-token-request>)## [description LogoutLogout flow for the API users.](<https://upstox.com/developer/api-documentation/logout>)

NOTE

You also have the option to select [TOTP (Time-based One-Time Password)](<https://en.wikipedia.org/wiki/Time-based_one-time_password>) as a more secure method for 2FA, compared to the usual SMS OTP, for a safer login. Learn more about activating TOTP on your Upstox account [here](<https://help.upstox.com/support/solutions/articles/260346-what-is-totp-and-how-to-enable-totp-for-my-account-from-upstox-web-platform->).


---
# Source: https://upstox.com/developer/api-documentation/authorize
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Login](<https://upstox.com/developer/api-documentation/login>)
  * Authorize



## Authorize[â€‹](<https://upstox.com/developer/api-documentation/authorize/#authorize> "Direct link to heading")

The authorization flow initiates a redirection to the Upstox login page, with necessary information. Upon a successful user login, the user is then redirected to the specified "redirect_uri" with an authorization code. This code should be utilized in the subsequent step to acquire the access token in the [get token](<https://upstox.com/developer/api-documentation/get-token>) API.

### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/authorize/#query-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
client_id| true| string| The API key obtained during the app generation process.  
redirect_uri| true| string| The URL to which the user will be redirected post authentication; must match the URL provided during app generation.  
state| false| string| An optional parameter. If specified, will be returned after authentication, allowing for state continuity between request and callback.  
response_type| true| string| This value must always be `code`.  
  
**Responses**

  * 302
  * 4XX



* * *

Upon successful authentication, this API will redirect to the URL specified in the `redirect_url` parameter, with the `code` essential for the token generation included within the request parameters.
    
    
    https://<redirect_uri>?code=mk404x&state=XX56849  
    

Name| Description  
---|---  
code| Utilize this code to generate the `access_token` through the [Get Token API](<https://upstox.com/developer/api-documentation/get-token>).  
state| Provided optionally if it was initially included in the request URL parameters.  
  
Error code| Description  
---|---  
UDAPI100068| **Check your 'client_id' and 'redirect_uri'; one or both are incorrect.** \- Thrown when one of the credentials you've passed to this API is invalid.  
      
    
    GET /login/authorization/dialog

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

`client_id` â€” query **required**

`redirect_uri` â€” query **required**

Show optional parameters

`state` â€” query

`scope` â€” query

NOTE

  * While creating app provide a `redirect_uri` which is in your control rather than a public endpoint.
  * Additionally, it's important to generate a random value for the state parameter and subsequently validate whether the value returned matches the one you originally sent. This helps ensure the security and integrity of your application.
  * The QR code login is not compatible with the login flow of the Upstox API.




---
# Source: https://upstox.com/developer/api-documentation/get-token
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Login](<https://upstox.com/developer/api-documentation/login>)
  * Get Token



## Get Token[â€‹](<https://upstox.com/developer/api-documentation/get-token/#get-token> "Direct link to heading")

API to acquire an access token via an authorization_code exchange and concurrently includes the user's profile in the response.   


The `access_token` obtained through this API has a specific validity period that lasts until `3:30 AM` the following day, regardless of the time it was generated. For instance, if you generate a token at 8 PM on Tuesday, it will expire at 3:30 AM on Wednesday. This also means that a token created at 2:30 AM on Wednesday will still expire at 3:30 AM on the same Wednesday. Therefore, users are advised to plan their activities accordingly, ensuring they accommodate the token's expiration schedule in their usage. The `code` sent as part of this request is valid for a single use, regardless of whether the access token generation succeeds or encounters an issue.

### Request[â€‹](<https://upstox.com/developer/api-documentation/get-token/#request> "Direct link to heading")
    
    
    curl -X 'POST' 'https://api.upstox.com/v2/login/authorization/token' \  
    -H 'accept: application/json' \  
    -H 'Content-Type: application/x-www-form-urlencoded' \  
    -d 'code={your_code}&client_id={your_client_id}&client_secret={your_client_secret}&redirect_uri={your_redirect_url}&grant_type=authorization_code'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/get-token/#sample-code>) on this page.

### Request Body[â€‹](<https://upstox.com/developer/api-documentation/get-token/#request-body> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
code| true| string| The `code` is a unique parameter included in the URL upon a successful [Authorize API](<https://upstox.com/developer/api-documentation/authorize>) authentication.  
client_id| true| string| The API key obtained during the app generation process.  
client_secret| true| string| The API secret obtained during the app generation process. This private key remains confidential, known only to the application and the authorization server.  
redirect_uri| true| string| The URL provided during app generation.  
grant_type| true| string| This value must always be `authorization_code`.  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-token/#response-body> "Direct link to heading")
    
    
    {  
      "email": "******",  
      "exchanges": ["NSE", "NFO", "BSE", "CDS", "BFO", "BCD"],  
      "products": ["D", "CO", "I"],  
      "broker": "UPSTOX",  
      "user_id": "******",  
      "user_name": "******",  
      "order_types": ["MARKET", "LIMIT", "SL", "SL-M"],  
      "user_type": "individual",  
      "poa": false,  
      "is_active": true,  
      "access_token": "******************"  
      "extended_token": "******************"  
    }  
    

Name| Type| Description  
---|---|---  
email| string| E-mail address of the user  
exchanges| string[]| List of exchanges enabled for the user. Valid exchanges can be found in the [Exchange Appendix](<https://upstox.com/developer/api-documentation/appendix/exchange>)  
products| string[]| Lists the types of products enabled for the user.   
Possible values: `I`, `D`, `CO`, `MTF`  
broker| string| The broker ID  
user_id| string| Uniquely identifies the user (commonly referred as UCC)  
user_name| string| Name of the user  
order_types| string[]| Order types enabled for the user.   
Possible values: `MARKET`, `LIMIT`, `SL`, `SL-M`  
user_type| string| Identifies the user's registered role with the broker. This will be individual for all retail users  
poa| boolean| Indicates whether the user has authorized power of attorney for transactions.  
is_active| boolean| Indicates if the account status is active.  
access_token| string| The authentication token to be used with every subsequent API request.  
extended_token| string| This token is designed for prolonged usage, primarily for read-only access to various API endpoints. For more detailed information on the extended token, including its benefits and how to opt for it, please refer to the [Extended Token Documentation](<https://upstox.com/developer/api-documentation/authentication#extended-token>).  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/get-token/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI100069| **Check your 'client_id' and 'client_secret'; one or both are incorrect.** \- Thrown when one of the credentials you've passed to this API is invalid.  
UDAPI100070| **The 'redirect_uri' provided is invalid. Please enter the valid URI and try again.** \- Thrown when the `redirect_uri` passed to this API is invalid.  
UDAPI100057| **Invalid Auth code** \- Thrown when the `code` value passed to the API is invalid.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-token/#sample-code> "Direct link to heading")

### Get access token using auth code[â€‹](<https://upstox.com/developer/api-documentation/get-token/#get-access-token-using-auth-code> "Direct link to heading")

  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/login/authorization/token'  
    headers = {  
        'accept': 'application/json',  
        'Content-Type': 'application/x-www-form-urlencoded',  
    }  
      
    data = {  
        'code': '{your_code}',  
        'client_id': '{your_client_id}',  
        'client_secret': '{your_client_secret}',  
        'redirect_uri': '{your_redirect_url}',  
        'grant_type': 'authorization_code',  
    }  
      
    response = requests.post(url, headers=headers, data=data)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/login/authorization/token';  
    const headers = {  
      'accept': 'application/json',  
      'Content-Type': 'application/x-www-form-urlencoded',  
    };  
      
    const data = {  
      'code': '{your_code}',  
      'client_id': '{your_client_id}',  
      'client_secret': '{your_client_secret}',  
      'redirect_uri': '{your_redirect_url}',  
      'grant_type': 'authorization_code',  
    };  
      
    axios.post(url, new URLSearchParams(data), { headers })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error.response.status);  
        console.error(error.response.data);  
      });  
    
    
    
    import java.io.BufferedReader;  
    import java.io.DataOutputStream;  
    import java.io.InputStreamReader;  
    import java.net.HttpURLConnection;  
    import java.nio.charset.StandardCharsets;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            String apiUrl = "https://api.upstox.com/v2/login/authorization/token";  
            HttpURLConnection con = (HttpURLConnection) new java.net.URL(apiUrl).openConnection();  
      
            // Set the request method  
            con.setRequestMethod("POST");  
      
            // Set the request headers  
            con.setRequestProperty("accept", "application/json");  
            con.setRequestProperty("Content-Type", "application/x-www-form-urlencoded");  
      
            // Enable input/output streams  
            con.setDoOutput(true);  
      
            // Set the request data  
            String data = "code={your_code}" +  
                    "&client_id={your_client_id}" +  
                    "&client_secret={your_client_secret}" +  
                    "&redirect_uri={your_redirect_url}" +  
                    "&grant_type=authorization_code";  
      
            // Write the request data to the output stream  
            try (DataOutputStream wr = new DataOutputStream(con.getOutputStream())) {  
                wr.write(data.getBytes(StandardCharsets.UTF_8));  
                wr.flush();  
            }  
      
            // Get the response code  
            int responseCode = con.getResponseCode();  
            System.out.println("Response Code: " + responseCode);  
      
            // Read the response  
            try (BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()))) {  
                String inputLine;  
                StringBuilder response = new StringBuilder();  
      
                while ((inputLine = in.readLine()) != null) {  
                    response.append(inputLine);  
                }  
      
                // Print the response  
                System.out.println(response.toString());  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/login/authorization/token';  
      
    $headers = [  
        'accept: application/json',  
        'Content-Type: application/x-www-form-urlencoded',  
    ];  
      
    $data = [  
        'code' => '{your_code}',  
        'client_id' => '{your_client_id}',  
        'client_secret' => '{your_client_secret}',  
        'redirect_uri' => '{your_redirect_uri}',  
        'grant_type' => 'authorization_code',  
    ];  
      
    $ch = curl_init($url);  
      
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, http_build_query($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Response Code: $httpCode\n";  
    echo "Response Data: $response\n";  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    api_instance = upstox_client.LoginApi()  
    api_version = '2.0'  
    code = '{your_auth_code}'  
    client_id = '{your_client_id}'  
    client_secret = '{your_client_secret}'  
    redirect_uri = '{your_redirect_url}'  
    grant_type = 'grant_type_example'  
      
    try:  
        # Get token API  
        api_response = api_instance.token(api_version, code=code, client_id=client_id, client_secret=client_secret,  
                                          redirect_uri=redirect_uri, grant_type=grant_type)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling LoginApi->token: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
      
    let apiInstance = new UpstoxClient.LoginApi();  
    let apiVersion = "2.0";   
    let opts = {   
      'code': "{your_auth_code}",   
      'clientId': "{your_client_secret}",   
      'clientSecret': "{your_client_secret}",   
      'redirectUri': "{your_redirect_url}",   
      'grantType': "authorization_code"   
    };  
    apiInstance.token(apiVersion, opts, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
      
    import com.upstox.ApiException;  
    import com.upstox.api.TokenResponse;  
    import io.swagger.client.api.LoginApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            LoginApi apiInstance = new LoginApi();  
            String apiVersion = "2.0";  
            String code = "{your_code}";  
            String clientId = "{your_clientId}";  
            String clientSecret = "{your_clientSecret}";  
            String redirectUri = "{your_redirect_url}";  
            String grantType = "authorization_code";  
            try {  
                TokenResponse result = apiInstance.token(apiVersion, code, clientId, clientSecret, redirectUri, grantType);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling LoginApi#token");  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    POST /login/authorization/token

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

`Body`

`code` **required**

`client_id` **required**

`client_secret` **required**

`redirect_uri` **required**

`grant_type` **required**

NOTE

  * If a user attempting to log in has no active segments, the error `No segments for these users are active. Manual reactivation is recommended from Upstox app/web.` will occur, preventing the Token API from generating the access_token. To resolve this, users must manually reactivate their segment through the Upstox web or mobile application before attempting to log in again.




---
# Source: https://upstox.com/developer/api-documentation/access-token-request
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Login](<https://upstox.com/developer/api-documentation/login>)
  * Access Token Request



## Access Token Request for User[â€‹](<https://upstox.com/developer/api-documentation/access-token-request/#access-token-request-for-user> "Direct link to heading")

The Access Token Request API is one of the vital component of the token generation workflow, designed to streamline the process of granting access to resources. It facilitates secure communication by triggering a user-driven approval process.

The following illustration depicts the flow and the actions performed by both the Initiator and the Account Holder.

![Login flow](https://upstox.com/developer/api-documentation/assets/images/alternateloginflow-6c2f9599f3051859ac3cf5487e810f07.png#block)

Here's how the process works in detail:

**Step 1: Initiating the Request**

When the API is invoked, a request for an access token is generated. This triggers a notification to the user, informing them of the pending action required to either approve or reject the request.

**Step 2: User Notification**

The user is notified through multiple channels to ensure they are aware of the request. Notifications are sent via:

  * **In-App (Upstox Mobile/Web):** A prompt appears within the Upstox mobile or web platform.
  * **WhatsApp:** An additional notification is sent to the user's WhatsApp account for convenience.



These notifications provide the necessary details about the request, including the reason and origin, enabling the user to make an informed decision.

**Step 3: User Action**

The user can either approve or reject the request based on their discretion:

  * **Approval:** If the user approves the request, the access token is securely transmitted to the designated Notifier Webhook Endpoint, which was configured during the app setup process. This ensures that the token reaches the appropriate endpoint for further use.
  * **Rejection:** If the user rejects the request, the token generation process is terminated, and the request is discarded. No token is created or sent.



**Note:** It is crucial to distinguish this API from the [standard token generation API](<https://upstox.com/developer/api-documentation/get-token>), which is used for generating tokens independently by the Account Holder without external initiation.

### Request[â€‹](<https://upstox.com/developer/api-documentation/access-token-request/#request> "Direct link to heading")
    
    
    curl -X 'POST' 'https://api.upstox.com/v3/login/auth/token/request/678d46e1-91ac-4b8d-925d-89c8e3015c2b' \  
    -H 'accept: application/json' \  
    -H 'Content-Type: application/json' \  
    -d '{  
      "client_secret": "{your_client_secret}"  
    }'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/access-token-request/#sample-code>) on this page.

### Path Parameters[â€‹](<https://upstox.com/developer/api-documentation/access-token-request/#path-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
client_id| true| string| The API key obtained during the app generation process.  
  
### Request Body[â€‹](<https://upstox.com/developer/api-documentation/access-token-request/#request-body> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
client_secret| true| string| The API secret obtained during the app generation process. This private key remains confidential, known only to the application and the authorization server.  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/access-token-request/#response-body> "Direct link to heading")
    
    
    {  
        "status": "success",  
        "data": {  
            "authorization_expiry": "1732226400000",  
            "notifier_url": "https://initiator-webhook-endpoint"  
        }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Response data for token request  
data.authorization_expiry| string| An expiration time for the access token generation process, starting from the moment a initiator requests the token until the 3:30 AM the following day.  
data.notifier_url| string| The Notifier webhook endpoint where the access token is to be sent. The Notifier webhook endpoint must be configured during the app generation process.  
      
    
    {  
        "status": "error",  
        "errors": [  
            {  
                "errorCode": "UDAPI1123",  
                "message": "Invalid notifier url",  
                "propertyPath": null,  
                "invalidValue": null,  
                "error_code": "UDAPI1123",  
                "property_path": null,  
                "invalid_value": null  
            }  
        ]  
    }  
    

For more details, refer to the [Error Response](<https://upstox.com/developer/api-documentation/response-structure#error-response>) documentation.

### Error codes[â€‹](<https://upstox.com/developer/api-documentation/access-token-request/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI100069| **Check your 'client_id' and 'client_secret'; one or both are incorrect.** \- Thrown when one of the credentials you've passed to this API is invalid.  
UDAPI1123| **Invalid notifier url** \- Thrown when the `notifier_url` not configured during app generation process.  
UDAPI1124| **Invalid user type** \- Thrown when the access token request is not for an `individual` user.  
  
  


### Notifier Webhook[â€‹](<https://upstox.com/developer/api-documentation/access-token-request/#notifier-webhook> "Direct link to heading")

Once the user approves the initiator's request to generate an access token, the Upstox API will send the following payload to the specified notifier webhook URL:

#### Response structure:[â€‹](<https://upstox.com/developer/api-documentation/access-token-request/#response-structure> "Direct link to heading")
    
    
      
    {  
        "client_id": "615b1297-d443-3b39-ba19-1927fbcdddc7",  
        "user_id": "******",  
        "access_token": "*********",  
        "token_type": "Bearer",  
        "expires_at": "1731448800000",  
        "issued_at": "1731412800000",  
        "message_type": "access_token"  
    }  
    

Name| Type| Description  
---|---|---  
client_id| string| The API key associated with the app during its generation process, for which the access token has been successfully generated.  
user_id| string| Uniquely identifies the user (commonly referred as UCC)  
access_token| string| The generated authentication token to be used for all subsequent API requests.  
token_type| string| The type of token issued, indicating the authentication scheme to be used, such as `Bearer`.  
expires_at| string| The timestamp indicating when the access token will expire. After this time, the token will no longer be valid for making API requests and a new token may need to be generated.  
issued_at| string| The timestamp indicating when the access token was issued. It represents the exact time the token was generated.  
message_type| string| The type of webhook response sent to the notifier url.   
such as `access_token`  
  
### Authorization Expiry[â€‹](<https://upstox.com/developer/api-documentation/access-token-request/#authorization-expiry> "Direct link to heading")

The access token request to obtain the `access_token` has a defined validity period that expires at 3:30 AM the following day, unless the user approves it sooner.

For example:

  * If the initiator requests the token at 8:00 PM on Tuesday, the request will expire at 3:30 AM on Wednesday, at which point it will expire.
  * Similarly, if the request is initiated at 2:30 AM on Wednesday, it will still expire at 3:30 AM on the same Wednesday.



Users are encouraged to approve the access token request promptly, keeping the expiration schedule in mind to ensure smooth access and usage.

## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/access-token-request/#sample-code> "Direct link to heading")

### Access token request[â€‹](<https://upstox.com/developer/api-documentation/access-token-request/#access-token-request> "Direct link to heading")

  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/login/auth/token/request/678d46e1-91ac-4b8d-925d-89c8e3015c2b'  
    headers = {  
        'accept': 'application/json',  
        'Content-Type': 'application/json',  
    }  
      
    data = {  
        'client_secret': '{your_client_secret}'  
    }  
      
    response = requests.post(url, headers=headers, data=data)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/login/auth/token/request/678d46e1-91ac-4b8d-925d-89c8e3015c2b';  
    const headers = {  
      'accept': 'application/json',  
      'Content-Type': 'application/json',  
    };  
      
    const data = {  
      'client_secret': '{your_client_secret}'  
    };  
      
    axios.post(url, new URLSearchParams(data), { headers })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error.response.status);  
        console.error(error.response.data);  
      });  
    
    
    
    import java.io.BufferedReader;  
    import java.io.DataOutputStream;  
    import java.io.InputStreamReader;  
    import java.net.HttpURLConnection;  
    import java.nio.charset.StandardCharsets;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            String apiUrl = "https://api.upstox.com/v3/login/auth/token/request/678d46e1-91ac-4b8d-925d-89c8e3015c2b";  
            HttpURLConnection con = (HttpURLConnection) new java.net.URL(apiUrl).openConnection();  
      
            // Set the request method  
            con.setRequestMethod("POST");  
      
            // Set the request headers  
            con.setRequestProperty("accept", "application/json");  
            con.setRequestProperty("Content-Type", "application/json");  
      
            // Enable input/output streams  
            con.setDoOutput(true);  
      
            // Set the request data  
            String data = "{"  
                    + "\"client_secret\": \"{your_client_secret}\""  
                    + "}";  
      
            // Write the request data to the output stream  
            try (DataOutputStream wr = new DataOutputStream(con.getOutputStream())) {  
                wr.write(data.getBytes(StandardCharsets.UTF_8));  
                wr.flush();  
            }  
      
            // Get the response code  
            int responseCode = con.getResponseCode();  
            System.out.println("Response Code: " + responseCode);  
      
            // Read the response  
            try (BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()))) {  
                String inputLine;  
                StringBuilder response = new StringBuilder();  
      
                while ((inputLine = in.readLine()) != null) {  
                    response.append(inputLine);  
                }  
      
                // Print the response  
                System.out.println(response.toString());  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/login/auth/token/request/678d46e1-91ac-4b8d-925d-89c8e3015c2b';  
      
    $headers = [  
        'accept: application/json',  
        'Content-Type: application/json',  
    ];  
      
    $data = [  
        'client_secret' => '{your_client_secret}'  
    ];  
      
    $ch = curl_init($url);  
      
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, http_build_query($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Response Code: $httpCode\n";  
    echo "Response Data: $response\n";  
      
    ?>  
    
    
    
    import upstox_client  
      
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
      
    api_instance = upstox_client.LoginApi(upstox_client.ApiClient(configuration))  
    body = upstox_client.IndieUserTokenRequest(client_secret="****")  
    try:  
        api_response = api_instance.init_token_request_for_indie_user(body,client_id="*****")  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling indie token request: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let apiInstance = new UpstoxClient.LoginApi();  
    let body = new UpstoxClient.IndieUserTokenRequest();  
    body.clientSecret = "your_client_secret"; // Replace with your actual client secret  
    apiInstance.initTokenRequestForIndieUser(body,"your_client_id",  (error, data, response) => {  
        if (error) {  
          console.error(error.response.text);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
      });  
    
    
    
    import com.upstox.ApiException;  
    import com.upstox.api.IndieUserInitTokenResponse;  
    import com.upstox.api.IndieUserTokenRequest;  
    import io.swagger.client.api.LoginApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            LoginApi loginApi = new LoginApi();  
            IndieUserTokenRequest indieUserTokenRequest = new IndieUserTokenRequest();  
            indieUserTokenRequest.setClientSecret("your_client_secret");  
            try {  
                IndieUserInitTokenResponse indieUserInitTokenResponse = loginApi.initTokenRequestForIndieUser(indieUserTokenRequest, "your_client_id");  
                System.out.println(indieUserInitTokenResponse);  
            } catch (ApiException e) {  
                System.out.println(e.getResponseBody());  
                throw new RuntimeException(e);  
            }  
        }  
    }  
    
    
    
    POST /login/auth/token/request/:client_id

#### Request

Live URLhttps://api.upstox.com/v3

`Authorization`

Bearer

`client_id` â€” path **required**

Notifier Webhook Endpoint

  * The Notifier Webhook Endpoint is a designated URL that must be configured during the app generation process. This endpoint is a POST API hosted by the request initiators where our system will send the `access_token`. For details on the webhook payload, refer to the [Notifier Webhook](<https://upstox.com/developer/api-documentation/access-token-request#notifier-webhook>) section for webhook payload.
  * For more details and comprehensive setup instructions, see the [Notifier Webhook Endpoint](<https://upstox.com/developer/api-documentation/appendix/notifier-webhook-endpoint>) section.



NOTE

  * In the Access Token Request, `client_id` means API Key (not customer UCC) and `client_secret` means API Secret.




---
# Source: https://upstox.com/developer/api-documentation/logout
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Login](<https://upstox.com/developer/api-documentation/login>)
  * Logout



## Logout[â€‹](<https://upstox.com/developer/api-documentation/logout/#logout> "Direct link to heading")

API to log out a user's active session, making the current session no longer valid. After logging out, the user will need to log in again for any further interactions.

### Request[â€‹](<https://upstox.com/developer/api-documentation/logout/#request> "Direct link to heading")
    
    
    curl --location --request DELETE 'https://api.upstox.com/v2/logout' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/logout/#sample-code>) on this page.

**Responses**

  * 200



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/logout/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": true  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| boolean| Indicates whether the logout was successful  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/logout/#sample-code> "Direct link to heading")

  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/logout'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.delete(url, headers=headers)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/logout';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.delete(url, { headers })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error.response.status);  
        console.error(error.response.data);  
      });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/logout";  
            String accessToken = "{your_access_token}";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer " + accessToken)  
                    .DELETE()  
                    .build();  
      
            try {  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                System.out.println("Status Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/logout';  
    $accessToken = '{your_access_token}';  
      
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer ' . $accessToken,  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'DELETE');  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
    $status_code = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Status Code: $status_code\n";  
    echo "Response: $response\n";  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.LoginApi(upstox_client.ApiClient(configuration))  
    api_version = '2.0'  
      
    try:  
        # Logout  
        api_response = api_instance.logout(api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling LoginApi->logout: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
      
    let OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = '{your_access_token}';  
      
    let apiInstance = new UpstoxClient.LoginApi();  
    let apiVersion = "2.0";  
      
    apiInstance.logout(apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.LogoutResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.LoginApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            LoginApi apiInstance = new LoginApi();  
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                LogoutResponse result = apiInstance.logout(apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling LoginApi#logout");  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    DELETE /logout

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer


---
# Source: https://upstox.com/developer/api-documentation/user
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * User



# User

## [description Get ProfileGet user profile related information.](<https://upstox.com/developer/api-documentation/get-profile>)## [description Get Fund And MarginGet user fund related information in equity and commodity market.](<https://upstox.com/developer/api-documentation/get-user-fund-margin>)


---
# Source: https://upstox.com/developer/api-documentation/get-profile
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [User](<https://upstox.com/developer/api-documentation/user>)
  * Get Profile



## Get Profile[â€‹](<https://upstox.com/developer/api-documentation/get-profile/#get-profile> "Direct link to heading")

API to retrieve user profile data, which encompasses details such as supported exchanges, enabled product offerings, and permitted order types. If you're business and developing an application for multi-client API usage, you can utilize this data to display in the user's profile section.

### Request[â€‹](<https://upstox.com/developer/api-documentation/get-profile/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/user/profile' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

Additional samples in various languages are available in the [Sample Code section](<https://upstox.com/developer/api-documentation/get-profile/#sample-code>) on this page.

**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-profile/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "email": "******",  
        "exchanges": ["NSE", "NFO", "BSE", "CDS", "BFO", "BCD"],  
        "products": ["D", "CO", "I"],  
        "broker": "UPSTOX",  
        "user_id": "******",  
        "user_name": "******",  
        "order_types": ["MARKET", "LIMIT", "SL", "SL-M"],  
        "user_type": "individual",  
        "poa": false,  
        "ddpi": false,  
        "is_active": true  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Response data for user profile  
data.email| string| E-mail address of the user  
data.exchanges| string[]| List of exchanges enabled for the user. Valid exchanges can be found in the [Exchange Appendix](<https://upstox.com/developer/api-documentation/appendix/exchange>)  
data.products| string[]| Lists the types of products enabled for the user.   
Possible values: `I`, `D`, `CO`, `MTF`  
data.broker| string| The broker ID  
data.user_id| string| Uniquely identifies the user (commonly referred as UCC)  
data.user_name| string| Name of the user  
data.order_types| string[]| Order types enabled for the user.   
Possible values: `MARKET`, `LIMIT`, `SL`, `SL-M`  
data.user_type| string| Identifies the user's registered role at the broker. This will be individual for all retail users  
data.poa| boolean| Indicates whether the user has authorized power of attorney for transactions.  
data.ddpi| boolean| Indicates whether the user has authorized DDPI (Demat Debit and Pledge Instruction) for transactions.  
data.is_active| boolean| Indicates if the account status is active.  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/get-profile/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI100058| **No segments for these users are active. Manual reactivation is recommended from Upstox app/web.** \- Thrown when the signing-in user lacks active segments on their account. It's recommended that the user re-enable these segments through the Upstox app or website.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-profile/#sample-code> "Direct link to heading")

### Get user profile information using access token[â€‹](<https://upstox.com/developer/api-documentation/get-profile/#get-user-profile-information-using-access-token> "Direct link to heading")

  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/user/profile'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
    response = requests.get(url, headers=headers)  
      
    print(response.status_code)  
    print(response.json())  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/user/profile';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpHeaders;  
      
    public class Main {  
        public static void main(String[] args) {  
            try {  
                String url = "https://api.upstox.com/v2/user/profile";  
                HttpClient httpClient = HttpClient.newHttpClient();  
      
                HttpRequest request = HttpRequest.newBuilder()  
                        .uri(URI.create(url))  
                        .header("Content-Type", "application/json")  
                        .header("Accept", "application/json")  
                        .header("Authorization", "Bearer {your_access_token}")  
                        .build();  
      
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                System.out.println("Response Code: " + response.statusCode());  
      
                HttpHeaders headers = response.headers();  
                headers.map().forEach((k, v) -> System.out.println(k + ":" + v));  
      
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/user/profile';  
    $headers = array(  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}'  
    );  
      
    $ch = curl_init($url);  
      
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Response Code: $httpCode\n";  
    echo "Response Body: $response\n";  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    api_instance = upstox_client.UserApi(upstox_client.ApiClient(configuration))  
      
    try:  
        # Get User Fund And Margin  
        api_response = api_instance.get_profile(api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling UserApi->get_user_fund_margin: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.UserApi();  
    let apiVersion = "2.0"; // String | API Version Header  
    apiInstance.getProfile(apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetProfileResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.UserApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            UserApi apiInstance = new UserApi();  
            String apiVersion = "2.0";  
            try {  
                GetProfileResponse result = apiInstance.getProfile(apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling UserApi#getProfile");  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    GET /user/profile

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer


---
# Source: https://upstox.com/developer/api-documentation/get-user-fund-margin
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [User](<https://upstox.com/developer/api-documentation/user>)
  * Get Fund And Margin



## Get Fund And Margin[â€‹](<https://upstox.com/developer/api-documentation/get-user-fund-margin/#get-fund-and-margin> "Direct link to heading")

API to retrieve user funds data for both the equity and commodity markets, including data such as the margin utilized by the user, the available margin for trading, and the total payin amount during the day.

### Request[â€‹](<https://upstox.com/developer/api-documentation/get-user-fund-margin/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/user/get-funds-and-margin' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

Additional samples in various languages are available in the [Sample Code section](<https://upstox.com/developer/api-documentation/get-user-fund-margin/#sample-code>) on this page.

  


### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-user-fund-margin/#query-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
segment| false| string| Determines the market segment related to the transaction. Without a specified segment in the request, the response will encompass results for both commodities and equities.   
Possible values: for Equity use `SEC`, for Commodity use `COM`  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-user-fund-margin/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "equity": {  
          "used_margin": 0.8,  
          "payin_amount": 200.0,  
          "span_margin": 0.0,  
          "adhoc_margin": 0.0,  
          "notional_cash": 0.0,  
          "available_margin": 15507.46,  
          "exposure_margin": 0.0  
        },  
        "commodity": {  
          "used_margin": 0,  
          "payin_amount": 0,  
          "span_margin": 0,  
          "adhoc_margin": 0,  
          "notional_cash": 0,  
          "available_margin": 0,  
          "exposure_margin": 0  
        }  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Response data for Balance  
data.used_margin| float| Positive values denote the amount blocked into an Open order or position. Negative value denotes the amount being released.  
data.payin_amount| float| Instant payin will reflect here  
data.span_margin| float| Amount blocked on futures and options towards SPAN  
data.adhoc_margin| float| Payin amount credited through a manual process  
data.notional_cash| float| The amount maintained for withdrawal  
data.available_margin| float| Total margin available for trading  
data.exposure_margin| float| Amount blocked on futures and options towards Exposure  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/get-user-fund-margin/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI100072| **The Funds service is accessible from 5:30 AM to 12:00 AM IST daily** \- Thrown when an funds API is called between midnight and 5:30 AM in the morning.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-user-fund-margin/#sample-code> "Direct link to heading")

  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/user/get-funds-and-margin'  
      
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/user/get-funds-and-margin';  
      
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/user/get-funds-and-margin";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .GET()  
                    .build();  
      
            try {  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                System.out.println("Status Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
            } catch (Exception e) {  
                System.err.println("Error: " + e.getMessage());  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/user/get-funds-and-margin';  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, array(  
        'Content-Type: application/json',  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader,  
    ));  
      
    $response = curl_exec($ch);  
    $status_code = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Status Code: " . $status_code . PHP_EOL;  
    echo "Response Body: " . $response . PHP_EOL;  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    api_instance = upstox_client.UserApi(upstox_client.ApiClient(configuration))  
      
    try:  
        # Get User Fund And Margin  
        api_response = api_instance.get_user_fund_margin(api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling UserApi->get_user_fund_margin: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.UserApi();  
    let apiVersion = "2.0";   
      
    apiInstance.getUserFundMargin(apiVersion, null, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetUserFundMarginResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.UserApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            UserApi apiInstance = new UserApi();  
            String apiVersion = "2.0"; // String | API Version Header  
            String segment = "";   
            try {  
                GetUserFundMarginResponse result = apiInstance.getUserFundMargin(apiVersion, segment);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling UserApi#getUserFundMargin");  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    GET /user/get-funds-and-margin

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

Show optional parameters

`segment` â€” query

\---SECCOM

NOTE

  * From **19th July 2025** , combined funds for both Equity and Commodity segments will be returned in the `equity` object. For more information please refer to [Fund and Margin API Response Change](<https://upstox.com/developer/api-documentation/announcements/fund-margin-api-change>) annoucement.
  * The Funds service is down for maintenance from 12:00 AM to 5:30 AM IST daily and is not available for usage during these hours. Users are advised to plan their activities accordingly.




---
# Source: https://upstox.com/developer/api-documentation/charges
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * Charges



# Charges

## [description Brokerage DetailsCalculate brokerage charges for an order.](<https://upstox.com/developer/api-documentation/get-brokerage>)


---
# Source: https://upstox.com/developer/api-documentation/get-brokerage
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Charges](<https://upstox.com/developer/api-documentation/charges>)
  * Brokerage Details



## Brokerage Details[â€‹](<https://upstox.com/developer/api-documentation/get-brokerage/#brokerage-details> "Direct link to heading")

API for calculating brokerage fees associated with stock. It accepts input parameters like the instrument, quantity, and other necessary details, and provides a comprehensive breakdown of the total charges.

### Request[â€‹](<https://upstox.com/developer/api-documentation/get-brokerage/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/charges/brokerage?instrument_token=NSE_EQ%7CINE669E01016&quantity=10&product=D&transaction_type=BUY&price=13.7' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/get-brokerage/#sample-code>) on this page.

### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-brokerage/#query-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
instrument_token| true| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
quantity| true| integer (int32)| Quantity with which the order is to be placed  
product| true| string| Product with which the order is to be placed  
transaction_type| true| string| Indicates whether its a BUY or SELL order  
price| true| number (float)| Price with which the order is to be placed  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-brokerage/#response-body> "Direct link to heading")
    
    
    {  
        "status": "success",  
        "data": {  
            "charges": {  
                "total": 208.27,  
                "brokerage": 0.0,  
                "taxes": {  
                    "gst": 1.02,  
                    "stt": 175.0,  
                    "stamp_duty": 26.23  
                },  
                "other_charges": {  
                    "transaction": 5.68,  
                    "clearing": 0.0,  
                    "ipft": 0.17,  
                    "sebi_turnover": 0.17  
                },  
                "dp_plan": {  
                    "name": "DP3A",  
                    "min_expense": 18.5  
                }  
                "otherTaxes": {  
                    "transaction": 5.68,  
                    "clearing": 0.0,  
                    "ipft": 0.17,  
                    "sebi_turnover": 0.17  
                },  
                "dpPlan": {  
                    "name": "DP3A",  
                    "min_expense": 18.5  
                },  
            }  
        }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Response data for brokerage  
data.charges| object| Response data for charges details  
data.charges.total| float| Total charges for the order  
data.charges.brokerage| float| Brokerage charges for the order  
data.charges.taxes| object| Taxes levied on order  
data.charges.taxes.gst| float| GST charges  
data.charges.taxes.stt| float| STT charges  
data.charges.taxes.stamp_duty| float| Stamp duty charges  
data.charges.other_charges| object| Other applicable charges  
data.charges.other_charges.transaction| float| Transaction charges  
data.charges.other_charges.clearing| float| Clearing charges  
data.charges.other_charges.ipft| float| IPF charges  
data.charges.other_charges.sebi_turnover| float| SEBI turnover charges  
data.charges.dp_plan| object| dpPlan detail  
data.charges.dp_plan.name| string| Name of the user's Depository Participant plan, indicating the specific DP service they are enrolled in.  
data.charges.dp_plan.min_expense| float| Daily minimum charges per scrip on sales, not included in brokerage calculations, indicating extra costs under the user's DP plan.  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/get-brokerage/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1059| **The instrument_token is of invalid format** \- The given `instrument_token` format isn't correct  
UDAPI1060| **The quantity is required** \- The `quantity` field needs to be provided  
UDAPI1064| **The quantity cannot be zero** \- You cannot provide zero as the `quantity` value  
UDAPI1063| **The product is required** \- The `product` field is missing  
UDAPI1054| **The 'product' is invalid** \- The provided value for `product` is not acceptable  
UDAPI1062| **The transaction_type is required** \- You need to provide the `transaction_type` field  
UDAPI1057| **The ''transaction_type'' is invalid** \- The given value for `transaction_type` is not valid  
UDAPI1061| **The price is required** \- The `price` field is missing  
UDAPI1065| **The price cannot be zero** \- Zero is not an acceptable value for `price`  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-brokerage/#sample-code> "Direct link to heading")

### Equity delivery orders[â€‹](<https://upstox.com/developer/api-documentation/get-brokerage/#equity-delivery-orders> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/charges/brokerage?instrument_token=NSE_EQ%7CINE669E01016&quantity=10&product=D&transaction_type=BUY&price=13.7' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/charges/brokerage'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    params = {  
        'instrument_token': 'NSE_EQ|INE669E01016',  
        'quantity': '10',  
        'product': 'D',  
        'transaction_type': 'BUY',  
        'price': '13.7'  
    }  
      
    response = requests.get(url, headers=headers, params=params)  
      
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/charges/brokerage';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    const params = {  
        instrument_token: 'NSE_EQ|INE669E01016',  
        quantity: '10',  
        product: 'D',  
        transaction_type: 'BUY',  
        price: '13.7'  
    };  
      
    axios.get(url, { headers, params })  
        .then(response => {  
            console.log(response.data);  
        })  
        .catch(error => {  
            console.error(error.message);  
        });  
    
    
    
    import java.io.BufferedReader;  
    import java.io.InputStreamReader;  
    import java.net.HttpURLConnection;  
    import java.net.URL;  
    import java.util.Map;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            try {  
                String url = "https://api.upstox.com/v2/charges/brokerage";  
                String contentTypeHeader = "application/json";  
                String acceptHeader = "application/json";  
                String authorizationHeader = "Bearer {your_access_token}";  
                String instrumentToken = "NSE_EQ|INE669E01016";  
                String quantity = "10";  
                String product = "D";  
                String transactionType = "BUY";  
                String price = "13.7";  
      
                // Construct URL with parameters  
                StringBuilder urlBuilder = new StringBuilder(url);  
                urlBuilder.append("?instrument_token=").append(instrumentToken)  
                        .append("&quantity=").append(quantity)  
                        .append("&product=").append(product)  
                        .append("&transaction_type=").append(transactionType)  
                        .append("&price=").append(price);  
      
                URL obj = new URL(urlBuilder.toString());  
                HttpURLConnection connection = (HttpURLConnection) obj.openConnection();  
      
                // Set request method  
                connection.setRequestMethod("GET");  
      
                // Set request headers  
                connection.setRequestProperty("Content-Type", contentTypeHeader);  
                connection.setRequestProperty("Accept", acceptHeader);  
                connection.setRequestProperty("Authorization", authorizationHeader);  
      
                // Get response code  
                int responseCode = connection.getResponseCode();  
                System.out.println("Response Code: " + responseCode);  
      
                // Read the response  
                BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));  
                String inputLine;  
                StringBuilder response = new StringBuilder();  
      
                while ((inputLine = in.readLine()) != null) {  
                    response.append(inputLine);  
                }  
                in.close();  
      
                // Print the response  
                System.out.println("Response: " + response.toString());  
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/charges/brokerage';  
    $contentTypeHeader = 'application/json';  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $instrumentToken = 'NSE_EQ|INE669E01016';  
    $quantity = '10';  
    $product = 'D';  
    $transactionType = 'BUY';  
    $price = '13.7';  
      
    // Construct URL with parameters  
    $url .= '?instrument_token=' . urlencode($instrumentToken)  
        . '&quantity=' . urlencode($quantity)  
        . '&product=' . urlencode($product)  
        . '&transaction_type=' . urlencode($transactionType)  
        . '&price=' . urlencode($price);  
      
    $ch = curl_init($url);  
      
    // Set cURL options  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, [  
        'Content-Type: ' . $contentTypeHeader,  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader,  
    ]);  
      
    // Execute cURL session and get the response  
    $response = curl_exec($ch);  
      
    // Check for cURL errors  
    if (curl_errno($ch)) {  
        echo 'Curl error: ' . curl_error($ch);  
    }  
      
    // Close cURL session  
    curl_close($ch);  
      
    // Print the response  
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
      
    api_instance = upstox_client.ChargeApi(upstox_client.ApiClient(configuration))  
    instrument_token = 'NSE_EQ|INE669E01016'  
    quantity = 10  
    product = 'D'  
    transaction_type = 'BUY'  
    price = 13.4   
      
      
    try:  
        # Brokerage details  
        api_response = api_instance.get_brokerage(instrument_token, quantity, product, transaction_type, price, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling ChargeApi->get_brokerage: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.ChargeApi();  
    let instrumentToken = "NSE_EQ|INE669E01016";   
    let quantity = 56;   
    let product = "D";   
    let transactionType = "BUY";   
    let price = 23.4;   
    let apiVersion = "2.0";   
      
    apiInstance.getBrokerage(instrumentToken, quantity, product, transactionType, price, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetBrokerageResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.ChargeApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            ChargeApi apiInstance = new ChargeApi();  
            String instrumentToken = "NSE_EQ|INE669E01016";  
            int quantity = 56;  
            String product = "D";  
            String transactionType = "BUY";  
            float price = 31.4F;  
            String apiVersion = "2.0";  
            try {  
                GetBrokerageResponse result = apiInstance.getBrokerage(instrumentToken, quantity, product, transactionType, price, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling ChargeApi#getBrokerage");  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Equity intraday orders[â€‹](<https://upstox.com/developer/api-documentation/get-brokerage/#equity-intraday-orders> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/charges/brokerage?instrument_token=NSE_EQ%7CINE669E01016&quantity=10&product=I&transaction_type=BUY&price=13.7' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
      
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/charges/brokerage'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    params = {  
        'instrument_token': 'NSE_EQ|INE669E01016',  
        'quantity': '10',  
        'product': 'I',  
        'transaction_type': 'BUY',  
        'price': '13.7'  
    }  
      
    response = requests.get(url, headers=headers, params=params)  
      
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/charges/brokerage';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    const params = {  
        instrument_token: 'NSE_EQ|INE669E01016',  
        quantity: '10',  
        product: 'I',  
        transaction_type: 'BUY',  
        price: '13.7'  
    };  
      
    axios.get(url, { headers, params })  
        .then(response => {  
            console.log(response.data);  
        })  
        .catch(error => {  
            console.error(error.message);  
        });  
    
    
    
    import java.io.BufferedReader;  
    import java.io.InputStreamReader;  
    import java.net.HttpURLConnection;  
    import java.net.URL;  
    import java.util.Map;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            try {  
                String url = "https://api.upstox.com/v2/charges/brokerage";  
                String contentTypeHeader = "application/json";  
                String acceptHeader = "application/json";  
                String authorizationHeader = "Bearer {your_access_token}";  
                String instrumentToken = "NSE_EQ|INE669E01016";  
                String quantity = "10";  
                String product = "I";  
                String transactionType = "BUY";  
                String price = "13.7";  
      
                // Construct URL with parameters  
                StringBuilder urlBuilder = new StringBuilder(url);  
                urlBuilder.append("?instrument_token=").append(instrumentToken)  
                        .append("&quantity=").append(quantity)  
                        .append("&product=").append(product)  
                        .append("&transaction_type=").append(transactionType)  
                        .append("&price=").append(price);  
      
                URL obj = new URL(urlBuilder.toString());  
                HttpURLConnection connection = (HttpURLConnection) obj.openConnection();  
      
                // Set request method  
                connection.setRequestMethod("GET");  
      
                // Set request headers  
                connection.setRequestProperty("Content-Type", contentTypeHeader);  
                connection.setRequestProperty("Accept", acceptHeader);  
                connection.setRequestProperty("Authorization", authorizationHeader);  
      
                // Get response code  
                int responseCode = connection.getResponseCode();  
                System.out.println("Response Code: " + responseCode);  
      
                // Read the response  
                BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));  
                String inputLine;  
                StringBuilder response = new StringBuilder();  
      
                while ((inputLine = in.readLine()) != null) {  
                    response.append(inputLine);  
                }  
                in.close();  
      
                // Print the response  
                System.out.println("Response: " + response.toString());  
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/charges/brokerage';  
    $contentTypeHeader = 'application/json';  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $instrumentToken = 'NSE_EQ|INE669E01016';  
    $quantity = '10';  
    $product = 'I';  
    $transactionType = 'BUY';  
    $price = '13.7';  
      
    // Construct URL with parameters  
    $url .= '?instrument_token=' . urlencode($instrumentToken)  
        . '&quantity=' . urlencode($quantity)  
        . '&product=' . urlencode($product)  
        . '&transaction_type=' . urlencode($transactionType)  
        . '&price=' . urlencode($price);  
      
    $ch = curl_init($url);  
      
    // Set cURL options  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, [  
        'Content-Type: ' . $contentTypeHeader,  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader,  
    ]);  
      
    // Execute cURL session and get the response  
    $response = curl_exec($ch);  
      
    // Check for cURL errors  
    if (curl_errno($ch)) {  
        echo 'Curl error: ' . curl_error($ch);  
    }  
      
    // Close cURL session  
    curl_close($ch);  
      
    // Print the response  
    echo $response;  
    ?>  
      
      
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
      
    api_instance = upstox_client.ChargeApi(upstox_client.ApiClient(configuration))  
    instrument_token = 'NSE_EQ|INE669E01016'  
    quantity = 10  
    product = 'I'  
    transaction_type = 'BUY'  
    price = 13.4  
      
      
    try:  
        # Brokerage details  
        api_response = api_instance.get_brokerage(instrument_token, quantity, product, transaction_type, price, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling ChargeApi->get_brokerage: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.ChargeApi();  
    let instrumentToken = "NSE_EQ|INE669E01016";   
    let quantity = 10;   
    let product = "I";   
    let transactionType = "BUY";   
    let price = 20.4;   
    let apiVersion = "2.0";   
      
    apiInstance.getBrokerage(instrumentToken, quantity, product, transactionType, price, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetBrokerageResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.ChargeApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            ChargeApi apiInstance = new ChargeApi();  
            String instrumentToken = "NSE_EQ|INE669E01016";  
            int quantity = 56;  
            String product = "I";  
            String transactionType = "BUY";  
            float price = 31.4F;  
            String apiVersion = "2.0";  
            try {  
                GetBrokerageResponse result = apiInstance.getBrokerage(instrumentToken, quantity, product, transactionType, price, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling ChargeApi#getBrokerage");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

### Equity futures and options delivery orders[â€‹](<https://upstox.com/developer/api-documentation/get-brokerage/#equity-futures-and-options-delivery-orders> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/charges/brokerage?instrument_token=NSE_FO%7C35271&quantity=10&product=D&transaction_type=BUY&price=1400' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/charges/brokerage'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    params = {  
        'instrument_token': 'NSE_FO|35271',  
        'quantity': '10',  
        'product': 'D',  
        'transaction_type': 'BUY',  
        'price': '1400'  
    }  
      
    response = requests.get(url, headers=headers, params=params)  
      
    print(response.status_code)  
    print(response.json())  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/charges/brokerage';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    const params = {  
        'instrument_token': 'NSE_FO|35271',  
        'quantity': '10',  
        'product': 'D',  
        'transaction_type': 'BUY',  
        'price': '1400'  
    };  
      
    axios.get(url, { headers, params })  
        .then(response => {  
            console.log(response.status);  
            console.log(response.data);  
        })  
        .catch(error => {  
            console.error(error.response.status);  
            console.error(error.response.data);  
        });  
    
    
    
    import java.io.BufferedReader;  
    import java.io.IOException;  
    import java.io.InputStreamReader;  
    import java.net.HttpURLConnection;  
    import java.net.URL;  
    import java.util.Map;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            try {  
                String url = "https://api.upstox.com/v2/charges/brokerage";  
                String accessToken = "{your_access_token}"; // Replace {your_access_token} with your actual access token  
      
                // Construct URL with parameters  
                String params = "instrument_token=NSE_FO%7C35271&quantity=10&product=D&transaction_type=BUY&price=1400";  
                URL apiUrl = new URL(url + "?" + params);  
      
                // Open connection  
                HttpURLConnection connection = (HttpURLConnection) apiUrl.openConnection();  
      
                // Set request method  
                connection.setRequestMethod("GET");  
      
                connection.setRequestProperty("Content-Type", "application/json");  
                connection.setRequestProperty("Accept", "application/json");  
                connection.setRequestProperty("Authorization", "Bearer " + accessToken);  
      
                // Get response code  
                int responseCode = connection.getResponseCode();  
                System.out.println("Response Code: " + responseCode);  
      
                // Read response  
                BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));  
                String inputLine;  
                StringBuilder response = new StringBuilder();  
      
                while ((inputLine = in.readLine()) != null) {  
                    response.append(inputLine);  
                }  
                in.close();  
      
                // Print response  
                System.out.println("Response: " + response.toString());  
      
            } catch (IOException e) {  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
    $url = 'https://api.upstox.com/v2/charges/brokerage';  
    $accessToken = '{your_access_token}'; // Replace {your_access_token} with your actual access token  
      
    // Construct URL with parameters  
    $params = http_build_query([  
        'instrument_token' => 'NSE_FO|35271',  
        'quantity' => '10',  
        'product' => 'D',  
        'transaction_type' => 'BUY',  
        'price' => '1400',  
    ]);  
      
    $fullUrl = $url . '?' . $params;  
      
    // Set headers  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer ' . $accessToken,  
    ];  
      
    // Initialize cURL session  
    $ch = curl_init($fullUrl);  
      
    // Set cURL options  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    // Execute cURL session and get the response  
    $response = curl_exec($ch);  
      
    // Get HTTP response code  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    // Close cURL session  
    curl_close($ch);  
      
    // Print response code and body  
    echo "Response Code: $httpCode\n";  
    echo "Response: $response\n";  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
      
    api_instance = upstox_client.ChargeApi(upstox_client.ApiClient(configuration))  
    instrument_token = 'NSE_FO|35271'  
    quantity = 10  
    product = 'D'  
    transaction_type = 'BUY'  
    price = 1333.4  
      
      
    try:  
        # Brokerage details  
        api_response = api_instance.get_brokerage(instrument_token, quantity, product, transaction_type, price, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling ChargeApi->get_brokerage: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.ChargeApi();  
    let instrumentToken = "NSE_FO|35271";   
    let quantity = 10;   
    let product = "D";   
    let transactionType = "BUY";   
    let price = 2000.4;   
    let apiVersion = "2.0";   
      
    apiInstance.getBrokerage(instrumentToken, quantity, product, transactionType, price, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetBrokerageResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.ChargeApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            ChargeApi apiInstance = new ChargeApi();  
            String instrumentToken = "NSE_FO|35271";  
            int quantity = 5;  
            String product = "D";  
            String transactionType = "BUY";  
            float price = 1331.4F;  
            String apiVersion = "2.0";  
            try {  
                GetBrokerageResponse result = apiInstance.getBrokerage(instrumentToken, quantity, product, transactionType, price, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling ChargeApi#getBrokerage");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

### Equity futures and options intraday orders[â€‹](<https://upstox.com/developer/api-documentation/get-brokerage/#equity-futures-and-options-intraday-orders> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/charges/brokerage?instrument_token=NSE_FO%7C35271&quantity=10&product=I&transaction_type=BUY&price=1400' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/charges/brokerage'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    params = {  
        'instrument_token': 'NSE_FO|35271',  
        'quantity': '10',  
        'product': 'I',  
        'transaction_type': 'BUY',  
        'price': '1400'  
    }  
      
    response = requests.get(url, headers=headers, params=params)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/charges/brokerage';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    const params = {  
        'instrument_token': 'NSE_FO|35271',  
        'quantity': '10',  
        'product': 'I',  
        'transaction_type': 'BUY',  
        'price': '1400'  
    };  
      
    axios.get(url, { headers, params })  
        .then(response => {  
            console.log(response.status);  
            console.log(response.data);  
        })  
        .catch(error => {  
            console.error(error.response.status);  
            console.error(error.response.data);  
        });  
      
    
    
    
    import java.io.BufferedReader;  
    import java.io.IOException;  
    import java.io.InputStreamReader;  
    import java.net.HttpURLConnection;  
    import java.net.URL;  
    import java.util.Map;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            try {  
                String url = "https://api.upstox.com/v2/charges/brokerage";  
                String accessToken = "{your_access_token}"; // Replace {your_access_token} with your actual access token  
      
                // Construct URL with parameters  
                String params = "instrument_token=NSE_FO%7C35271&quantity=10&product=I&transaction_type=BUY&price=1400";  
                URL apiUrl = new URL(url + "?" + params);  
      
                // Open connection  
                HttpURLConnection connection = (HttpURLConnection) apiUrl.openConnection();  
      
                // Set request method  
                connection.setRequestMethod("GET");  
      
                // Set headers  
                connection.setRequestProperty("Content-Type", "application/json");  
                connection.setRequestProperty("Accept", "application/json");  
                connection.setRequestProperty("Authorization", "Bearer " + accessToken);  
      
                // Get response code  
                int responseCode = connection.getResponseCode();  
                System.out.println("Response Code: " + responseCode);  
      
                // Read response  
                BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));  
                String inputLine;  
                StringBuilder response = new StringBuilder();  
      
                while ((inputLine = in.readLine()) != null) {  
                    response.append(inputLine);  
                }  
                in.close();  
      
                // Print response  
                System.out.println("Response: " + response.toString());  
      
            } catch (IOException e) {  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/charges/brokerage';  
    $accessToken = '{your_access_token}'; // Replace {your_access_token} with your actual access token  
      
    // Construct URL with parameters  
    $params = http_build_query([  
        'instrument_token' => 'NSE_FO|35271',  
        'quantity' => '10',  
        'product' => 'I',  
        'transaction_type' => 'BUY',  
        'price' => '1400',  
    ]);  
      
    $fullUrl = $url . '?' . $params;  
      
    // Set headers  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer ' . $accessToken,  
    ];  
      
    // Initialize cURL session  
    $ch = curl_init($fullUrl);  
      
    // Set cURL options  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    // Execute cURL session and get the response  
    $response = curl_exec($ch);  
      
    // Get HTTP response code  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    // Close cURL session  
    curl_close($ch);  
      
    // Print response code and body  
    echo "Response Code: $httpCode\n";  
    echo "Response: $response\n";  
      
    ?>  
      
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
      
    api_instance = upstox_client.ChargeApi(upstox_client.ApiClient(configuration))  
    instrument_token = 'NSE_FO|35271'  
    quantity = 10  
    product = 'I'  
    transaction_type = 'BUY'  
    price = 1333.4  
      
      
    try:  
        # Brokerage details  
        api_response = api_instance.get_brokerage(instrument_token, quantity, product, transaction_type, price, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling ChargeApi->get_brokerage: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.ChargeApi();  
    let instrumentToken = "NSE_FO|35271";   
    let quantity = 10;   
    let product = "I";   
    let transactionType = "BUY";   
    let price = 2000.4;   
    let apiVersion = "2.0";   
      
    apiInstance.getBrokerage(instrumentToken, quantity, product, transactionType, price, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetBrokerageResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.ChargeApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            ChargeApi apiInstance = new ChargeApi();  
            String instrumentToken = "NSE_FO|35271";  
            int quantity = 5;  
            String product = "I";  
            String transactionType = "BUY";  
            float price = 1331.4F;  
            String apiVersion = "2.0";  
            try {  
                GetBrokerageResponse result = apiInstance.getBrokerage(instrumentToken, quantity, product, transactionType, price, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling ChargeApi#getBrokerage");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    GET /charges/brokerage

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

`instrument_token` â€” query **required**

`quantity` â€” query **required**

`product` â€” query **required**

`transaction_type` â€” query **required**

`price` â€” query **required**


---
# Source: https://upstox.com/developer/api-documentation/margins
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [ Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * Margins



# Margins

## [description Margin DetailsCalculate margins for an order.](<https://upstox.com/developer/api-documentation/margin>)


---
# Source: https://upstox.com/developer/api-documentation/margin
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Margins](<https://upstox.com/developer/api-documentation/margins>)
  * Margin Details



## Margin Details[â€‹](<https://upstox.com/developer/api-documentation/margin/#margin-details> "Direct link to heading")

This API provides the functionality to retrieve the margin for an instrument. It accepts input parameters like the instrument, quantity, transaction_type and product.

Margin fields that are not applicable will be set to zero for a given instrument. A maximum of 20 instruments is allowed per request

### Request[â€‹](<https://upstox.com/developer/api-documentation/margin/#request> "Direct link to heading")
    
    
    curl -X 'POST' \  
      'https://api.upstox.com/v2/charges/margin' \  
      -H 'accept: application/json' \  
      -H 'Authorization: Bearer {your_access_token}' \  
      -H 'Content-Type: application/json' \  
      -d '{  
      "instruments": [  
        {  
          "instrument_key": "NSE_EQ|INE669E01016",  
          "quantity": 1,  
          "transaction_type": "BUY",  
          "product": "D"  
            
        }  
      ]  
    }'  
    

Additional samples in various languages are available in the [Sample Code section](<https://upstox.com/developer/api-documentation/margin/#sample-code>) on this page.

### Request Body[â€‹](<https://upstox.com/developer/api-documentation/margin/#request-body> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
instruments| true| array| Request instruments for margin details.  
instruments[].instrument_key| true| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
instruments[].quantity| true| integer (int32)| Quantity with which the order is to be placed. It should be multiple of lot size.  
instruments[].product| true| string| Product with which the order is to be placed.   
Possible values: `I`, `D`, `CO`, `MTF`.  
instruments[].transaction_type| true| string| Indicates whether its a buy or sell order.   
Possible values: `BUY`, `SELL`.  
instruments[].price| false| number (float)| Price with which the order is to be placed  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/margin/#response-body> "Direct link to heading")

  * EQ
  * Futures
  * Options
  * MCX
  * Currency


    
    
    {  
      "status": "success",  
      "data": {  
        "margins": [  
          {  
            "span_margin": 0,  
            "exposure_margin": 0,  
            "equity_margin": 33.6,  
            "net_buy_premium": 0,  
            "additional_margin": 0,  
            "total_margin": 33.6,  
            "tender_margin": 0  
          }  
        ],  
        "required_margin": 33.6,  
        "final_margin": 33.6  
      }  
    }  
    
    
    
    {  
      "status": "success",  
      "data": {  
        "margins": [  
          {  
            "span_margin": 57501.5,  
            "exposure_margin": 12320.55,  
            "equity_margin": 0,  
            "net_buy_premium": 0,  
            "additional_margin": 0,  
            "total_margin": 69822.05,  
            "tender_margin": 0  
          }  
        ],  
        "required_margin": 69822.05,  
        "final_margin": 69822.05  
      }  
    }  
    
    
    
    {  
      "status": "success",  
      "data": {  
        "margins": [  
          {  
            "span_margin": 0,  
            "exposure_margin": 0,  
            "equity_margin": 0,  
            "net_buy_premium": 1950,  
            "additional_margin": 0,  
            "total_margin": 1950,  
            "tender_margin": 0  
          }  
        ],  
        "required_margin": 1950,  
        "final_margin": 1950  
      }  
    }  
    
    
    
    {  
      "status": "success",  
      "data": {  
        "margins": [  
          {  
            "span_margin": 436,  
            "exposure_margin": 91.5,  
            "equity_margin": 0,  
            "net_buy_premium": 0,  
            "additional_margin": 146.4,  
            "total_margin": 673.9,  
            "tender_margin": 0  
          }  
        ],  
        "required_margin": 673.9,  
        "final_margin": 673.9  
      }  
    }  
    
    
    
    {  
      "status": "success",  
      "data": {  
        "margins": [  
          {  
            "span_margin": 1257.32,  
            "exposure_margin": 418.01,  
            "equity_margin": 0,  
            "net_buy_premium": 0,  
            "additional_margin": 0,  
            "total_margin": 1675.33,  
            "tender_margin": 0  
          }  
        ],  
        "required_margin": 1675.3325,  
        "final_margin": 1675.3325  
      }  
    }  
    

### Field Description[â€‹](<https://upstox.com/developer/api-documentation/margin/#field-description> "Direct link to heading")

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Response data for margin  
data.required_margin| float| Total margin required to execute the orders.  
data.final_margin| float| Total margin after margin benefit.  
data.margins| array| Response data for instrument margin. details.  
data.margins[].equity_margin| float| Margin applicable for any equity trades  
data.margins[].total_margin| float| Total margin required for the basket.   
It will be applicable for all the segments.  
data.margins[].exposure_margin| float| Exposure margin - Based on ELM percentage values provided by exchange.   
It will be applicable only on FNO trades.  
data.margins[].tender_margin| float| Tender margin - It is applicable as the futures contract approaches its expiration date.  
data.margins[].span_margin| float| Span Margin - Upfront margin mandatory by exchange for derivatives trade.   
It will be applicable only on FNO trades.  
data.margins[].net_buy_premium| float| Net Buy Premium - Option premium required.  
data.margins[].additional_margin| float| Additional margin - Application margin applicable on MCX FNO trade for certain commodities.  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/margin/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1054| **The product is invalid** \- The provided value for `product` is not acceptable  
UDAPI1057| **The transaction_type is invalid** \- The given value for `transaction_type` is not valid  
UDAPI1095| **Price must be greater than zero** \- Please provide a valid price field  
UDAPI1096| **Quantity cannot be less than or equal to zero** \- The `quantity` field needs to be greater than zero  
UDAPI1097| **The quantity is required** \- The `quantity` field needs to be provided  
UDAPI1098| **Instrument invalid format** \- The instrument_token is of invalid format  
UDAPI1099| **Instrument key is required** \- The instrument key is missing  
UDAPI1100| **The product is required** \- The product is missing  
UDAPI1101| **The transaction_type is required** \- The `transaction_type` is missing  
UDAPI1102| **The instrument limit has been exceeded** \- 20 instruments at a time are allowed in a single request  
UDAPI1103| **Instrument key cannot be duplicated** \- Same instrument key cannot be repeated  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/margin/#sample-code> "Direct link to heading")

### Equity delivery orders[â€‹](<https://upstox.com/developer/api-documentation/margin/#equity-delivery-orders> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl -X 'POST' \  
      'https://api.upstox.com/v2/charges/margin' \  
      -H 'accept: application/json' \  
      -H 'Authorization: Bearer {your_access_token}' \  
      -H 'Content-Type: application/json' \  
      -d '{  
      "instruments": [  
        {  
          "instrument_key": "NSE_EQ|INE669E01016",  
          "quantity": 1,  
          "transaction_type": "BUY",  
          "product": "D"  
            
        }  
      ]  
    }'  
    
    
    
    import requests  
      
    url = "https://api.upstox.com/v2/charges/margin"  
    headers = {  
        "accept": "application/json",  
        "Authorization": "Bearer {your_access_token}",  
        "Content-Type": "application/json"  
    }  
    data = {  
        "instruments": [  
            {  
                "instrument_key": "NSE_EQ|INE669E01016",  
                "quantity": 1,  
                "transaction_type": "BUY",  
                "product": "D"  
            }  
        ]  
    }  
      
    response = requests.post(url, headers=headers, json=data)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/charges/margin';  
    const headers = {  
      'accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
      'Content-Type': 'application/json'  
    };  
    const data = {  
      instruments: [  
        {  
          instrument_key: 'NSE_EQ|INE669E01016',  
          quantity: 1,  
          transaction_type: 'BUY',  
          product: 'D'  
        }  
      ]  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpRequest.BodyPublishers;  
    import java.net.http.HttpResponse.BodyHandlers;  
      
    public class Main {  
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/charges/margin";  
            String token = "Bearer {your_access_token}";  
            String json = """  
                {  
                  "instruments": [  
                    {  
                      "instrument_key": "NSE_EQ|INE669E01016",  
                      "quantity": 1,  
                      "transaction_type": "BUY",  
                      "product": "D"  
                    }  
                  ]  
                }  
            """;  
      
            HttpClient client = HttpClient.newHttpClient();  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("accept", "application/json")  
                    .header("Authorization", token)  
                    .header("Content-Type", "application/json")  
                    .POST(BodyPublishers.ofString(json))  
                    .build();  
      
            try {  
                HttpResponse<String> response = client.send(request, BodyHandlers.ofString());  
                System.out.println("Status code: " + response.statusCode());  
                System.out.println("Response body: " + response.body());  
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/charges/margin';  
    $token = 'Bearer {your_access_token}';  
    $data = [  
        "instruments" => [  
            [  
                "instrument_key" => "NSE_EQ|INE669E01016",  
                "quantity" => 1,  
                "transaction_type" => "BUY",  
                "product" => "D"  
            ]  
        ]  
    ];  
      
    $headers = [  
        'Accept: application/json',  
        'Authorization: ' . $token,  
        'Content-Type: application/json'  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
    $httpStatusCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Status code: " . $httpStatusCode . PHP_EOL;  
    echo "Response body: " . $response . PHP_EOL;  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.ChargeApi(upstox_client.ApiClient(configuration))  
    instruments = [upstox_client.Instrument(instrument_key="NSE_EQ|INE528G01035",quantity=5,product="D",transaction_type="BUY")]  
    margin_body = upstox_client.MarginRequest(instruments)  
    try:  
        api_response = api_instance.post_margin(margin_body)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling Margin API: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.ChargeApi();  
      
    let instruments =[new UpstoxClient.Instrument("NSE_EQ|INE669E01016",1,"D","BUY")];  
      
    let postMarginRequest = new UpstoxClient.MarginRequest(instruments)  
      
    apiInstance.postMargin(postMarginRequest, (error, data, response) => {  
        if (error) {  
            console.error(error.response.text);  
        } else {  
          console.log(data);  
        }  
      });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.ChargeApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            ChargeApi api = new ChargeApi();  
            MarginRequest marginRequest = new MarginRequest();  
            Instrument instrument = new Instrument();  
            instrument.setInstrumentKey("NSE_EQ|INE669E01016");  
            instrument.setQuantity(1);  
            instrument.setProduct("D");  
            instrument.setTransactionType("BUY");  
            marginRequest.addInstrumentsItem(instrument);  
            try {  
                PostMarginResponse response = api.postMargin(marginRequest);  
                System.out.println(response);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling Margin API " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Future delivery orders[â€‹](<https://upstox.com/developer/api-documentation/margin/#future-delivery-orders> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl -X 'POST' \  
      'https://api.upstox.com/v2/charges/margin' \  
      -H 'accept: application/json' \  
      -H 'Authorization: Bearer {your_access_token}' \  
      -H 'Content-Type: application/json' \  
      -d '{  
      "instruments": [  
        {  
          "instrument_key": "NSE_FO|35000",  
          "quantity": 1,  
          "transaction_type": "BUY",  
          "product": "D"  
            
        }  
      ]  
    }'  
    
    
    
    import requests  
      
    url = "https://api.upstox.com/v2/charges/margin"  
    headers = {  
        "accept": "application/json",  
        "Authorization": "Bearer {your_access_token}",  
        "Content-Type": "application/json"  
    }  
    data = {  
        "instruments": [  
            {  
                "instrument_key": "NSE_FO|35000",  
                "quantity": 1,  
                "transaction_type": "BUY",  
                "product": "D"  
            }  
        ]  
    }  
      
    response = requests.post(url, headers=headers, json=data)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/charges/margin';  
    const headers = {  
      'accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
      'Content-Type': 'application/json'  
    };  
    const data = {  
      instruments: [  
        {  
          instrument_key: 'NSE_FO|35000',  
          quantity: 1,  
          transaction_type: 'BUY',  
          product: 'D'  
        }  
      ]  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpRequest.BodyPublishers;  
    import java.net.http.HttpResponse.BodyHandlers;  
      
    public class Main {  
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/charges/margin";  
            String token = "Bearer {your_access_token}";  
            String json = """  
                {  
                  "instruments": [  
                    {  
                      "instrument_key": "NSE_FO|35000",  
                      "quantity": 1,  
                      "transaction_type": "BUY",  
                      "product": "D"  
                    }  
                  ]  
                }  
            """;  
      
            HttpClient client = HttpClient.newHttpClient();  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("accept", "application/json")  
                    .header("Authorization", token)  
                    .header("Content-Type", "application/json")  
                    .POST(BodyPublishers.ofString(json))  
                    .build();  
      
            try {  
                HttpResponse<String> response = client.send(request, BodyHandlers.ofString());  
                System.out.println("Status code: " + response.statusCode());  
                System.out.println("Response body: " + response.body());  
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/charges/margin';  
    $token = 'Bearer {your_access_token}';  
    $data = [  
        "instruments" => [  
            [  
                "instrument_key" => "NSE_FO|35000",  
                "quantity" => 1,  
                "transaction_type" => "BUY",  
                "product" => "D"  
            ]  
        ]  
    ];  
      
    $headers = [  
        'Accept: application/json',  
        'Authorization: ' . $token,  
        'Content-Type: application/json'  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
    $httpStatusCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Status code: " . $httpStatusCode . PHP_EOL;  
    echo "Response body: " . $response . PHP_EOL;  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.ChargeApi(upstox_client.ApiClient(configuration))  
    instruments = [upstox_client.Instrument(instrument_key="NSE_FO|35000",quantity=5,product="D",transaction_type="BUY")]  
    margin_body = upstox_client.MarginRequest(instruments)  
    try:  
        api_response = api_instance.post_margin(margin_body)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling Margin API: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.ChargeApi();  
      
    let instruments =[new UpstoxClient.Instrument("NSE_FO|35000",1,"D","BUY")];  
      
    let postMarginRequest = new UpstoxClient.MarginRequest(instruments)  
      
    apiInstance.postMargin(postMarginRequest, (error, data, response) => {  
        if (error) {  
            console.error(error.response.text);  
        } else {  
          console.log(data);  
        }  
      });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.ChargeApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            ChargeApi api = new ChargeApi();  
            MarginRequest marginRequest = new MarginRequest();  
            Instrument instrument = new Instrument();  
            instrument.setInstrumentKey("NSE_FO|35000");  
            instrument.setQuantity(1);  
            instrument.setProduct("D");  
            instrument.setTransactionType("BUY");  
            marginRequest.addInstrumentsItem(instrument);  
            try {  
                PostMarginResponse response = api.postMargin(marginRequest);  
                System.out.println(response);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling Margin API " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Option delivery orders[â€‹](<https://upstox.com/developer/api-documentation/margin/#option-delivery-orders> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl -X 'POST' \  
      'https://api.upstox.com/v2/charges/margin' \  
      -H 'accept: application/json' \  
      -H 'Authorization: Bearer {your_access_token}' \  
      -H 'Content-Type: application/json' \  
      -d '{  
      "instruments": [  
        {  
          "instrument_key": "NSE_FO|54524",  
          "quantity": 1,  
          "transaction_type": "BUY",  
          "product": "D"  
            
        }  
      ]  
    }'  
    
    
    
    import requests  
      
    url = "https://api.upstox.com/v2/charges/margin"  
    headers = {  
        "accept": "application/json",  
        "Authorization": "Bearer {your_access_token}",  
        "Content-Type": "application/json"  
    }  
    data = {  
        "instruments": [  
            {  
                "instrument_key": "NSE_FO|54524",  
                "quantity": 1,  
                "transaction_type": "BUY",  
                "product": "D"  
            }  
        ]  
    }  
      
    response = requests.post(url, headers=headers, json=data)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/charges/margin';  
    const headers = {  
      'accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
      'Content-Type': 'application/json'  
    };  
    const data = {  
      instruments: [  
        {  
          instrument_key: 'NSE_FO|54524',  
          quantity: 1,  
          transaction_type: 'BUY',  
          product: 'D'  
        }  
      ]  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpRequest.BodyPublishers;  
    import java.net.http.HttpResponse.BodyHandlers;  
      
    public class Main {  
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/charges/margin";  
            String token = "Bearer {your_access_token}";  
            String json = """  
                {  
                  "instruments": [  
                    {  
                      "instrument_key": "NSE_FO|54524",  
                      "quantity": 1,  
                      "transaction_type": "BUY",  
                      "product": "D"  
                    }  
                  ]  
                }  
            """;  
      
            HttpClient client = HttpClient.newHttpClient();  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("accept", "application/json")  
                    .header("Authorization", token)  
                    .header("Content-Type", "application/json")  
                    .POST(BodyPublishers.ofString(json))  
                    .build();  
      
            try {  
                HttpResponse<String> response = client.send(request, BodyHandlers.ofString());  
                System.out.println("Status code: " + response.statusCode());  
                System.out.println("Response body: " + response.body());  
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/charges/margin';  
    $token = 'Bearer {your_access_token}';  
    $data = [  
        "instruments" => [  
            [  
                "instrument_key" => "NSE_FO|54524",  
                "quantity" => 1,  
                "transaction_type" => "BUY",  
                "product" => "D"  
            ]  
        ]  
    ];  
      
    $headers = [  
        'Accept: application/json',  
        'Authorization: ' . $token,  
        'Content-Type: application/json'  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
    $httpStatusCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Status code: " . $httpStatusCode . PHP_EOL;  
    echo "Response body: " . $response . PHP_EOL;  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.ChargeApi(upstox_client.ApiClient(configuration))  
    instruments = [upstox_client.Instrument(instrument_key="NSE_FO|54524",quantity=5,product="D",transaction_type="BUY")]  
    margin_body = upstox_client.MarginRequest(instruments)  
    try:  
        api_response = api_instance.post_margin(margin_body)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling Margin API: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.ChargeApi();  
      
    let instruments =[new UpstoxClient.Instrument("NSE_FO|54524",1,"D","BUY")];  
      
    let postMarginRequest = new UpstoxClient.MarginRequest(instruments)  
      
    apiInstance.postMargin(postMarginRequest, (error, data, response) => {  
        if (error) {  
            console.error(error.response.text);  
        } else {  
          console.log(data);  
        }  
      });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.ChargeApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            ChargeApi api = new ChargeApi();  
            MarginRequest marginRequest = new MarginRequest();  
            Instrument instrument = new Instrument();  
            instrument.setInstrumentKey("NSE_FO|54524");  
            instrument.setQuantity(1);  
            instrument.setProduct("D");  
            instrument.setTransactionType("BUY");  
            marginRequest.addInstrumentsItem(instrument);  
            try {  
                PostMarginResponse response = api.postMargin(marginRequest);  
                System.out.println(response);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling Margin API " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    

### MCX delivery orders[â€‹](<https://upstox.com/developer/api-documentation/margin/#mcx-delivery-orders> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl -X 'POST' \  
      'https://api.upstox.com/v2/charges/margin' \  
      -H 'accept: application/json' \  
      -H 'Authorization: Bearer {your_access_token}' \  
      -H 'Content-Type: application/json' \  
      -d '{  
      "instruments": [  
        {  
          "instrument_key": "MCX_FO|435356",  
          "quantity": 1,  
          "transaction_type": "BUY",  
          "product": "D"  
            
        }  
      ]  
    }'  
    
    
    
    import requests  
      
    url = "https://api.upstox.com/v2/charges/margin"  
    headers = {  
        "accept": "application/json",  
        "Authorization": "Bearer {your_access_token}",  
        "Content-Type": "application/json"  
    }  
    data = {  
        "instruments": [  
            {  
                "instrument_key": "MCX_FO|435356",  
                "quantity": 1,  
                "transaction_type": "BUY",  
                "product": "D"  
            }  
        ]  
    }  
      
    response = requests.post(url, headers=headers, json=data)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/charges/margin';  
    const headers = {  
      'accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
      'Content-Type': 'application/json'  
    };  
    const data = {  
      instruments: [  
        {  
          instrument_key: 'MCX_FO|435356',  
          quantity: 1,  
          transaction_type: 'BUY',  
          product: 'D'  
        }  
      ]  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpRequest.BodyPublishers;  
    import java.net.http.HttpResponse.BodyHandlers;  
      
    public class Main {  
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/charges/margin";  
            String token = "Bearer {your_access_token}";  
            String json = """  
                {  
                  "instruments": [  
                    {  
                      "instrument_key": "MCX_FO|435356",  
                      "quantity": 1,  
                      "transaction_type": "BUY",  
                      "product": "D"  
                    }  
                  ]  
                }  
            """;  
      
            HttpClient client = HttpClient.newHttpClient();  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("accept", "application/json")  
                    .header("Authorization", token)  
                    .header("Content-Type", "application/json")  
                    .POST(BodyPublishers.ofString(json))  
                    .build();  
      
            try {  
                HttpResponse<String> response = client.send(request, BodyHandlers.ofString());  
                System.out.println("Status code: " + response.statusCode());  
                System.out.println("Response body: " + response.body());  
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/charges/margin';  
    $token = 'Bearer {your_access_token}';  
    $data = [  
        "instruments" => [  
            [  
                "instrument_key" => "MCX_FO|435356",  
                "quantity" => 1,  
                "transaction_type" => "BUY",  
                "product" => "D"  
            ]  
        ]  
    ];  
      
    $headers = [  
        'Accept: application/json',  
        'Authorization: ' . $token,  
        'Content-Type: application/json'  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
    $httpStatusCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Status code: " . $httpStatusCode . PHP_EOL;  
    echo "Response body: " . $response . PHP_EOL;  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.ChargeApi(upstox_client.ApiClient(configuration))  
    instruments = [upstox_client.Instrument(instrument_key="MCX_FO|435356",quantity=5,product="D",transaction_type="BUY")]  
    margin_body = upstox_client.MarginRequest(instruments)  
    try:  
        api_response = api_instance.post_margin(margin_body)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling Margin API: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.ChargeApi();  
      
    let instruments =[new UpstoxClient.Instrument("MCX_FO|435356",1,"D","BUY")];  
      
    let postMarginRequest = new UpstoxClient.MarginRequest(instruments)  
      
    apiInstance.postMargin(postMarginRequest, (error, data, response) => {  
        if (error) {  
            console.error(error.response.text);  
        } else {  
          console.log(data);  
        }  
      });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.ChargeApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            ChargeApi api = new ChargeApi();  
            MarginRequest marginRequest = new MarginRequest();  
            Instrument instrument = new Instrument();  
            instrument.setInstrumentKey("MCX_FO|435356");  
            instrument.setQuantity(1);  
            instrument.setProduct("D");  
            instrument.setTransactionType("BUY");  
            marginRequest.addInstrumentsItem(instrument);  
            try {  
                PostMarginResponse response = api.postMargin(marginRequest);  
                System.out.println(response);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling Margin API " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Currency delivery orders[â€‹](<https://upstox.com/developer/api-documentation/margin/#currency-delivery-orders> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl -X 'POST' \  
      'https://api.upstox.com/v2/charges/margin' \  
      -H 'accept: application/json' \  
      -H 'Authorization: Bearer {your_access_token}' \  
      -H 'Content-Type: application/json' \  
      -d '{  
      "instruments": [  
        {  
          "instrument_key": "NCD_FO|15758",  
          "quantity": 1,  
          "transaction_type": "BUY",  
          "product": "D"  
            
        }  
      ]  
    }'  
    
    
    
    import requests  
      
    url = "https://api.upstox.com/v2/charges/margin"  
    headers = {  
        "accept": "application/json",  
        "Authorization": "Bearer {your_access_token}",  
        "Content-Type": "application/json"  
    }  
    data = {  
        "instruments": [  
            {  
                "instrument_key": "NCD_FO|15758",  
                "quantity": 1,  
                "transaction_type": "BUY",  
                "product": "D"  
            }  
        ]  
    }  
      
    response = requests.post(url, headers=headers, json=data)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/charges/margin';  
    const headers = {  
      'accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
      'Content-Type': 'application/json'  
    };  
    const data = {  
      instruments: [  
        {  
          instrument_key: 'NCD_FO|15758',  
          quantity: 1,  
          transaction_type: 'BUY',  
          product: 'D'  
        }  
      ]  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpRequest.BodyPublishers;  
    import java.net.http.HttpResponse.BodyHandlers;  
      
    public class Main {  
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/charges/margin";  
            String token = "Bearer {your_access_token}";  
            String json = """  
                {  
                  "instruments": [  
                    {  
                      "instrument_key": "NCD_FO|15758",  
                      "quantity": 1,  
                      "transaction_type": "BUY",  
                      "product": "D"  
                    }  
                  ]  
                }  
            """;  
      
            HttpClient client = HttpClient.newHttpClient();  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("accept", "application/json")  
                    .header("Authorization", token)  
                    .header("Content-Type", "application/json")  
                    .POST(BodyPublishers.ofString(json))  
                    .build();  
      
            try {  
                HttpResponse<String> response = client.send(request, BodyHandlers.ofString());  
                System.out.println("Status code: " + response.statusCode());  
                System.out.println("Response body: " + response.body());  
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/charges/margin';  
    $token = 'Bearer {your_access_token}';  
    $data = [  
        "instruments" => [  
            [  
                "instrument_key" => "NCD_FO|15758",  
                "quantity" => 1,  
                "transaction_type" => "BUY",  
                "product" => "D"  
            ]  
        ]  
    ];  
      
    $headers = [  
        'Accept: application/json',  
        'Authorization: ' . $token,  
        'Content-Type: application/json'  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
    $httpStatusCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Status code: " . $httpStatusCode . PHP_EOL;  
    echo "Response body: " . $response . PHP_EOL;  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.ChargeApi(upstox_client.ApiClient(configuration))  
    instruments = [upstox_client.Instrument(instrument_key="NCD_FO|15758",quantity=5,product="D",transaction_type="BUY")]  
    margin_body = upstox_client.MarginRequest(instruments)  
    try:  
        api_response = api_instance.post_margin(margin_body)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling Margin API: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.ChargeApi();  
      
    let instruments =[new UpstoxClient.Instrument("NCD_FO|15758",1,"D","BUY")];  
      
    let postMarginRequest = new UpstoxClient.MarginRequest(instruments)  
      
    apiInstance.postMargin(postMarginRequest, (error, data, response) => {  
        if (error) {  
            console.error(error.response.text);  
        } else {  
          console.log(data);  
        }  
      });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.ChargeApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            ChargeApi api = new ChargeApi();  
            MarginRequest marginRequest = new MarginRequest();  
            Instrument instrument = new Instrument();  
            instrument.setInstrumentKey("NCD_FO|15758");  
            instrument.setQuantity(1);  
            instrument.setProduct("D");  
            instrument.setTransactionType("BUY");  
            marginRequest.addInstrumentsItem(instrument);  
            try {  
                PostMarginResponse response = api.postMargin(marginRequest);  
                System.out.println(response);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling Margin API " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    POST /charges/margin

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer


---
# Source: https://upstox.com/developer/api-documentation/orders
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * Orders



# Orders

NOTE

  * If you represent a business aiming to incorporate order flow management (including placing, canceling, and modifying orders), please visit the [Uplink Business](<https://upstox.com/developer/api-documentation/uplink-business/introduction>). The direct HTTP order placement API integration is intended for individual API users.



Important

  * In adherence to CDSL regulations, customers without a DDPI/POA are obligated to use a combination of the CDSL TPIN and OTP to provide the necessary authorization for the deduction of securities from their demat account when engaging in delivery sale transactions.



## [description Place Order V3Place a slicing order with all possible configurations.](<https://upstox.com/developer/api-documentation/v3/place-order>)## [description Place Multi OrderPlace multiple orders with all possible combinations.](<https://upstox.com/developer/api-documentation/place-multi-order>)## [description Modify Order V3Modify pending or open orders.](<https://upstox.com/developer/api-documentation/v3/modify-order>)## [description Cancel Order V3Cancel pending or open orders.](<https://upstox.com/developer/api-documentation/v3/cancel-order>)## [description Cancel Multi OrderCancel all the open orders which can be applied to both AMO and regular orders.](<https://upstox.com/developer/api-documentation/cancel-multi-order>)## [description Exit All PositionsExit all the open positions.](<https://upstox.com/developer/api-documentation/exit-all-positions>)## [description Get Order DetailsGet the latest status and details for an order.](<https://upstox.com/developer/api-documentation/get-order-details>)## [description Get Order HistoryGet order history for an order.](<https://upstox.com/developer/api-documentation/get-order-history>)## [description Get Order BookGet the list of all orders placed during the day.](<https://upstox.com/developer/api-documentation/get-order-book>)## [description Get TradesGet the list of all trades for the day.](<https://upstox.com/developer/api-documentation/get-trade-history>)## [description Get Order TradesGet the list of trades executed for an order.](<https://upstox.com/developer/api-documentation/get-trades-by-order>)## [description Get Trade HistoryGet the list of historical trades](<https://upstox.com/developer/api-documentation/get-historical-trades>)## [description Place OrderPlace a single order with all possible configurations.](<https://upstox.com/developer/api-documentation/place-order>)## [description Modify OrderModify pending or open orders.](<https://upstox.com/developer/api-documentation/modify-order>)## [description Cancel OrderCancel pending or open orders.](<https://upstox.com/developer/api-documentation/cancel-order>)


---
# Source: https://upstox.com/developer/api-documentation/v3/place-order
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Orders](<https://upstox.com/developer/api-documentation/orders>)
  * Place Order V3



## Place Order V3 Sandbox Enabled[â€‹](<https://upstox.com/developer/api-documentation/v3/place-order/#place-order-v3-sandbox-enabled> "Direct link to heading")

API to place an order to the exchange. The instrument_token required for the stock or contracts should be obtained from the [BOD instruments](<https://upstox.com/developer/api-documentation/instruments>).

Upon successfully placing the order with the exchange, a unique order_id is provided in the success response, which can be utilized for order modification or cancellation. If you intend to place an order outside of market hours, the 'is_amo' (After Market Order) should be set to 'true'. You can assign a tag(unique identifier) to your order, allowing you to retrieve orders associated with that tag using the [Order History API](<https://upstox.com/developer/api-documentation/get-order-history>).

Featuring an auto-slicing capability to break down large orders into smaller sizes bases on the freeze quantity of the instrument. You can enable or disable this feature by setting the `slice` flag in your order. For more details, please refer to the [Auto Slicing](<https://upstox.com/developer/api-documentation/v3/place-order#auto-slicing>)

This API also includes latency information in the meta data object of the response, providing insight into the time Upstox took to process your request.

  


### Request[â€‹](<https://upstox.com/developer/api-documentation/v3/place-order/#request> "Direct link to heading")
    
    
    curl --location 'https://api-hft.upstox.com/v3/order/place' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 4000,  
      "product": "D",  
      "validity": "DAY",  
      "price": 0,  
      "tag": "string",  
      "instrument_token": "NSE_FO|43919",  
      "order_type": "MARKET",  
      "transaction_type": "BUY",  
      "disclosed_quantity": 0,  
      "trigger_price": 0,  
      "is_amo": false,  
      "slice": true  
    }'  
    

Important 

The **is_amo** flag in the order request will be ignored, and the system will automatically infer its value based on the current market session. If an order is placed during active trading hours, it will be processed as a live order regardless of whether **is_amo: true** was sent.

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/v3/place-order/#sample-code>) on this page.

### Request Body[â€‹](<https://upstox.com/developer/api-documentation/v3/place-order/#request-body> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
quantity| true| integer (int32)| Quantity with which the order is to be placed.   
For commodity - number of lots is accepted.   
For other Futures & Options and equities - number of units is accepted in multiples of the tick size.  
product| true| string| Signifies if the order was either Intraday or Delivery.   
Possible values: `I`, `D`, `MTF`.  
validity| true| string| It can be one of the following - DAY(default), IOC.   
Possible values: `DAY`, `IOC`.  
price| true| number (float)| Price at which the order will be placed  
tag| false| string| Tag for a particular order  
instrument_token| true| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
order_type| true| string| Type of order. It can be one of the following MARKET refers to market order LIMIT refers to Limit Order SL refers to Stop Loss Limit SL-M refers to Stop Loss Market.   
Possible values: `MARKET`, `LIMIT`, `SL`, `SL-M`.  
transaction_type| true| string| Indicates whether its a buy or sell order.   
Possible values: `BUY`, `SELL`.  
disclosed_quantity| true| integer (int32)| The quantity that should be disclosed in the market depth  
trigger_price| true| number (float)| If the order is a stop loss order then the trigger price to be set is mentioned here  
is_amo| true| boolean| Signifies if the order is an After Market Order  
slice| false| boolean| When `true`, the number of orders is calculated based on the freeze quantity assigned for the instrument by the exchange. This helps automatically split the order into smaller parts in accordance with exchange rules, preventing rejection due to exceeding the allowed quantity. The default value is `false`. For a detailed explanation, please check the [Auto Slicing](<https://upstox.com/developer/api-documentation/v3/place-order#auto-slicing>) section.   
  
When `slicing` is applied, we calculate the total number of resulting orders. The total number of orders generated by the slice, must not exceed the maximum order count specified [here](<https://upstox.com/developer/api-documentation/v3/place-order#place-order-v3-beta>).  
  


**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/v3/place-order/#response-body> "Direct link to heading")
    
    
    {  
        "status": "success",  
        "data": {  
            "order_ids": [  
                "1644490272000",  
                "1644490272001",  
                "1644490272003"  
            ]  
        },  
        "metadata": {  
            "latency": 30  
        }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Response data for place order request.  
data.order_ids| array| List of reference order IDs associated with successful order placed.  
metadata| object| Order metadata associated with successful order placed.  
metadata.latency| integer| The overall time taken by API platform to process the order request, measured in milliseconds.  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/v3/place-order/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1026| **Instrument key is required** \- You need to provide the instrument key for this operation.  
UDAPI1004| **Valid order type is required** \- Please ensure to provide a recognized order type.  
UDAPI1056| **The 'order_type' is invalid** \- The specified order type isn't acceptable.  
UDAPI1057| **The 'transaction_type' is invalid** \- The given transaction type is not valid.  
UDAPI1006| **Product is required** \- You must specify the product in your request.  
UDAPI1054| **The 'product' is invalid** \- The provided product value doesn't match any accepted values.  
UDAPI1007| **Validity is required** \- You need to provide the duration the order will remain in effect.  
UDAPI1055| **The 'validity' is invalid** \- The specified order validity isn't recognized.  
UDAPI1008| **Price is required** \- Please specify the price in your request.  
UDAPI100049| **Access to this API has been restricted for your account. Please use 'Uplink Business' to place/modify/cancel the order.** \- Use 'Uplink Business' for order operations.  
UDAPI1052| **The order 'quantity' cannot be zero** \- You cannot set the order quantity to zero.  
UDAPI1040| **Price not required** \- You shouldn't specify a price for this type of order.  
UDAPI1043| **The 'price' is required** \- A valid price value needs to be provided for this order type.  
UDAPI1041| **The 'price' and 'trigger_price' both are required** \- Ensure to specify both price values in your request.  
UDAPI1042| **Only 'trigger_price' is required** \- Only the trigger price needs to be provided, not the regular price.  
UDAPI1037| **Trigger price should be less than limit price** \- Ensure your trigger price is set below the limit price.  
UDAPI1038| **Trigger price should be greater than limit price** \- The trigger price should exceed the limit price value.  
UDAPI100011| **Invalid Instrument key** \- The instrument key you provided doesn't match any recognized keys.  
UDAPI100039| **AMO orders cannot be placed during the market hours** \- After Market Order (AMO) is not valid during active market sessions.  
UDAPI100074| **The Place order API is accessible from 5:30 AM to 12:00 AM IST daily** \- Thrown when an Place Order API is called between midnight and 5:30 AM in the morning.  
UDAPI1118| **Maximum order limit exceeded** \- When slicing enabled, the number of orders in this request exceeds the maximum allowed count. Requests with more than the permissible limit of orders will be rejected immediately.  
UDAPI1119| **tag length exceeds limit** \- The length of the `tag` exceeds the permitted limit of 40 characters. Ensure each `tag` is within the defined limit.  
  
  


### Auto Slicing[â€‹](<https://upstox.com/developer/api-documentation/v3/place-order/#auto-slicing> "Direct link to heading")

Exchanges enforce a limitation on the maximum quantity that can be placed for any scrip, known as the freeze quantity. If an order exceeds this freeze quantity, it will be rejected by the exchange. To simplify the process and prevent such rejections, we automatically slice the order into smaller parts based on the freeze quantity defined by the exchange when necessary.

#### How to Enable Slicing[â€‹](<https://upstox.com/developer/api-documentation/v3/place-order/#how-to-enable-slicing> "Direct link to heading")

To enable this feature, include the `slice` field in your request payload with the value set to `true`. Let's walk through a practical example:

Suppose you want to place an order for _SCRIP1_ with a total quantity of 10,100, and the freeze quantity defined by the exchange is 1,000. If you send the `slice` field as `false`, the entire order is submitted to the exchange, which will reject it due to exceeding the allowed quantity. However, if you pass `true` as the value for the `slice` field, we automatically split the order into 11 smaller orders: 10 orders of 1,000 units each, and 1 order of 100 units. This ensures that all orders are accepted and processed by the exchange.

  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/v3/place-order/#sample-code> "Direct link to heading")

### Place an order with slicing enabled[â€‹](<https://upstox.com/developer/api-documentation/v3/place-order/#place-an-order-with-slicing-enabled> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api-hft.upstox.com/v3/order/place' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 4000,  
      "product": "D",  
      "validity": "DAY",  
      "price": 0,  
      "tag": "string",  
      "instrument_token": "NSE_FO|43919",  
      "order_type": "MARKET",  
      "transaction_type": "BUY",  
      "disclosed_quantity": 0,  
      "trigger_price": 0,  
      "is_amo": false,  
      "slice": true  
    }'  
      
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v3/order/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        'quantity': 4000,  
        'product': 'D',  
        'validity': 'DAY',  
        'price': 0,  
        'tag': 'string',  
        'instrument_token': 'NSE_FO|43919',  
        'order_type': 'MARKET',  
        'transaction_type': 'BUY',  
        'disclosed_quantity': 0,  
        'trigger_price': 0,  
        'is_amo': False,  
        'slice': True  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v3/order/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      quantity: 4000,  
      product: 'D',  
      validity: 'DAY',  
      price: 0,  
      tag: 'string',  
      instrument_token: 'NSE_FO|43919',  
      order_type: 'MARKET',  
      transaction_type: 'BUY',  
      disclosed_quantity: 0,  
      trigger_price: 0,  
      is_amo: false,  
      slice: true  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api-hft.upstox.com/v3/order/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"quantity\": 4000,"  
                    + "\"product\": \"D\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_FO|43919\","  
                    + "\"order_type\": \"MARKET\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 0,"  
                    + "\"is_amo\": false,"  
                    + "\"slice\": true"  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v3/order/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'quantity' => 4000,  
        'product' => 'D',  
        'validity' => 'DAY',  
        'price' => 0,  
        'tag' => 'string',  
        'instrument_token' => 'NSE_FO|43919',  
        'order_type' => 'MARKET',  
        'transaction_type' => 'BUY',  
        'disclosed_quantity' => 0,  
        'trigger_price' => 0,  
        'is_amo' => false,  
        'slice' => true,  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApiV3(upstox_client.ApiClient(configuration))  
    body = upstox_client.PlaceOrderV3Request(quantity=4000, product="D", validity="DAY",   
        price=0, tag="string", instrument_token="NSE_FO|43919",   
        order_type="MARKET", transaction_type="BUY", disclosed_quantity=0,   
        trigger_price=0.0, is_amo=False, slice=True)  
      
    try:  
        api_response = api_instance.place_order(body)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApiV3->place_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApiV3();  
    let body = new UpstoxClient.PlaceOrderV3Request(4000,   
        UpstoxClient.PlaceOrderV3Request.ProductEnum.D,  
        UpstoxClient.PlaceOrderV3Request.ValidityEnum.DAY,   
        0, "NSE_FO|43919",  
        UpstoxClient.PlaceOrderV3Request.OrderTypeEnum.MARKET,  
        UpstoxClient.PlaceOrderV3Request.TransactionTypeEnum.BUY,  
        0, 0, false);  
    let opt = {"slice": true}  
      
    apiInstance.placeOrder(body, opt, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.OrderApiV3;  
    import com.upstox.api.PlaceOrderV3Request;  
    import com.upstox.api.PlaceOrderV3Response;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            defaultClient.setAccessToken("{your_access_token}");  
      
            OrderApiV3 apiInstance = new OrderApiV3();  
            PlaceOrderV3Request body = new PlaceOrderV3Request();  
            body.setQuantity(4000);  
            body.setProduct(PlaceOrderV3Request.ProductEnum.D);  
            body.setValidity(PlaceOrderV3Request.ValidityEnum.DAY);  
            body.setPrice(0F);  
            body.setTag("string");  
            body.setInstrumentToken("NSE_FO|43919");  
            body.orderType(PlaceOrderV3Request.OrderTypeEnum.MARKET);  
            body.setTransactionType(PlaceOrderV3Request.TransactionTypeEnum.BUY);  
            body.setDisclosedQuantity(0);  
            body.setTriggerPrice(0F);  
            body.setIsAmo(false);  
            body.setSlice(true);  
      
            try {  
                PlaceOrderV3Response result = apiInstance.placeOrder(body);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApiV3->placeOrder: " + e.getMessage());  
            }  
        }  
    }  
    

### Place an order with slicing disabled[â€‹](<https://upstox.com/developer/api-documentation/v3/place-order/#place-an-order-with-slicing-disabled> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api-hft.upstox.com/v3/order/place' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 25,  
      "product": "D",  
      "validity": "DAY",  
      "price": 0,  
      "tag": "string",  
      "instrument_token": "NSE_FO|43919",  
      "order_type": "MARKET",  
      "transaction_type": "BUY",  
      "disclosed_quantity": 0,  
      "trigger_price": 0,  
      "is_amo": false,  
      "slice": false  
    }'  
      
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v3/order/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        'quantity': 25,  
        'product': 'D',  
        'validity': 'DAY',  
        'price': 0,  
        'tag': 'string',  
        'instrument_token': 'NSE_FO|43919',  
        'order_type': 'MARKET',  
        'transaction_type': 'BUY',  
        'disclosed_quantity': 0,  
        'trigger_price': 0,  
        'is_amo': False,  
        'slice': False  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v3/order/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      quantity: 25,  
      product: 'D',  
      validity: 'DAY',  
      price: 0,  
      tag: 'string',  
      instrument_token: 'NSE_FO|43919',  
      order_type: 'MARKET',  
      transaction_type: 'BUY',  
      disclosed_quantity: 0,  
      trigger_price: 0,  
      is_amo: false,  
      slice: false  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api-hft.upstox.com/v3/order/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"quantity\": 25,"  
                    + "\"product\": \"D\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_FO|43919\","  
                    + "\"order_type\": \"MARKET\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 0,"  
                    + "\"is_amo\": false,"  
                    + "\"slice\": false"  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v3/order/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'quantity' => 25,  
        'product' => 'D',  
        'validity' => 'DAY',  
        'price' => 0,  
        'tag' => 'string',  
        'instrument_token' => 'NSE_FO|43919',  
        'order_type' => 'MARKET',  
        'transaction_type' => 'BUY',  
        'disclosed_quantity' => 0,  
        'trigger_price' => 0,  
        'is_amo' => false,  
        'slice' => false,  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApiV3(upstox_client.ApiClient(configuration))  
    body = upstox_client.PlaceOrderV3Request(quantity=75, product="D", validity="DAY",   
        price=0, tag="string", instrument_token="NSE_FO|43919",   
        order_type="MARKET", transaction_type="BUY", disclosed_quantity=0,   
        trigger_price=0.0, is_amo=False, slice=False)  
      
    try:  
        api_response = api_instance.place_order(body)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApiV3->place_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApiV3();  
    let body = new UpstoxClient.PlaceOrderV3Request(75,   
        UpstoxClient.PlaceOrderV3Request.ProductEnum.D,  
        UpstoxClient.PlaceOrderV3Request.ValidityEnum.DAY,   
        0, "NSE_FO|43919",  
        UpstoxClient.PlaceOrderV3Request.OrderTypeEnum.MARKET,  
        UpstoxClient.PlaceOrderV3Request.TransactionTypeEnum.BUY,  
        0, 0, false);  
    let opt = {"slice": false}  
      
    apiInstance.placeOrder(body, opt, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.OrderApiV3;  
    import com.upstox.api.PlaceOrderV3Request;  
    import com.upstox.api.PlaceOrderV3Response;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            defaultClient.setAccessToken("{your_access_token}");  
      
            OrderApiV3 apiInstance = new OrderApiV3();  
            PlaceOrderV3Request body = new PlaceOrderV3Request();  
            body.setQuantity(75);  
            body.setProduct(PlaceOrderV3Request.ProductEnum.D);  
            body.setValidity(PlaceOrderV3Request.ValidityEnum.DAY);  
            body.setPrice(0F);  
            body.setTag("string");  
            body.setInstrumentToken("NSE_FO|43919");  
            body.orderType(PlaceOrderV3Request.OrderTypeEnum.MARKET);  
            body.setTransactionType(PlaceOrderV3Request.TransactionTypeEnum.BUY);  
            body.setDisclosedQuantity(0);  
            body.setTriggerPrice(0F);  
            body.setIsAmo(false);  
            body.setSlice(false);  
      
            try {  
                PlaceOrderV3Response result = apiInstance.placeOrder(body);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApiV3->placeOrder: " + e.getMessage());  
            }  
        }  
    }  
    
    
    
    POST /order/place

#### Request

Send API Request

Sandbox URLhttps://api-sandbox.upstox.com/v3

Live URLhttps://api-hft.upstox.com/v3

`Authorization`

Bearer

`Body` **required**
    
    
    {
    
    
      "quantity": 1,
    
    
      "product": "D",
    
    
      "validity": "DAY",
    
    
      "price": 0,
    
    
      "tag": "string",
    
    
      "instrument_token": "NSE_EQ|INE848E01016",
    
    
      "order_type": "MARKET",
    
    
      "transaction_type": "BUY",
    
    
      "disclosed_quantity": 0,
    
    
      "trigger_price": 0,
    
    
      "is_amo": false,
    
    
      "slice": true
    
    
    }
    

Important

  * Margin Trading Facility (MTF) is available for trading-eligible securities with additional leverage.
  * When slicing is applicable, A maximum of **25 orders** can be placed in a single request. Any request exceeding this limit will be rejected.
  * When slicing is applicable, Brokerage will be charged for each individual sliced order.
  * Currently product type `OCO` is not allowed.
  * In adherence to CDSL regulations, customers without a DDPI/POA are obligated to use a combination of the CDSL TPIN and OTP to provide the necessary authorization for the deduction of securities from their demat account when engaging in delivery sale transactions.



NOTE

  * If you represent a business aiming to incorporate order flow management (including placing, canceling, and modifying orders), please visit the [Uplink Business](<https://upstox.com/developer/api-documentation/uplink-business/introduction>). The direct HTTP order placement API integration is intended for individual API users.
  * The Place order api is down for maintenance from 12:00 AM to 5:30 AM IST daily and is not available for usage during these hours. Users are advised to plan their activities accordingly.




---
# Source: https://upstox.com/developer/api-documentation/place-multi-order
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Orders](<https://upstox.com/developer/api-documentation/orders>)
  * Place Multi Order



## Place Multi Order Sandbox Enabled[â€‹](<https://upstox.com/developer/api-documentation/place-multi-order/#place-multi-order-sandbox-enabled> "Direct link to heading")

This API extends the functionality of the [Place Order API](<https://upstox.com/developer/api-documentation/place-order>), allowing multiple orders to be placed simultaneously on the exchange. Each order in the request must include a unique `correlation_id` for individual tracking. Each successful order will return a unique `order_id` for further management such as modifications or cancellations.   
  
A maximum of **25 orders** can be placed in a single request. Any request exceeding this limit will be rejected. The Multi Order API is subject to a different rate limit compared to the standard limits applied across the system. For more information on the rate limits for this API, please check [here](<https://upstox.com/developer/api-documentation/rate-limiting>).

### Request[â€‹](<https://upstox.com/developer/api-documentation/place-multi-order/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/order/multi/place' \  
         --header 'Content-Type: application/json' \  
         --header 'Accept: application/json' \  
         --header 'Authorization: Bearer {your_access_token}' \  
         --data '[  
            {  
                "correlation_id": "1",  
                "quantity": 25,  
                "product": "D",  
                "validity": "DAY",  
                "price": 0,  
                "tag": "string",  
                "instrument_token": "NSE_FO|62864",  
                "order_type": "MARKET",  
                "transaction_type": "BUY",  
                "disclosed_quantity": 0,  
                "trigger_price": 0,  
                "is_amo": false,  
                "slice": false  
            },  
            {  
                "correlation_id": "2",  
                "quantity": 25,  
                "product": "D",  
                "validity": "DAY",  
                "price": 0,  
                "tag": "string",  
                "instrument_token": "NSE_FO|62867",  
                "order_type": "MARKET",  
                "transaction_type": "BUY",  
                "disclosed_quantity": 0,  
                "trigger_price": 0,  
                "is_amo": false,  
                "slice": false  
            }  
        ]'  
      
    

Important 

The **is_amo** flag in the order request will be ignored, and the system will automatically infer its value based on the current market session. If an order is placed during active trading hours, it will be processed as a live order regardless of whether **is_amo: true** was sent.

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/place-multi-order/#sample-code>) on this page.

### Request Body[â€‹](<https://upstox.com/developer/api-documentation/place-multi-order/#request-body> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
correlation_id| true| string| Uniquely identifies each order line within the request. It must be unique per line and is echoed in responses for easy tracking of related errors or feedback. The `correlation_id` must not exceed **20 characters** in length.  
  
**Note** : The `correlation_id` is scoped only to this request and cannot be used in another API to refer to this order line.  
slice| false| boolean| When `true`, the number of orders is calculated based on the freeze quantity assigned for the instrument by the exchange. This helps automatically split the order into smaller parts in accordance with exchange rules, preventing rejection due to exceeding the allowed quantity. The default value is `false`. For a detailed explanation, please check the [Auto Slicing](<https://upstox.com/developer/api-documentation/place-multi-order#auto-slicing>) section.  
tag| false| string| This field functions the same as in the Place Order API, but with a size restriction of **40 characters**.  
  
For all other fields, please refer to the [Place Order API](<https://upstox.com/developer/api-documentation/v3/place-order#request-body>) documentation as all fields are the same as those used when placing an order using the Place Order API.

  


### Order Execution Sequence[â€‹](<https://upstox.com/developer/api-documentation/place-multi-order/#order-execution-sequence> "Direct link to heading")

In a multi-order request, the system will execute all **BUY** orders first, followed by the execution of all **SELL** orders. This ensures a consistent and orderly processing of multiple order types within the same request.

  


### Maximum Order Limit[â€‹](<https://upstox.com/developer/api-documentation/place-multi-order/#maximum-order-limit> "Direct link to heading")

When `slicing` is applied, we calculate the total number of resulting orders. The total number of orders in a request, including those generated by the slice, must not exceed the maximum order count specified [here](<https://upstox.com/developer/api-documentation/place-multi-order#place-multi-order-beta>).

  


**Responses**

  * 2XX
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/place-multi-order/#response-body> "Direct link to heading")

  * Success (200)
  * Partial Success (207)


    
    
    {  
      "status": "success",  
      "data": [  
        {  
          "correlation_id": "1",  
          "order_id": "1644490272000"  
        },  
        {  
          "correlation_id": "2",  
          "order_id": "2134134141414"  
        }  
      ],  
      "summary": {  
        "total": 2,  
        "payload_error": 0,  
        "success": 2,  
        "error": 0  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request.  
Possible values: `success`, `partial_success`, `error`.  
  
**success** \- when all order lines were placed  
**partial_success** \- when some order lines encountered errors  
**error** \- when all order lines encountered errors or there were issues with one or more of the payloads.  
data| object| Response data for place order request  
data.correlation_id| string| Mirrors the unique identifier provided for each order line in the request, facilitating easy tracking and correlation of responses with their respective orders.  
data.order_id| string| An order ID for the order request placed  
summary| object| A summary of the outcomes for the batch of orders processed, detailing total orders, valid submissions, successful completions, and errors.  
summary.total| integer| The total number of order lines present in the payload.  
summary.payload_error| integer| The number of order lines with payload errors, indicating formatting or data validity issues.  
  
**Note** : Orders are processed only if the entire batch is free of payload_error, ensuring error-free transactions.  
summary.success| integer| The number of order lines that were successfully placed without any errors.  
summary.error| integer| The number of order lines that encountered errors during processing, despite their payloads being valid.  
      
    
    {  
      "status": "partial_success",  
      "data": [  
        {  
          "correlation_id": "1",  
          "order_id": "1644490272000"  
        }  
      ],  
      "errors": [  
        {  
          "correlation_id": "2",  
          "error_code": "UDAPI100500",  
          "message": "Something went wrong... please contact us",  
          "property_path": null,  
          "invalid_value": null  
        }  
      ],  
      "summary": {  
        "total": 2,  
        "payload_error": 0,  
        "success": 1,  
        "error": 1  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Possible values: `success`, `partial_success`, `error`. `success` when all order lines were placed, `partial_success` when some order lines encountered errors, and `error` when all order lines encountered errors or there were issues with one or more of the payloads.  
data| object| Response data for place order request  
data.correlation_id| string| Mirrors the unique identifier provided for each order line in the request, facilitating easy tracking and correlation of responses with their respective orders.  
data.order_id| string| An order ID for the order request placed  
errors| object| Array of errors including every order line that encountered an issue. For more details, refer to the [Error Response](<https://upstox.com/developer/api-documentation/response-structure#error-response>) documentation.  
errors.correlation_id| string| Reflects the unique identifier provided for each order line in the request, aiding in tracking errors associated with specific orders.  
summary| object| A summary of the outcomes for the batch of orders processed, detailing total orders, valid submissions, successful completions, and errors.  
summary.total| integer| The total number of order lines present in the payload.  
summary.payload_error| integer| The number of order lines with payload errors, indicating formatting or data validity issues.  
  
**Note** : Orders are processed only if the entire batch is free of payload_error, ensuring error-free transactions.  
summary.success| integer| The number of order lines that were successfully placed without any errors.  
summary.error| integer| The number of order lines that encountered errors during processing, despite their payloads being valid.  
      
    
    {  
      "status": "error",  
      "errors": [  
        {  
          "correlation_id": "1",  
          "error_code": "UDAPI1054",  
          "message": "The 'product' is invalid",  
          "property_path": null,  
          "invalid_value": null  
        },  
        {  
          "correlation_id": "2",  
          "error_code": "UDAPI1040",  
          "message": "Price not required",  
          "property_path": null,  
          "invalid_value": null  
        }  
      ],  
      "summary": {  
        "total": 5,  
        "payload_error": 2,  
        "success": 0,  
        "error": 0  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Possible values: `success`, `partial_success`, `error`. `success` when all order lines were placed, `partial_success` when some order lines encountered errors, and `error` when all order lines encountered errors or there were issues with one or more of the payloads.  
data| object| Response data for place order request  
data.correlation_id| string| Mirrors the unique identifier provided for each order line in the request, facilitating easy tracking and correlation of responses with their respective orders.  
data.order_id| string| An order ID for the order request placed  
errors| object| Array of errors including every order line that encountered an issue. For more details, refer to the [Error Response](<https://upstox.com/developer/api-documentation/response-structure#error-response>) documentation.  
errors.correlation_id| string| Reflects the unique identifier provided for each order line in the request, aiding in tracking errors associated with specific orders.  
summary| object| A summary of the outcomes for the batch of orders processed, detailing total orders, valid submissions, successful completions, and errors.  
summary.total| integer| The total number of order lines present in the payload.  
summary.payload_error| integer| The number of order lines with payload errors, indicating formatting or data validity issues.  
  
**Note** : Orders are processed only if the entire batch is free of payload_error, ensuring error-free transactions.  
summary.success| integer| The number of order lines that were successfully placed without any errors.  
summary.error| integer| The number of order lines that encountered errors during processing, despite their payloads being valid.  
  


### Error Codes[â€‹](<https://upstox.com/developer/api-documentation/place-multi-order/#error-codes> "Direct link to heading")

Error Code| Description  
---|---  
UDAPI1114| **Request payload should have at least one order line** \- The request must include at least one valid order line. An empty request is not allowed and will result in a rejection.  
UDAPI1115| **Missing correlation_id** \- One or more order lines in the payload are missing the required `correlation_id`. This field is necessary for tracking and identifying individual order lines.  
UDAPI1116| **Invalid correlation_id: Length must be between 1 and 20 characters.** \- The length of the `correlation_id` exceeds the permitted limit of 20 characters. Ensure each `correlation_id` is within the defined limit.  
UDAPI1117| **Duplicate correlation_id found** \- Each order line must have a unique `correlation_id`. Duplicate correlation IDs will cause the entire request to be rejected.  
UDAPI1118| **Maximum order limit exceeded** \- The number of orders in this request exceeds the maximum allowed count. Requests with more than the permissible limit of orders will be rejected immediately.  
UDAPI1119| **tag length exceeds limit** \- The length of the `tag` exceeds the permitted limit of 40 characters. Ensure each `tag` is within the defined limit.  
  
Please refer to the error codes listed in the Place Order API as they are also applicable here.

  


### Auto Slicing[â€‹](<https://upstox.com/developer/api-documentation/place-multi-order/#auto-slicing> "Direct link to heading")

Exchanges enforce a limitation on the maximum quantity that can be placed for any scrip, known as the freeze quantity. If an order exceeds this freeze quantity, it will be rejected by the exchange. To simplify the process and prevent such rejections, we automatically slice the order into smaller parts based on the freeze quantity defined by the exchange when necessary.

#### How to Enable Slicing[â€‹](<https://upstox.com/developer/api-documentation/place-multi-order/#how-to-enable-slicing> "Direct link to heading")

To enable this feature, include the `slice` field in your request payload with the value set to `true`. Let's walk through a practical example:

Suppose you want to place an order for _SCRIP1_ with a total quantity of 10,100, and the freeze quantity defined by the exchange is 1,000. If you send the `slice` field as `false`, the entire order is submitted to the exchange, which will reject it due to exceeding the allowed quantity. However, if you pass `true` as the value for the `slice` field, we automatically split the order into 11 smaller orders: 10 orders of 1,000 units each, and 1 order of 100 units. This ensures that all orders are accepted and processed by the exchange.

#### Correlation ID for Split Orders[â€‹](<https://upstox.com/developer/api-documentation/place-multi-order/#correlation-id-for-split-orders> "Direct link to heading")

In the case of a sliced order, the `correlation_id` will be returned with a suffix to uniquely identify each split order. For the use case defined above, if the `correlation_id` in the request was `orderline25`, the split orders will be returned with `correlation_id` values as `orderline25_1`, `orderline25_2`, and so on, up to `orderline25_11`. This allows for easy tracking and management of the split orders in subsequent operations or error handling.

## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/place-multi-order/#sample-code> "Direct link to heading")

### Place a multi order[â€‹](<https://upstox.com/developer/api-documentation/place-multi-order/#place-a-multi-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/order/multi/place' \  
         --header 'Content-Type: application/json' \  
         --header 'Accept: application/json' \  
         --header 'Authorization: Bearer {your_access_token}' \  
         --data '[  
            {  
                "correlation_id": "1",  
                "quantity": 25,  
                "product": "D",  
                "validity": "DAY",  
                "price": 0,  
                "tag": "string",  
                "instrument_token": "NSE_FO|62864",  
                "order_type": "MARKET",  
                "transaction_type": "BUY",  
                "disclosed_quantity": 0,  
                "trigger_price": 0,  
                "is_amo": false,  
                "slice": false  
            },  
            {  
                "correlation_id": "2",  
                "quantity": 25,  
                "product": "D",  
                "validity": "DAY",  
                "price": 0,  
                "tag": "string",  
                "instrument_token": "NSE_FO|62867",  
                "order_type": "MARKET",  
                "transaction_type": "BUY",  
                "disclosed_quantity": 0,  
                "trigger_price": 0,  
                "is_amo": false,  
                "slice": false  
            }  
        ]'  
    '  
      
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/multi/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = [  
        {  
            "correlation_id": "1",  
            "quantity": 25,  
            "product": "D",  
            "validity": "DAY",  
            "price": 0,  
            "tag": "string",  
            "instrument_token": "NSE_FO|62864",  
            "order_type": "MARKET",  
            "transaction_type": "BUY",  
            "disclosed_quantity": 0,  
            "trigger_price": 0,  
            "is_amo": False,  
            "slice": False  
        },  
        {  
            "correlation_id": "2",  
            "quantity": 25,  
            "product": "D",  
            "validity": "DAY",  
            "price": 0,  
            "tag": "string",  
            "instrument_token": "NSE_FO|62867",  
            "order_type": "MARKET",  
            "transaction_type": "BUY",  
            "disclosed_quantity": 0,  
            "trigger_price": 0,  
            "is_amo": False,  
            "slice": False  
        }  
    ]  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/multi/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = [  
      {  
        "correlation_id": "1",  
        "quantity": 25,  
        "product": "D",  
        "validity": "DAY",  
        "price": 0,  
        "tag": "string",  
        "instrument_token": "NSE_FO|62864",  
        "order_type": "MARKET",  
        "transaction_type": "BUY",  
        "disclosed_quantity": 0,  
        "trigger_price": 0,  
        "is_amo": false,  
        "slice": false  
      },  
      {  
        "correlation_id": "2",  
        "quantity": 25,  
        "product": "D",  
        "validity": "DAY",  
        "price": 0,  
        "tag": "string",  
        "instrument_token": "NSE_FO|62867",  
        "order_type": "MARKET",  
        "transaction_type": "BUY",  
        "disclosed_quantity": 0,  
        "trigger_price": 0,  
        "is_amo": false,  
        "slice": false  
      }  
    ];  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response Code:', response.status);  
        console.log('Response Body:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/order/multi/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body with multiple orders  
            String requestBody = "["  
                    + "{"  
                    + "\"correlation_id\": \"1\","  
                    + "\"quantity\": 25,"  
                    + "\"product\": \"D\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_FO|62864\","  
                    + "\"order_type\": \"MARKET\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 0,"  
                    + "\"is_amo\": false,"  
                    + "\"slice\": false"  
                    + "},"  
                    + "{"  
                    + "\"correlation_id\": \"2\","  
                    + "\"quantity\": 25,"  
                    + "\"product\": \"D\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_FO|62867\","  
                    + "\"order_type\": \"MARKET\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 0,"  
                    + "\"is_amo\": false,"  
                    + "\"slice\": false"  
                    + "}"  
                    + "]";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/order/multi/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    // Set up the request body with multiple orders  
    $data = [  
        [  
            "correlation_id" => "1",  
            "quantity" => 25,  
            "product" => "D",  
            "validity" => "DAY",  
            "price" => 0,  
            "tag" => "string",  
            "instrument_token" => "NSE_FO|62864",  
            "order_type" => "MARKET",  
            "transaction_type" => "BUY",  
            "disclosed_quantity" => 0,  
            "trigger_price" => 0,  
            "is_amo" => false,  
            "slice" => false  
        ],  
        [  
            "correlation_id" => "2",  
            "quantity" => 25,  
            "product" => "D",  
            "validity" => "DAY",  
            "price" => 0,  
            "tag" => "string",  
            "instrument_token" => "NSE_FO|62867",  
            "order_type" => "MARKET",  
            "transaction_type" => "BUY",  
            "disclosed_quantity" => 0,  
            "trigger_price" => 0,  
            "is_amo" => false,  
            "slice" => false  
        ]  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    body = [  
        upstox_client.MultiOrderRequest(25, "D", "DAY", 0, "string", False, "NSE_FO|44166", "MARKET", "BUY",  
                                        0, 0, True, "1")  
    ]  
      
    try:  
        api_response = api_instance.place_multi_order(body)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->place_order: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    apiInstance = new UpstoxClient.OrderApi();  
    body = []  
    order = new UpstoxClient.MultiOrderRequest(25,"D","DAY",0,false,"NSE_FO|44166","MARKET","BUY",0,0,true,"1");  
    order.tag = "string"; //optional parameter tag  
    body = body.concat(order);  
      
      
    apiInstance.placeMultiOrder(body, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.MultiOrderRequest;  
    import com.upstox.api.MultiOrderResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OrderApi;  
      
    import java.util.ArrayList;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            OrderApi apiInstance = new OrderApi();  
            MultiOrderRequest orderRequest = new MultiOrderRequest();  
            orderRequest.setQuantity(25);  
            orderRequest.setProduct(MultiOrderRequest.ProductEnum.D);  
            orderRequest.setValidity(MultiOrderRequest.ValidityEnum.DAY);  
            orderRequest.setPrice(0F);  
            orderRequest.setTag("string");  
            orderRequest.setInstrumentToken("NSE_FO|44166");  
            orderRequest.orderType(MultiOrderRequest.OrderTypeEnum.MARKET);  
            orderRequest.setTransactionType(MultiOrderRequest.TransactionTypeEnum.BUY);  
            orderRequest.setDisclosedQuantity(0);  
            orderRequest.setTriggerPrice(0F);  
            orderRequest.setIsAmo(true);  
            orderRequest.setCorrelationId("1");  
            orderRequest.setSlice(false);  
      
            try {  
                ArrayList<MultiOrderRequest> list = new ArrayList<>();  
                list.add(orderRequest);  
                MultiOrderResponse result = apiInstance.placeMultiOrder(list);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#MultiOrder= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Place Multiple BUY and SELL Orders[â€‹](<https://upstox.com/developer/api-documentation/place-multi-order/#place-multiple-buy-and-sell-orders> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/order/multi/place' \  
         --header 'Content-Type: application/json' \  
         --header 'Accept: application/json' \  
         --header 'Authorization: Bearer {your_access_token}' \  
         --data '[  
            {  
                "correlation_id": "1",  
                "quantity": 25,  
                "product": "D",  
                "validity": "DAY",  
                "price": 0,  
                "tag": "string",  
                "instrument_token": "NSE_FO|62864",  
                "order_type": "MARKET",  
                "transaction_type": "BUY",  
                "disclosed_quantity": 0,  
                "trigger_price": 0,  
                "is_amo": false,  
                "slice": false  
            },  
            {  
                "correlation_id": "2",  
                "quantity": 25,  
                "product": "D",  
                "validity": "DAY",  
                "price": 0,  
                "tag": "string",  
                "instrument_token": "NSE_FO|62867",  
                "order_type": "MARKET",  
                "transaction_type": "SELL",  
                "disclosed_quantity": 0,  
                "trigger_price": 0,  
                "is_amo": false,  
                "slice": false  
            }  
        ]'  
    '  
      
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/multi/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = [  
        {  
            "correlation_id": "1",  
            "quantity": 25,  
            "product": "D",  
            "validity": "DAY",  
            "price": 0,  
            "tag": "string",  
            "instrument_token": "NSE_FO|62864",  
            "order_type": "MARKET",  
            "transaction_type": "BUY",  
            "disclosed_quantity": 0,  
            "trigger_price": 0,  
            "is_amo": False,  
            "slice": False  
        },  
        {  
            "correlation_id": "2",  
            "quantity": 25,  
            "product": "D",  
            "validity": "DAY",  
            "price": 0,  
            "tag": "string",  
            "instrument_token": "NSE_FO|62867",  
            "order_type": "MARKET",  
            "transaction_type": "SELL",  
            "disclosed_quantity": 0,  
            "trigger_price": 0,  
            "is_amo": False,  
            "slice": False  
        }  
    ]  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/multi/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = [  
      {  
        "correlation_id": "1",  
        "quantity": 25,  
        "product": "D",  
        "validity": "DAY",  
        "price": 0,  
        "tag": "string",  
        "instrument_token": "NSE_FO|62864",  
        "order_type": "MARKET",  
        "transaction_type": "BUY",  
        "disclosed_quantity": 0,  
        "trigger_price": 0,  
        "is_amo": false,  
        "slice": false  
      },  
      {  
        "correlation_id": "2",  
        "quantity": 25,  
        "product": "D",  
        "validity": "DAY",  
        "price": 0,  
        "tag": "string",  
        "instrument_token": "NSE_FO|62867",  
        "order_type": "MARKET",  
        "transaction_type": "SELL",  
        "disclosed_quantity": 0,  
        "trigger_price": 0,  
        "is_amo": false,  
        "slice": false  
      }  
    ];  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response Code:', response.status);  
        console.log('Response Body:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/order/multi/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body with multiple orders  
            String requestBody = "["  
                    + "{"  
                    + "\"correlation_id\": \"1\","  
                    + "\"quantity\": 25,"  
                    + "\"product\": \"D\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_FO|62864\","  
                    + "\"order_type\": \"MARKET\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 0,"  
                    + "\"is_amo\": false,"  
                    + "\"slice\": false"  
                    + "},"  
                    + "{"  
                    + "\"correlation_id\": \"2\","  
                    + "\"quantity\": 25,"  
                    + "\"product\": \"D\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_FO|62867\","  
                    + "\"order_type\": \"MARKET\","  
                    + "\"transaction_type\": \"SELL\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 0,"  
                    + "\"is_amo\": false,"  
                    + "\"slice\": false"  
                    + "}"  
                    + "]";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/order/multi/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    // Set up the request body with multiple orders  
    $data = [  
        [  
            "correlation_id" => "1",  
            "quantity" => 25,  
            "product" => "D",  
            "validity" => "DAY",  
            "price" => 0,  
            "tag" => "string",  
            "instrument_token" => "NSE_FO|62864",  
            "order_type" => "MARKET",  
            "transaction_type" => "BUY",  
            "disclosed_quantity" => 0,  
            "trigger_price" => 0,  
            "is_amo" => false,  
            "slice" => false  
        ],  
        [  
            "correlation_id" => "2",  
            "quantity" => 25,  
            "product" => "D",  
            "validity" => "DAY",  
            "price" => 0,  
            "tag" => "string",  
            "instrument_token" => "NSE_FO|62867",  
            "order_type" => "MARKET",  
            "transaction_type" => "SELL",  
            "disclosed_quantity" => 0,  
            "trigger_price" => 0,  
            "is_amo" => false,  
            "slice" => false  
        ]  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    body = [  
        upstox_client.MultiOrderRequest(25, "D", "DAY", 0, "string", False, "NSE_FO|44166", "MARKET", "BUY",  
                                        0, 0, True, "1"),  
        upstox_client.MultiOrderRequest(25, "D", "DAY", 0, "string", False, "NSE_FO|44122", "MARKET", "SELL",  
                                        0, 0, True, "2")  
    ]  
      
    try:  
        api_response = api_instance.place_multi_order(body)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->place_order: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    apiInstance = new UpstoxClient.OrderApi();  
    body = []  
    buyRequest = new UpstoxClient.MultiOrderRequest(25,"D","DAY",0,false,"NSE_FO|44166","MARKET","BUY",0,0,true,"1");  
    buyRequest.tag = "string";  
      
    sellRequest = new UpstoxClient.MultiOrderRequest(25,"D","DAY",0,false,"NSE_FO|44122","MARKET","SELL",0,0,true,"2");  
    sellRequest.tag = "string";  
    body = body.concat(buyRequest, sellRequest);  
      
      
    apiInstance.placeMultiOrder(body, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.MultiOrderRequest;  
    import com.upstox.api.MultiOrderResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OrderApi;  
      
    import java.util.List;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            MultiOrderRequest buyOrderRequest = new MultiOrderRequest();  
            buyOrderRequest.setQuantity(25);  
            buyOrderRequest.setProduct(MultiOrderRequest.ProductEnum.D);  
            buyOrderRequest.setValidity(MultiOrderRequest.ValidityEnum.DAY);  
            buyOrderRequest.setPrice(0F);  
            buyOrderRequest.setTag("string");  
            buyOrderRequest.setInstrumentToken("NSE_FO|44166");  
            buyOrderRequest.orderType(MultiOrderRequest.OrderTypeEnum.MARKET);  
            buyOrderRequest.setTransactionType(MultiOrderRequest.TransactionTypeEnum.BUY);  
            buyOrderRequest.setDisclosedQuantity(0);  
            buyOrderRequest.setTriggerPrice(0F);  
            buyOrderRequest.setIsAmo(true);  
            buyOrderRequest.setCorrelationId("1");  
            buyOrderRequest.setSlice(false);  
      
            MultiOrderRequest sellOrderRequest = new MultiOrderRequest();  
            sellOrderRequest.setQuantity(25);  
            sellOrderRequest.setProduct(MultiOrderRequest.ProductEnum.D);  
            sellOrderRequest.setValidity(MultiOrderRequest.ValidityEnum.DAY);  
            sellOrderRequest.setPrice(0F);  
            sellOrderRequest.setTag("string");  
            sellOrderRequest.setInstrumentToken("NSE_FO|44122");  
            sellOrderRequest.orderType(MultiOrderRequest.OrderTypeEnum.MARKET);  
            sellOrderRequest.setTransactionType(MultiOrderRequest.TransactionTypeEnum.SELL);  
            sellOrderRequest.setDisclosedQuantity(0);  
            sellOrderRequest.setTriggerPrice(0F);  
            sellOrderRequest.setIsAmo(true);  
            sellOrderRequest.setCorrelationId("2");  
            sellOrderRequest.setSlice(false);  
      
            try {  
                List<MultiOrderRequest> list = List.of(buyOrderRequest, sellOrderRequest);  
                MultiOrderResponse result = apiInstance.placeMultiOrder(list);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#MultiOrder= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Place Multiple Orders with Auto Slicing enabled[â€‹](<https://upstox.com/developer/api-documentation/place-multi-order/#place-multiple-orders-with-auto-slicing-enabled> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/order/multi/place' \  
         --header 'Content-Type: application/json' \  
         --header 'Accept: application/json' \  
         --header 'Authorization: Bearer {your_access_token}' \  
         --data '[  
            {  
                "correlation_id": "1",  
                "quantity": 2500000,  
                "product": "D",  
                "validity": "DAY",  
                "price": 0,  
                "tag": "string",  
                "instrument_token": "NSE_FO|62864",  
                "order_type": "MARKET",  
                "transaction_type": "BUY",  
                "disclosed_quantity": 0,  
                "trigger_price": 0,  
                "is_amo": false,  
                "slice": true  
            },  
            {  
                "correlation_id": "2",  
                "quantity": 2500000,  
                "product": "D",  
                "validity": "DAY",  
                "price": 0,  
                "tag": "string",  
                "instrument_token": "NSE_FO|62867",  
                "order_type": "MARKET",  
                "transaction_type": "SELL",  
                "disclosed_quantity": 0,  
                "trigger_price": 0,  
                "is_amo": false,  
                "slice": true  
            }  
        ]'  
    '  
      
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/multi/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = [  
        {  
            "correlation_id": "1",  
            "quantity": 2500000,  
            "product": "D",  
            "validity": "DAY",  
            "price": 0,  
            "tag": "string",  
            "instrument_token": "NSE_FO|62864",  
            "order_type": "MARKET",  
            "transaction_type": "BUY",  
            "disclosed_quantity": 0,  
            "trigger_price": 0,  
            "is_amo": False,  
            "slice": True  
        },  
        {  
            "correlation_id": "2",  
            "quantity": 2500000,  
            "product": "D",  
            "validity": "DAY",  
            "price": 0,  
            "tag": "string",  
            "instrument_token": "NSE_FO|62867",  
            "order_type": "MARKET",  
            "transaction_type": "SELL",  
            "disclosed_quantity": 0,  
            "trigger_price": 0,  
            "is_amo": False,  
            "slice": True  
        }  
    ]  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/multi/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = [  
      {  
        "correlation_id": "1",  
        "quantity": 2500000,  
        "product": "D",  
        "validity": "DAY",  
        "price": 0,  
        "tag": "string",  
        "instrument_token": "NSE_FO|62864",  
        "order_type": "MARKET",  
        "transaction_type": "BUY",  
        "disclosed_quantity": 0,  
        "trigger_price": 0,  
        "is_amo": false,  
        "slice": true  
      },  
      {  
        "correlation_id": "2",  
        "quantity": 2500000,  
        "product": "D",  
        "validity": "DAY",  
        "price": 0,  
        "tag": "string",  
        "instrument_token": "NSE_FO|62867",  
        "order_type": "MARKET",  
        "transaction_type": "SELL",  
        "disclosed_quantity": 0,  
        "trigger_price": 0,  
        "is_amo": false,  
        "slice": true  
      }  
    ];  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response Code:', response.status);  
        console.log('Response Body:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/order/multi/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body with multiple orders  
            String requestBody = "["  
                    + "{"  
                    + "\"correlation_id\": \"1\","  
                    + "\"quantity\": 2500000,"  
                    + "\"product\": \"D\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_FO|62864\","  
                    + "\"order_type\": \"MARKET\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 0,"  
                    + "\"is_amo\": false,"  
                    + "\"slice\": true"  
                    + "},"  
                    + "{"  
                    + "\"correlation_id\": \"2\","  
                    + "\"quantity\": 2500000,"  
                    + "\"product\": \"D\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_FO|62867\","  
                    + "\"order_type\": \"MARKET\","  
                    + "\"transaction_type\": \"SELL\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 0,"  
                    + "\"is_amo\": false,"  
                    + "\"slice\": true"  
                    + "}"  
                    + "]";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/order/multi/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    // Set up the request body with multiple orders  
    $data = [  
        [  
            "correlation_id" => "1",  
            "quantity" => 2500000,  
            "product" => "D",  
            "validity" => "DAY",  
            "price" => 0,  
            "tag" => "string",  
            "instrument_token" => "NSE_FO|62864",  
            "order_type" => "MARKET",  
            "transaction_type" => "BUY",  
            "disclosed_quantity" => 0,  
            "trigger_price" => 0,  
            "is_amo" => false,  
            "slice" => true  
        ],  
        [  
            "correlation_id" => "2",  
            "quantity" => 2500000,  
            "product" => "D",  
            "validity" => "DAY",  
            "price" => 0,  
            "tag" => "string",  
            "instrument_token" => "NSE_FO|62867",  
            "order_type" => "MARKET",  
            "transaction_type" => "SELL",  
            "disclosed_quantity" => 0,  
            "trigger_price" => 0,  
            "is_amo" => false,  
            "slice" => true  
        ]  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    body = [  
        upstox_client.MultiOrderRequest(25, "D", "DAY", 0, "string", True, "NSE_FO|44166", "MARKET", "BUY",  
                                        0, 0, True, "1")  
    ]  
      
    try:  
        api_response = api_instance.place_multi_order(body)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->place_order: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    apiInstance = new UpstoxClient.OrderApi();  
    body = []  
    order = new UpstoxClient.MultiOrderRequest(25,"D","DAY",0,true,"NSE_FO|44166","MARKET","BUY",0,0,true,"1");  
    order.tag = "string"; //optional parameter tag  
    body = body.concat(order);  
      
      
    apiInstance.placeMultiOrder(body, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.MultiOrderRequest;  
    import com.upstox.api.MultiOrderResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OrderApi;  
      
    import java.util.ArrayList;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            OrderApi apiInstance = new OrderApi();  
            MultiOrderRequest orderRequest = new MultiOrderRequest();  
            orderRequest.setQuantity(25);  
            orderRequest.setProduct(MultiOrderRequest.ProductEnum.D);  
            orderRequest.setValidity(MultiOrderRequest.ValidityEnum.DAY);  
            orderRequest.setPrice(0F);  
            orderRequest.setTag("string");  
            orderRequest.setInstrumentToken("NSE_FO|44166");  
            orderRequest.orderType(MultiOrderRequest.OrderTypeEnum.MARKET);  
            orderRequest.setTransactionType(MultiOrderRequest.TransactionTypeEnum.BUY);  
            orderRequest.setDisclosedQuantity(0);  
            orderRequest.setTriggerPrice(0F);  
            orderRequest.setIsAmo(true);  
            orderRequest.setCorrelationId("1");  
            orderRequest.setSlice(true);  
      
            try {  
                ArrayList<MultiOrderRequest> list = new ArrayList<>();  
                list.add(orderRequest);  
                MultiOrderResponse result = apiInstance.placeMultiOrder(list);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#MultiOrder= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    POST /order/multi/place

#### Request

Send API Request

Sandbox URLhttps://api-sandbox.upstox.com/v2

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

`Body` **required**
    
    
    [
    
    
      {
    
    
        "correlation_id": "1",
    
    
        "quantity": 25,
    
    
        "product": "D",
    
    
        "validity": "DAY",
    
    
        "price": 0,
    
    
        "tag": "string",
    
    
        "instrument_token": "NSE_FO|62864",
    
    
        "order_type": "MARKET",
    
    
        "transaction_type": "BUY",
    
    
        "disclosed_quantity": 0,
    
    
        "trigger_price": 0,
    
    
        "is_amo": false,
    
    
        "slice": false
    
    
      },
    
    
      {
    
    
        "correlation_id": "2",
    
    
        "quantity": 25,
    
    
        "product": "D",
    
    
        "validity": "DAY",
    
    
        "price": 0,
    
    
        "tag": "string",
    
    
        "instrument_token": "NSE_FO|62867",
    
    
        "order_type": "MARKET",
    
    
        "transaction_type": "BUY",
    
    
        "disclosed_quantity": 0,
    
    
        "trigger_price": 0,
    
    
        "is_amo": false,
    
    
        "slice": false
    
    
      }
    
    
    ]
    

NOTE

  * In the event of payload issues with any order lines, the entire batch of orders will not be placed. Orders will only be executed when the entire array is validated and free of any `payload_error`. This ensures all transactions are processed without discrepancies.
  * The Multi order api is down for maintenance from 12:00 AM to 5:30 AM IST daily and is not available for usage during these hours. Users are advised to plan their activities accordingly.




---
# Source: https://upstox.com/developer/api-documentation/v3/modify-order
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Orders](<https://upstox.com/developer/api-documentation/orders>)
  * Modify Order V3



## Modify Order V3 Sandbox Enabled[â€‹](<https://upstox.com/developer/api-documentation/v3/modify-order/#modify-order-v3-sandbox-enabled> "Direct link to heading")

API to modify an open or pending order. To perform a modification, the orderId is a required field. Along with the orderId, you should include any optional parameters that require modification. If no optional parameters are included in the modification request, the default values will be assumed from the original order.

Additionally this API includes latency information in the meta data object of the response, providing insight into the time Upstox took to process your request.

### Request[â€‹](<https://upstox.com/developer/api-documentation/v3/modify-order/#request> "Direct link to heading")
    
    
    curl --location --request PUT 'https://api-hft.upstox.com/v3/order/modify' \  
    --header 'Accept: application/json' \  
    --header 'Content-Type: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 2,  
      "validity": "DAY",  
      "price": 16.8,  
      "order_id": "240108010918222",  
      "order_type": "LIMIT",  
      "disclosed_quantity": 0,  
      "trigger_price": 16.9  
    }'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/v3/modify-order/#sample-code>) on this page.

  


### Request Body[â€‹](<https://upstox.com/developer/api-documentation/v3/modify-order/#request-body> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
quantity| false| integer (int32)| Quantity with which the order was placed  
validity| true| string| Order validity (DAY- Day and IOC- Immediate or Cancel (IOC) order).   
Possible values: `DAY`, `IOC`.  
price| true| number (float)| Price at which the order was placed  
order_id| true| string| The order ID for which the order must be modified. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
order_type| true| string| Type of order. It can be one of the following  
MARKET refers to market order  
LIMILT refers to Limit Order  
SL refers to Stop Loss Limit  
SL-M refers to Stop Loss Market.   
Possible values: `MARKET`, `LIMIT`, `SL`, `SL-M`.  
disclosed_quantity| false| integer (int32)| Indicates the volume to be displayed in the market depth. If provided, this value must be non-zero.  
trigger_price| true| number (float)| If the order is a stop loss order then the trigger price to be set is mentioned here  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/v3/modify-order/#response-body> "Direct link to heading")
    
    
    {  
        "status": "success",  
        "data": {  
            "order_id": "1644490272000"  
        },  
        "metadata": {  
            "latency": 40  
        }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Response data for modify order request  
data.order_id| string| Order ID  
metadata| object| Order metadata associated with successful order modified.  
metadata.latency| integer| The overall time taken by API platform to process the order modification request, measured in milliseconds.  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/v3/modify-order/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1004| **Valid order type is required** \- Please ensure you provide an acceptable type for the order.  
UDAPI1007| **Validity is required** \- You need to specify the duration or validity for the order.  
UDAPI1056| **The 'order_type' is invalid** \- The order type you've provided isn't recognized or accepted.  
UDAPI1055| **The 'validity' is invalid** \- The provided validity doesn't match any of the recognized types.  
UDAPI1008| **Price is required** \- Please specify the desired price for your order.  
UDAPI1036| **The 'trigger_price' is required** \- A trigger price must be specified for this type of order.  
UDAPI1030| **'price' is not required** \- For this order type, you don't need to specify a price.  
UDAPI1029| **'price' is required** \- A valid price must be provided for this type of order.  
UDAPI1031| **Price and Trigger price both are required** \- Both price values, regular and trigger, need to be provided for this order.  
UDAPI1032| **Only 'trigger_price' is required** \- For this type of order, only a trigger price value needs to be specified.  
UDAPI100049| **Access to this API has been restricted for your account. Please use 'Uplink Business' to place/modify/cancel the order.** \- Use 'Uplink Business' for order operations.  
UDAPI100010| **Order not found** \- The system couldn't locate the order you're referring to.  
UDAPI100041| **Modifications of already cancelled/rejected/completed orders is not allowed** \- You cannot make changes to orders that are already finalized in some manner.  
UDAPI1039| **Disclosed quantity should not be less than 10% of the quantity** \- The revealed amount in your order should be at least 10% of the total order amount.  
UDAPI1003| **Order id is required** \- Thrown when order number is not provided.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/v3/modify-order/#sample-code> "Direct link to heading")

### Modify a delivery order[â€‹](<https://upstox.com/developer/api-documentation/v3/modify-order/#modify-a-delivery-order> "Direct link to heading")

  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v3/order/modify'  
    headers = {  
        'Accept': 'application/json',  
        'Content-Type': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    data = {  
        'quantity': 3,  
        'validity': 'DAY',  
        'price': 16.8,  
        'order_id': '240108010918222',  
        'order_type': 'LIMIT',  
        'disclosed_quantity': 0,  
        'trigger_price': 16.9  
    }  
      
    response = requests.put(url, headers=headers, json=data)  
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v3/order/modify';  
    const headers = {  
        'Accept': 'application/json',  
        'Content-Type': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    const data = {  
        'quantity': 2,  
        'validity': 'DAY',  
        'price': 16.8,  
        'order_id': '240108010918222',  
        'order_type': 'LIMIT',  
        'disclosed_quantity': 0,  
        'trigger_price': 16.9  
    };  
      
    axios.put(url, data, { headers })  
        .then(response => console.log(response.data))  
        .catch(error => console.error(error.response.data));  
    
    
    
    import java.io.OutputStream;  
    import java.net.HttpURLConnection;  
    import java.net.URL;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            try {  
                URL url = new URL("https://api-hft.upstox.com/v3/order/modify");  
                HttpURLConnection connection = (HttpURLConnection) url.openConnection();  
      
                connection.setRequestMethod("PUT");  
                connection.setRequestProperty("Accept", "application/json");  
                connection.setRequestProperty("Content-Type", "application/json");  
                connection.setRequestProperty("Authorization", "Bearer {your_access_token}");  
      
                connection.setDoOutput(true);  
      
                String data = "{\"quantity\": 2, \"validity\": \"DAY\", \"price\": 16.8, \"order_id\": \"240108010918222\", \"order_type\": \"LIMIT\", \"disclosed_quantity\": 0, \"trigger_price\": 16.9}";  
      
                try (OutputStream os = connection.getOutputStream()) {  
                    byte[] input = data.getBytes("utf-8");  
                    os.write(input, 0, input.length);  
                }  
      
                int responseCode = connection.getResponseCode();  
                System.out.println("Response Code: " + responseCode);  
      
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v3/order/modify';  
    $headers = array(  
        'Accept: application/json',  
        'Content-Type: application/json',  
        'Authorization: Bearer {your_access_token}'  
    );  
      
    $data = array(  
        'quantity' => 2,  
        'validity' => 'DAY',  
        'price' => 16.8,  
        'order_id' => '240108010918222',  
        'order_type' => 'LIMIT',  
        'disclosed_quantity' => 0,  
        'trigger_price' => 16.9  
    );  
      
    $ch = curl_init();  
      
    curl_setopt($ch, CURLOPT_URL, $url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);  
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'PUT');  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $result = curl_exec($ch);  
      
    if (curl_errno($ch)) {  
        echo 'Error: ' . curl_error($ch);  
    }  
      
    curl_close($ch);  
      
    echo $result;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApiV3(upstox_client.ApiClient(configuration))  
    body = upstox_client.ModifyOrderRequest(1, "DAY", 9.12, "25030310405859", "LIMIT", 0, 0)  
      
    try:  
        api_response = api_instance.modify_order(body)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApiV3->modify_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApiV3();  
    body = new UpstoxClient.ModifyOrderRequest(UpstoxClient.ModifyOrderRequest.ValidityEnum.DAY,0,"2505010177418",UpstoxClient.ModifyOrderRequest.OrderTypeEnum.MARKET,1);  
    body.quantity = 1;  
      
    apiInstance.modifyOrder(body, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.OrderApiV3;  
    import com.upstox.api.ModifyOrderRequest;  
    import com.upstox.api.ModifyOrderV3Response;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            defaultClient.setAccessToken("{your_access_token}");  
      
            OrderApiV3 apiInstance = new OrderApiV3();  
            ModifyOrderRequest modifyOrderRequest1 = new ModifyOrderRequest();  
            modifyOrderRequest1.setQuantity(2);  
            modifyOrderRequest1.setValidity(ModifyOrderRequest.ValidityEnum.DAY);  
            modifyOrderRequest1.setPrice(9F);  
            modifyOrderRequest1.setDisclosedQuantity(0);  
            modifyOrderRequest1.setTriggerPrice(0F);  
            modifyOrderRequest1.setOrderType(ModifyOrderRequest.OrderTypeEnum.LIMIT);  
            modifyOrderRequest1.setOrderId("250128010532402");  
      
            try {  
                ModifyOrderV3Response result = apiInstance.modifyOrder(modifyOrderRequest1);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApiV3->modifyOrder: " + e.getMessage());  
            }  
        }  
    }  
    
    
    
    PUT /order/modify

#### Request

Send API Request

Sandbox URLhttps://api-sandbox.upstox.com/v3

Live URLhttps://api-hft.upstox.com/v3

`Authorization`

Bearer

`Body` **required**
    
    
    {
    
    
      "quantity": 1,
    
    
      "validity": "DAY",
    
    
      "price": 120.01,
    
    
      "order_id": "1644490272000",
    
    
      "order_type": "MARKET",
    
    
      "disclosed_quantity": 0,
    
    
      "trigger_price": 0
    
    
    }
    


---
# Source: https://upstox.com/developer/api-documentation/v3/cancel-order
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Orders](<https://upstox.com/developer/api-documentation/orders>)
  * Cancel Order V3



## Cancel Order V3 Sandbox Enabled[â€‹](<https://upstox.com/developer/api-documentation/v3/cancel-order/#cancel-order-v3-sandbox-enabled> "Direct link to heading")

API to cancel an open or pending order which can be applied to both After Market Orders (AMO) and regular orders. 

Additionally this API includes latency information in the meta data object of the response, providing insight into the time Upstox took to process your request.

### Request[â€‹](<https://upstox.com/developer/api-documentation/v3/cancel-order/#request> "Direct link to heading")
    
    
    curl --location --request DELETE 'https://api-hft.upstox.com/v3/order/cancel?order_id=240108010445130' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/v3/cancel-order/#sample-code>) on this page.

  


### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/v3/cancel-order/#query-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
order_id| true| string| The order ID for which the order must be cancelled. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/v3/cancel-order/#response-body> "Direct link to heading")
    
    
    {  
        "status": "success",  
        "data": {  
            "order_id": "1644490272000"  
        },  
        "metadata": {  
            "latency": 30  
        }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Response data for Cancel order request  
data.order_id| string| Reference order ID  
metadata| object| Order metadata associated with successful cancelled order.  
metadata.latency| integer| The overall time taken by API platform to process the order cancellation request, measured in milliseconds.  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/v3/cancel-order/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1023| **Order id is required** \- Please ensure you provide an order id.  
UDAPI1010| **Order id accepts only alphanumeric characters and '-'.** \- The order id you've provided isn't accepted.  
UDAPI100049| **Access to this API has been restricted for your account. Please use 'Uplink Business' to place/modify/cancel the order.** \- Use 'Uplink Business' for order operations.  
UDAPI100010| **Order not found** \- The system couldn't locate the order you're referring to.  
UDAPI100040| **Cancel of already cancelled/rejected/completed order is not allowed** \- You cannot cancel orders that are already finalized in some manner.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/v3/cancel-order/#sample-code> "Direct link to heading")

### Cancel an open order[â€‹](<https://upstox.com/developer/api-documentation/v3/cancel-order/#cancel-an-open-order> "Direct link to heading")

  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v3/order/cancel?order_id=240108010445130'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.delete(url, headers=headers)  
      
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v3/order/cancel?order_id=240108010445130';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}', // Replace {your_access_token} with the actual access token  
    };  
      
    axios.delete(url, { headers })  
        .then(response => {  
            console.log(response.data);  
        })  
        .catch(error => {  
            console.error(error.response ? error.response.data : error.message);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) throws Exception {  
            String url = "https://api-hft.upstox.com/v3/order/cancel?order_id=240108010913262";  
      
            // Replace with your actual values  
            String contentTypeHeader = "application/json";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient client = HttpClient.newHttpClient();  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", contentTypeHeader)  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .DELETE()  
                    .build();  
      
            HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
      
            System.out.println("Response Code: " + response.statusCode());  
            System.out.println("Response Body: " + response.body());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v3/order/cancel?order_id=240108010445130';  
      
    // Replace with your actual values  
    $contentTypeHeader = 'application/json';  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
      
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'DELETE');  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, array(  
        'Content-Type: ' . $contentTypeHeader,  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader  
    ));  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'Response Code: ' . $httpCode . PHP_EOL;  
    echo 'Response Body: ' . $response . PHP_EOL;  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApiV3(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.cancel_order("2501211050101")  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApiV3->cancel_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApiV3();  
      
    apiInstance.cancelOrder("2503050177418", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.OrderApiV3;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            defaultClient.setAccessToken("{your_access_token}");  
              
            OrderApiV3 apiInstance = new OrderApiV3();  
            try {  
                System.out.println(apiInstance.cancelOrder("250128010534339"));  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApiV3->cancelOrder: " + e.getMessage());  
            }  
        }  
    }  
    
    
    
    DELETE /order/cancel

#### Request

Send API Request

Sandbox URLhttps://api-sandbox.upstox.com/v3

Live URLhttps://api-hft.upstox.com/v3

`Authorization`

Bearer

`order_id` â€” query **required**


---
# Source: https://upstox.com/developer/api-documentation/cancel-multi-order
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [ Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Orders](<https://upstox.com/developer/api-documentation/orders>)
  * Cancel Multi Order



## Cancel Multi Order[â€‹](<https://upstox.com/developer/api-documentation/cancel-multi-order/#cancel-multi-order> "Direct link to heading")

Use this API to cancel all open orders in one go. You can filter by `segment` or `tag` to cancel specific orders, or cancel all open orders with a single request. This applies to both AMO and regular orders. The `order_id`s of the cancelled orders will be returned in the response.   
  
A maximum of **50 orders** can be cancelled in a single request. Any request exceeding this limit will be rejected. The Cancel Multi Order API is subject to a different rate limit compared to the standard limits applied across the system. For more information on the rate limits for this API, please check [here](<https://upstox.com/developer/api-documentation/rate-limiting>).

### Request[â€‹](<https://upstox.com/developer/api-documentation/cancel-multi-order/#request> "Direct link to heading")
    
    
    curl --location --request DELETE 'https://api.upstox.com/v2/order/multi/cancel' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/cancel-multi-order/#sample-code>) on this page.

### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/cancel-multi-order/#query-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
segment| false| string| The segment associated with the open orders.   
Possible values: `NSE_EQ`, `BSE_EQ`, `NSE_FO`, `BSE_FO`, `MCX_FO`, `NCD_FO`, `BCD_FO`, `NSE_COM`.  
tag| false| string| The tag associated with the open orders.  
  


**Responses**

  * 2XX
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/cancel-multi-order/#response-body> "Direct link to heading")

  * Success (200)
  * Partial Success (207)


    
    
    {  
        "status": "success",  
        "data": {  
            "order_ids": [  
                "1644490272000",  
                "1644490272001",  
                "1644490272003"  
            ]  
        },  
        "errors": null,  
        "summary": {  
            "total": 3,  
            "success": 3,  
            "error": 0  
        }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Possible values: `success`, `partial_success`, `error`.  
  
**success** \- when all the cancel order request are successful.  
**partial_success** \- when some cancel order request encountered errors.  
**error** \- when all the cancel order request encountered errors.  
data| object| Successful response data for cancel multi order request.  
data.order_ids| array| List of reference order IDs associated with successfully cancelled orders.  
errors| array| An array containing the main content of the error response for `partial_success` and `error` scenarios.  
errors[].error_code| string| A specific error code.  
errors[].message| string| Descriptive error message.  
errors[].property_path| string| Indicates which part of the request triggered the error. It can be null.  
errors[].invalid_value| string| Shows the value causing the error. It can be null.  
errors[].instrument_key| string| A Key of instrument for a specific order.  
errors[].order_id| string| Order ID associated to specific order. It can be null.  
summary| object| A summary of the outcomes for the batch of orders processed, detailing total orders, successful completions, and errors.  
summary.total| integer| The total number of order present in the payload for cancel multi orders.  
summary.success| integer| Indicates the successful cancelled orders.  
summary.error| integer| Indicates the unsuccessful cancelled orders.  
      
    
    {  
        "status": "partial_success",  
        "data": {  
            "order_ids": [  
                "1644490272000",  
                "1644490272001",  
                "1644490272003"  
            ]  
        },  
        "errors": [  
            {  
                "error_code": "UDAPI100500",  
                "message": "Something went wrong... please contact us",  
                "property_path": null,  
                "invalid_value": null,  
                "order_id": "240923010689802",  
                "instrument_key": "MCX_FO|436245"  
            }  
        ],  
        "summary": {  
            "total": 4,  
            "success": 3,  
            "error": 1  
        }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Possible values: `success`, `partial_success`, `error`.  
  
**success** \- when all the cancel order request are successful.  
**partial_success** \- when some cancel order request encountered errors.  
**error** \- when all the cancel order request encountered errors.  
data| object| Successful response data for cancel multi order request.  
data.order_ids| array| List of reference order IDs associated with successfully cancelled orders.  
errors| array| An array containing the main content of the error response for `partial_success` and `error` scenarios.  
errors[].error_code| string| A specific error code.  
errors[].message| string| Descriptive error message.  
errors[].property_path| string| Indicates which part of the request triggered the error. It can be null.  
errors[].invalid_value| string| Shows the value causing the error. It can be null.  
errors[].instrument_key| string| A Key of instrument for a specific order.  
errors[].order_id| string| Order ID associated to specific order. It can be null.  
summary| object| A summary of the outcomes for the batch of orders processed, detailing total orders, successful completions, and errors.  
summary.total| integer| The total number of order present in the payload for cancel multi orders.  
summary.success| integer| Indicates the successful cancelled orders.  
summary.error| integer| Indicates the unsuccessful cancelled orders.  
      
    
    {  
        "status": "error",  
        "data": null,  
        "errors": [  
            {  
                "error_code": "UDAPI100500",  
                "message": "Something went wrong... please contact us.",  
                "property_path": null,  
                "invalid_value": null,  
                "order_id": "240923010689802",  
                "instrument_key": "NSE_EQ|INE528G01035"  
            }  
        ],  
        "summary": {  
            "total": 1,  
            "success": 0,  
            "error": 1  
        }  
    }  
    
    
    
    {  
        "status": "error",  
        "errors": [  
            {  
                "error_code": "UDAPI1109",  
                "message": "No open or pending order available",  
                "property_path": null,  
                "invalid_value": null  
            }  
        ]  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Possible values: `success`, `partial_success`, `error`.  
  
**success** \- when all the cancel order request are successful.  
**partial_success** \- when some cancel order request encountered errors.  
**error** \- when all the cancel order request encountered errors.  
data| object| Successful response data for cancel multi order request.  
data.order_ids| array| List of reference order IDs associated with successfully cancelled orders.  
errors| array| An array containing the main content of the error response for `partial_success` and `error` scenarios.  
errors[].error_code| string| A specific error code.  
errors[].message| string| Descriptive error message.  
errors[].property_path| string| Indicates which part of the request triggered the error. It can be null.  
errors[].invalid_value| string| Shows the value causing the error. It can be null.  
errors[].instrument_key| string| A Key of instrument for a specific order.  
errors[].order_id| string| Order ID associated to specific order. It can be null.  
summary| object| A summary of the outcomes for the batch of orders processed, detailing total orders, successful completions, and errors.  
summary.total| integer| The total number of order present in the payload for cancel multi orders.  
summary.success| integer| Indicates the successful cancelled orders.  
summary.error| integer| Indicates the unsuccessful cancelled orders.  
  


### Error codes[â€‹](<https://upstox.com/developer/api-documentation/cancel-multi-order/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1108| **Invalid segment.** \- Please ensure that segment provided in query param is correct.  
UDAPI1109| **No open or pending order available.** \- Please ensure that there are open or pending orders available.  
UDAPI1110| **Available open or pending orders should not be more than 50.** \- Please ensure that available open or pending should be within the limit.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/cancel-multi-order/#sample-code> "Direct link to heading")

### Cancel all the open orders[â€‹](<https://upstox.com/developer/api-documentation/cancel-multi-order/#cancel-all-the-open-orders> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request DELETE 'https://api.upstox.com/v2/order/multi/cancel' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/multi/cancel'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.delete(url, headers=headers)  
      
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/multi/cancel';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}', // Replace {your_access_token} with the actual access token  
    };  
      
    axios.delete(url, { headers })  
        .then(response => {  
            console.log(response.data);  
        })  
        .catch(error => {  
            console.error(error.response ? error.response.data : error.message);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/order/multi/cancel";  
      
            // Replace with your actual values  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient client = HttpClient.newHttpClient();  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .DELETE()  
                    .build();  
      
            HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
      
            System.out.println("Response Code: " + response.statusCode());  
            System.out.println("Response Body: " + response.body());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/order/multi/cancel';  
      
    // Replace with your actual values  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
      
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'DELETE');  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, array(  
        'Content-Type: application/json',  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader  
    ));  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'Response Code: ' . $httpCode . PHP_EOL;  
    echo 'Response Body: ' . $response . PHP_EOL;  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = "{your_access_token}"  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.cancel_multi_order()  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->cancel all: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    apiInstance.cancelMultiOrder(null, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.CancelOrExitMultiOrderResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OrderApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            OrderApi apiInstance = new OrderApi();  
      
            try {  
                CancelOrExitMultiOrderResponse result = apiInstance.cancelMultiOrder(null,null);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#cancelMultiOrder= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

### Cancel all the open orders for a given segment[â€‹](<https://upstox.com/developer/api-documentation/cancel-multi-order/#cancel-all-the-open-orders-for-a-given-segment> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request DELETE 'https://api.upstox.com/v2/order/multi/cancel?segment=NSE_FO' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/multi/cancel?segment=NSE_FO'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.delete(url, headers=headers)  
      
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/multi/cancel?segment=NSE_FO';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}', // Replace {your_access_token} with the actual access token  
    };  
      
    axios.delete(url, { headers })  
        .then(response => {  
            console.log(response.data);  
        })  
        .catch(error => {  
            console.error(error.response ? error.response.data : error.message);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/order/multi/cancel?segment=NSE_FO";  
      
            // Replace with your actual values  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient client = HttpClient.newHttpClient();  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .DELETE()  
                    .build();  
      
            HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
      
            System.out.println("Response Code: " + response.statusCode());  
            System.out.println("Response Body: " + response.body());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/order/multi/cancel?segment=NSE_FO';  
      
    // Replace with your actual values  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
      
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'DELETE');  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, array(  
        'Content-Type: application/json',  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader  
    ));  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'Response Code: ' . $httpCode . PHP_EOL;  
    echo 'Response Body: ' . $response . PHP_EOL;  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = "{your_access_token}"  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
      
    param = {  
        'segment': "NSE_FO"  
    }  
      
    try:  
        api_response = api_instance.cancel_multi_order(**param)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->cancel all: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    opts = {  
      'segment': 'NSE_FO'  
    }  
    apiInstance.cancelMultiOrder(opts, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.CancelOrExitMultiOrderResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OrderApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            OrderApi apiInstance = new OrderApi();  
      
            try {  
                CancelOrExitMultiOrderResponse result = apiInstance.cancelMultiOrder(null,"NSE_FO");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#cancelMultiOrder= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

### Cancel all the open orders for a given tag[â€‹](<https://upstox.com/developer/api-documentation/cancel-multi-order/#cancel-all-the-open-orders-for-a-given-tag> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request DELETE 'https://api.upstox.com/v2/order/multi/cancel?tag=xyz' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/multi/cancel?tag=xyz'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.delete(url, headers=headers)  
      
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/multi/cancel?tag=xyz';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}', // Replace {your_access_token} with the actual access token  
    };  
      
    axios.delete(url, { headers })  
        .then(response => {  
            console.log(response.data);  
        })  
        .catch(error => {  
            console.error(error.response ? error.response.data : error.message);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/order/multi/cancel?tag=xyz";  
      
            // Replace with your actual values  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient client = HttpClient.newHttpClient();  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .DELETE()  
                    .build();  
      
            HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
      
            System.out.println("Response Code: " + response.statusCode());  
            System.out.println("Response Body: " + response.body());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/order/multi/cancel?tag=xyz';  
      
    // Replace with your actual values  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
      
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'DELETE');  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, array(  
        'Content-Type: application/json',  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader  
    ));  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'Response Code: ' . $httpCode . PHP_EOL;  
    echo 'Response Body: ' . $response . PHP_EOL;  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = "{your_access_token}"  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
      
    param = {  
        'tag': "xyz"  
    }  
      
    try:  
        api_response = api_instance.cancel_multi_order(**param)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->cancel all: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    opts = {  
      'tag': 'xyz'  
    }  
    apiInstance.cancelMultiOrder(opts, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.CancelOrExitMultiOrderResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OrderApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            OrderApi apiInstance = new OrderApi();  
      
            try {  
                CancelOrExitMultiOrderResponse result = apiInstance.cancelMultiOrder("xyz",null);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#cancelMultiOrder= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    DELETE /order/multi/cancel

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

Show optional parameters

`tag` â€” query

`segment` â€” query


---
# Source: https://upstox.com/developer/api-documentation/exit-all-positions
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Orders](<https://upstox.com/developer/api-documentation/orders>)
  * Exit All Positions



## Exit All Positions[â€‹](<https://upstox.com/developer/api-documentation/exit-all-positions/#exit-all-positions> "Direct link to heading")

Use this API to exit all open positions in one go. You can filter by `segment` or `tag` to exit specific positions, or exit all open positions with a single request. The `order_id`s of the new orders created to square off will be returned in the response.

### Request[â€‹](<https://upstox.com/developer/api-documentation/exit-all-positions/#request> "Direct link to heading")
    
    
    curl --location --request POST 'https://api.upstox.com/v2/order/positions/exit' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/exit-all-positions/#sample-code>) on this page.

  


### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/exit-all-positions/#query-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
segment| false| string| The segment associated with the positions.   
Possible values: `NSE_EQ`, `BSE_EQ`, `NSE_FO`, `BSE_FO`, `MCX_FO`, `NCD_FO`, `BCD_FO`, `NSE_COM`.  
tag| false| string| The tag associated with the positions. Check the [Understanding How the Order Tag Filter Works](<https://upstox.com/developer/api-documentation/exit-all-positions#understanding-how-the-order-tag-filter-works>) section for a detailed explanation on how filtering by order tag works.  
  


### Order Tag Scenario[â€‹](<https://upstox.com/developer/api-documentation/exit-all-positions/#order-tag-scenario> "Direct link to heading")

An order tag is a feature that allows traders to categorize or label their orders for better tracking and management. However, it is important to note that **order tags are only valid for intraday positions**. They are specifically designed for trades that are opened and closed within the same trading session.

When a position is carried forward to the next trading day, the order tag associated with it becomes invalid or irrelevant. This is because carry-forwarded positions are no longer tied to the context of the original trading session where the tag was applied.

For carry-forward positions, use a general exit approach without filtering by tags.

  


### Order Execution Sequence[â€‹](<https://upstox.com/developer/api-documentation/exit-all-positions/#order-execution-sequence> "Direct link to heading")

The system will execute all **BUY** positions first, followed by the execution of all **SELL** orders. This ensures a consistent and orderly processing of multiple order types within the same request.

  


### Maximum Position Limit[â€‹](<https://upstox.com/developer/api-documentation/exit-all-positions/#maximum-position-limit> "Direct link to heading")

When slicing is applied, we calculate the total number of resulting orders. The total number of orders in a request, including those generated by the slice, must not exceed the maximum position count specified [here](<https://upstox.com/developer/api-documentation/exit-all-positions#exit-all-positions-beta>).

  


**Responses**

  * 2XX
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/exit-all-positions/#response-body> "Direct link to heading")

  * Success (200)
  * Partial Success (207)


    
    
    {  
        "status": "success",  
        "data": {  
            "order_ids": [  
                "1644490272000",  
                "1644490272001",  
                "1644490272003"  
            ]  
        },  
        "errors": null,  
        "summary": {  
            "total": 3,  
            "success": 3,  
            "error": 0  
        }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Possible values: `success`, `partial_success`, `error`.  
  
**success** \- when all positions were exit successfully.  
**partial_success** \- when some positions encountered errors.  
**error** \- when all the positions encountered errors.  
data| object| Successful response data for exit all positions request.  
data.order_ids| array| List of reference order IDs associated with successful exit positions.  
errors| array| An array containing the main content of the error response for `partial_success` and `error` scenarios.  
errors[].error_code| string| A specific error code.  
errors[].message| string| Descriptive error message.  
errors[].property_path| string| Indicates which part of the request triggered the error. It can be null.  
errors[].invalid_value| string| Shows the value causing the error. It can be null.  
errors[].instrument_key| string| A Key of instrument for a specific position.  
errors[].order_id| string| Order ID associated to specific position. It can be null.  
summary| object| A summary of the outcomes for the batch of orders processed, detailing total orders, successful completions, and errors.  
summary.total| integer| The total number of order present in the payload for exit positions.  
summary.success| integer| Indicates the successful orders placed for exit positions.  
summary.error| integer| Indicates the unsuccessful orders placed for exit positions.  
      
    
    {  
        "status": "partial_success",  
        "data": {  
            "order_ids": [  
                "1644490272000",  
                "1644490272001",  
                "1644490272003"  
            ]  
        },  
        "errors": [  
            {  
                "error_code": "UDAPI1113",  
                "message": "The Exit Positions API is accessible during the market hours only.",  
                "property_path": null,  
                "invalid_value": null,  
                "order_id": null,  
                "instrument_key": "NSE_EQ|INE002A01018"  
            },  
            {  
                "error_code": "UDAPI100500",  
                "message": "Something went wrong... please contact us",  
                "property_path": null,  
                "invalid_value": null,  
                "order_id": null,  
                "instrument_key": "MCX_FO|436245"  
            }  
        ],  
        "summary": {  
            "total": 5,  
            "success": 3,  
            "error": 2  
        }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Possible values: `success`, `partial_success`, `error`.  
  
**success** \- when all positions were exit successfully.  
**partial_success** \- when some positions encountered errors.  
**error** \- when all the positions encountered errors.  
data| object| Successful response data for exit all positions request.  
data.order_ids| array| List of reference order IDs associated with successful exit positions.  
errors| array| An array containing the main content of the error response for `partial_success` and `error` scenarios.  
errors[].error_code| string| A specific error code.  
errors[].message| string| Descriptive error message.  
errors[].property_path| string| Indicates which part of the request triggered the error. It can be null.  
errors[].invalid_value| string| Shows the value causing the error. It can be null.  
errors[].instrument_key| string| A Key of instrument for a specific position.  
errors[].order_id| string| Order ID associated to specific position. It can be null.  
summary| object| A summary of the outcomes for the batch of orders processed, detailing total orders, successful completions, and errors.  
summary.total| integer| The total number of order present in the payload for exit positions.  
summary.success| integer| Indicates the successful orders placed for exit positions.  
summary.error| integer| Indicates the unsuccessful orders placed for exit positions.  
      
    
    {  
        "status": "error",  
        "data": null,  
        "errors": [  
            {  
                "errorCode": "UDAPI1111",  
                "message": "No open position available to exit",  
                "propertyPath": null,  
                "invalidValue": null,  
                "error_code": "UDAPI1111",  
                "property_path": null,  
                "invalid_value": null  
            }  
        ]  
    }  
    
    
    
    {  
        "status": "error",  
        "data": null,  
        "errors": [  
            {  
                "error_code": "UDAPI1113",  
                "message": "The Exit Positions API is accessible during the market hours only.",  
                "property_path": null,  
                "invalid_value": null,  
                "order_id": null,  
                "instrument_key": "NSE_EQ|INE002A01018"  
            },  
            {  
                "error_code": "UDAPI100500",  
                "message": "Something went wrong... please contact us",  
                "property_path": null,  
                "invalid_value": null,  
                "order_id": null,  
                "instrument_key": "MCX_FO|436245"  
            }  
        ],  
        "summary": {  
            "total": 2,  
            "success": 0,  
            "error": 2  
        }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Possible values: `success`, `partial_success`, `error`.  
  
**success** \- when all positions were exit successfully.  
**partial_success** \- when some positions encountered errors.  
**error** \- when all the positions encountered errors.  
data| object| Successful response data for exit all positions request.  
data.order_ids| array| List of reference order IDs associated with successful exit positions.  
errors| array| An array containing the main content of the error response for `partial_success` and `error` scenarios.  
errors[].error_code| string| A specific error code.  
errors[].message| string| Descriptive error message.  
errors[].property_path| string| Indicates which part of the request triggered the error. It can be null.  
errors[].invalid_value| string| Shows the value causing the error. It can be null.  
errors[].instrument_key| string| A Key of instrument for a specific position.  
errors[].order_id| string| Order ID associated to specific position. It can be null.  
summary| object| A summary of the outcomes for the batch of orders processed, detailing total orders, successful completions, and errors.  
summary.total| integer| The total number of order present in the payload for exit positions.  
summary.success| integer| Indicates the successful orders placed for exit positions.  
summary.error| integer| Indicates the unsuccessful orders placed for exit positions.  
  


### Error Codes[â€‹](<https://upstox.com/developer/api-documentation/exit-all-positions/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1108| **Invalid segment.** \- Please ensure that segment provided in query param is correct.  
UDAPI1111| **No open position available to exit.** \- Please ensure that there are open positions available.  
UDAPI1112| **Available open positions should not be more than 50.** \- Please ensure that available positions should be within the limit.  
UDAPI1113| **The Exit Positions API is accessible during the market hours only.** \- Please ensure that the market is open for trading in the specified segment.  
  
  


### Auto Slicing[â€‹](<https://upstox.com/developer/api-documentation/exit-all-positions/#auto-slicing> "Direct link to heading")

Exchanges enforce a limitation on the maximum quantity that can be placed for any scrip, known as the `freeze` quantity. If an order exceeds this freeze quantity, it will be rejected by the exchange. To simplify the process and prevent such rejections, we automatically `slice` the order into smaller parts based on the freeze quantity defined by the exchange when necessary.

#### For example:[â€‹](<https://upstox.com/developer/api-documentation/exit-all-positions/#for-example> "Direct link to heading")

If you want to exit position for _SCRIP1_ with a total quantity of 10,100, and the freeze quantity defined by the exchange is 1,000, then the system will automatically split the position into 11 smaller for execution: 10 positions of 1,000 quantity each, and 1 position of 100 quantity. This ensures that all quantities are accepted and processed by the exchange.

  


### Understanding How the Order Tag Filter Works[â€‹](<https://upstox.com/developer/api-documentation/exit-all-positions/#understanding-how-the-order-tag-filter-works> "Direct link to heading")

#### How Positions work[â€‹](<https://upstox.com/developer/api-documentation/exit-all-positions/#how-positions-work> "Direct link to heading")

When you place multiple orders for the same `instrument_key`, your positions are aggregated based on the total quantity, not by individual orders. This means positions are not identifiable by specific order numbers.

#### What happens when you filter by Tag?[â€‹](<https://upstox.com/developer/api-documentation/exit-all-positions/#what-happens-when-you-filter-by-tag> "Direct link to heading")

When you use the Exit Position API with a `tag` filter, the system identifies orders associated with that tag and calculates the total quantity for each `instrument_key`. It then creates a square-off order for that quantity to exit the position. Note that the square-off is performed based on quantity, not on individual orders.

Let's illustrate how this will work with an example:

  1. **Order 1:** You buy 100 shares of `ABC_CORP` with the tag `Strategy_A`.
  2. **Order 2:** You buy 50 shares of `ABC_CORP` with the tag `Strategy_B`.



Your position for `ABC_CORP` now shows a total of **150 shares**.

Now, you decide to exit positions associated with `Strategy_A`:

  * You call the Exit All API with `tag=Strategy_A`.
  * The system identifies that `Strategy_A` is associated with `ABC_CORP` for **100 shares**.
  * A square-off order is created to sell **100 shares** of `ABC_CORP`.



#### Key Takeaway[â€‹](<https://upstox.com/developer/api-documentation/exit-all-positions/#key-takeaway> "Direct link to heading")

When exiting positions using a tag filter, the system squares off based on total quantities per instrument, not individual orders or tags. Therefore, if you have multiple positions in the same instrument with different tags, exiting positions with a specific tag may impact your overall position in that instrument beyond the intended tag.

  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/exit-all-positions/#sample-code> "Direct link to heading")

### Exit all the open positions[â€‹](<https://upstox.com/developer/api-documentation/exit-all-positions/#exit-all-the-open-positions> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request POST 'https://api.upstox.com/v2/order/positions/exit' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/positions/exit'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {}  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/positions/exit';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {};  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/order/positions/exit";  
            String token = "Bearer {your_access_token}";  
      
            // empty request body  
            String requestBody = "";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/order/positions/exit';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = "{your_access_token}"  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.exit_positions()  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->exit all positions: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    apiInstance.exitPositions(null, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.CancelOrExitMultiOrderResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OrderApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            OrderApi apiInstance = new OrderApi();  
      
            try {  
                CancelOrExitMultiOrderResponse result = apiInstance.exitPositions(null,null);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#exitPositions= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

### Exit all the open positions for a given segment[â€‹](<https://upstox.com/developer/api-documentation/exit-all-positions/#exit-all-the-open-positions-for-a-given-segment> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request POST 'https://api.upstox.com/v2/order/positions/exit?segment=NSE_FO' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/positions/exit?segment=NSE_FO'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {}  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/positions/exit?segment=NSE_FO';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {};  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/order/positions/exit?segment=NSE_FO";  
            String token = "Bearer {your_access_token}";  
      
            // empty request body  
            String requestBody = "";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/order/positions/exit?segment=NSE_FO';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = "{your_access_token}"  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
      
    param = {  
        'segment': "NSE_FO"  
    }  
      
    try:  
        api_response = api_instance.exit_positions(**param)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->exit all position: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    opts = {  
      'segment': 'NSE_FO'  
    }  
    apiInstance.exitPositions(opts, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.CancelOrExitMultiOrderResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OrderApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            OrderApi apiInstance = new OrderApi();  
      
            try {  
                CancelOrExitMultiOrderResponse result = apiInstance.exitPositions(null,"NSE_FO");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#exitPositions= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

### Exit all the open positions for a given tag[â€‹](<https://upstox.com/developer/api-documentation/exit-all-positions/#exit-all-the-open-positions-for-a-given-tag> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request POST 'https://api.upstox.com/v2/order/positions/exit?tag=xyz' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/positions/exit?tag=xyz'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {}  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/positions/exit?tag=xyz';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {};  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/order/positions/exit?tag=xyz";  
            String token = "Bearer {your_access_token}";  
      
            // empty request body  
            String requestBody = "";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/order/positions/exit?tag=xyz';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = "{your_access_token}"  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
      
    param = {  
        'tag': "xyz"  
    }  
      
    try:  
        api_response = api_instance.exit_positions(**param)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->exit all position: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    opts = {  
      'tag': 'xyz'  
    }  
    apiInstance.exitPositions(opts, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.CancelOrExitMultiOrderResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OrderApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            OrderApi apiInstance = new OrderApi();  
      
            try {  
                CancelOrExitMultiOrderResponse result = apiInstance.exitPositions("xyz",null);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#exitPositions= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    POST /order/positions/exit

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

Show optional parameters

`tag` â€” query

`segment` â€” query

Important

  * This API does not support exiting positions for `Delivery` orders in the `EQ` segment.
  * This API will place a opposite leg `MARKET` order for each position.
  * This API will be applicable during the market segment's trading hours.
  * Auto slicing is enabled by default for this API. Click [here](<https://upstox.com/developer/api-documentation/exit-all-positions#auto-slicing>) for more details.



Exit Positions Limits and Rate Limits

  * A maximum of **50 positions** can be exit in a single request. Any request exceeding this limit will be rejected.
  * The Exit Positions API is subject to a different rate limit compared to the standard limits applied across the system. For more information on the rate limits for this API, please check [here](<https://upstox.com/developer/api-documentation/rate-limiting>).




---
# Source: https://upstox.com/developer/api-documentation/get-order-details
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Orders](<https://upstox.com/developer/api-documentation/orders>)
  * Get Order Details



## Get Order Details[â€‹](<https://upstox.com/developer/api-documentation/get-order-details/#get-order-details> "Direct link to heading")

API to retrieve the latest status of a specific order. Orders placed by the user remain available for one trading day and are automatically removed at the end of the trading session.   


### Request[â€‹](<https://upstox.com/developer/api-documentation/get-order-details/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/order/details?order_id=240108010445130' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/get-order-details/#sample-code>) on this page.

  


### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-order-details/#query-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
order_id| false| string| The order reference ID for which the order status is required. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-order-details/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "exchange": "NSE",  
        "product": "D",  
        "price": 571.0,  
        "quantity": 1,  
        "status": "complete",  
        "tag": null,  
        "instrument_token": "NSE_EQ|INE062A01020",  
        "placed_by": "******",  
        "trading_symbol": "SBIN-EQ",  
        "tradingsymbol": "SBIN-EQ",  
        "order_type": "LIMIT",  
        "validity": "DAY",  
        "trigger_price": 0.0,  
        "disclosed_quantity": 0,  
        "transaction_type": "BUY",  
        "average_price": 570.95,  
        "filled_quantity": 1,  
        "pending_quantity": 0,  
        "status_message": null,  
        "status_message_raw": null,  
        "exchange_order_id": "1300000025660919",  
        "parent_order_id": null,  
        "order_id": "231019025562880",  
        "variety": "SIMPLE",  
        "order_timestamp": "2023-10-19 13:25:13",  
        "exchange_timestamp": "2023-10-19 13:25:13",  
        "is_amo": false,  
        "order_request_id": "1",  
        "order_ref_id": "GTT-C23191000044253"  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Response data for order Book  
data.exchange| string| Exchange to which the order is associated. Valid exchanges can be found in the [Exchange Appendix](<https://upstox.com/developer/api-documentation/appendix/exchange>)  
data.product| string| Signifies if the order was either Intraday, Delivery or CO.   
Possible values: `I`, `D`, `CO`, `MTF`.  
data.price| float| Price at which the order was placed  
data.quantity| int32| Quantity with which the order was placed  
data.status| string| Indicates the current status of the order. Valid order statuses can be found in the [Order Status Appendix](<https://upstox.com/developer/api-documentation/appendix/order-status>)  
data.tag| string| Tag to uniquely identify an order  
data.instrument_token| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
data.placed_by| string| Uniquely identifies the user (commonly referred as UCC)  
data.trading_symbol| string| Shows the trading symbol of the instrument  
data.order_type| string| Type of order. It can be one of the following MARKET refers to market order LIMIT refers to Limit Order SL refers to Stop Loss Limit SL-M refers to Stop Loss Market.   
Possible values: `MARKET`, `LIMIT`, `SL`, `SL-M`.  
data.validity| string| It can be one of the following - DAY(default), IOC.   
Possible values: `DAY`, `IOC`.  
data.trigger_price| float| If the order was a stop loss order then the trigger price set is mentioned here  
data.disclosed_quantity| int32| The quantity that should be disclosed in the market depth  
data.transaction_type| string| Indicates whether its a buy or sell order.   
Possible values: `BUY`, `SELL`.  
data.average_price| float| Average price at which the qty got traded  
data.filled_quantity| int32| The total quantity traded from this particular order  
data.pending_quantity| int32| Pending quantity to be filled  
data.status_message| string| Indicates the reason when any order is rejected, not modified or cancelled  
data.status_message_raw| string| Description of the order's status as received from RMS  
data.exchange_order_id| string| Unique order ID assigned by the exchange for the order placed  
data.parent_order_id| string| In case the order is part of the second of a CO, the parent order ID is indicated here  
data.order_id| string| Unique order ID assigned internally for the order placed  
data.variety| string| Order complexity  
data.order_timestamp| string| User readable timestamp at which the order was placed  
data.exchange_timestamp| string| User readable time at which the order was placed or updated  
data.is_amo| boolean| Signifies if the order is an After Market Order  
data.order_request_id| string| Apart from 1st order it shows the count of how many requests were sent  
data.order_ref_id| string| Uniquely identifies an order for internal usage.  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/get-order-details/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1010| **Order id accepts only alphanumeric characters and '-'.** \- The order id you've provided isn't accepted.  
UDAPI100059| **At least one of 'order_id' or 'tag' is required to fetch order details.** \- When attempting to retrieve order details, you must provide either the 'order_id' or the 'tag'. Without at least one of these identifiers, the system cannot locate and present the specific order information you're seeking.  
UDAPI100010| **Order not found** \- The system couldn't locate the order you're referring to.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-order-details/#sample-code> "Direct link to heading")

### Get order details for an order number[â€‹](<https://upstox.com/developer/api-documentation/get-order-details/#get-order-details-for-an-order-number> "Direct link to heading")

  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/details'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    params = {'order_id': '240108010445130'}  
      
    response = requests.get(url, headers=headers, params=params)  
      
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/details';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access}'  
    };  
      
    const params = {  
      order_id: '240108010445130'  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.util.Map;  
      
    public class Main {  
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/order/details";  
            String accept = "application/json";  
            String authorization = "Bearer {your_access_token}";  
            String orderId = "240108010445130";  
      
            try {  
                HttpClient httpClient = HttpClient.newHttpClient();  
      
                // Build the URI with query parameters  
                URI uri = URI.create(url + "?order_id=" + orderId);  
      
                // Build the request  
                HttpRequest request = HttpRequest.newBuilder()  
                        .uri(uri)  
                        .header("Content-Type", "application/json")  
                        .header("Accept", accept)  
                        .header("Authorization", authorization)  
                        .GET()  
                        .build();  
      
                // Send the request and get the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response: " + response.body());  
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/order/details?order_id=240108010445130';  
    $headers = array(  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}'  
    );  
      
    $ch = curl_init();  
      
    curl_setopt($ch, CURLOPT_URL, $url);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Response Code: " . $httpCode . PHP_EOL;  
    echo "Response: " . $response . PHP_EOL;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = "{your_access_token}"  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.get_order_status(order_id="2410170106208487")  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->get order status: %s\n" % e.body)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    let optsOrderStatus = {  
      orderId: "241017010620465"  
    };  
    apiInstance.getOrderStatus(optsOrderStatus,(error,data,response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    })  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetOrderDetailsResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OrderApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            OrderApi apiInstance = new OrderApi();  
      
            try {  
                GetOrderDetailsResponse result = apiInstance.getOrderStatus("241017010620466");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#cancelMultiOrder= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    GET /order/details

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

Show optional parameters

`order_id` â€” query


---
# Source: https://upstox.com/developer/api-documentation/get-order-history
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Orders](<https://upstox.com/developer/api-documentation/orders>)
  * Get Order History



## Get Order History[â€‹](<https://upstox.com/developer/api-documentation/get-order-history/#get-order-history> "Direct link to heading")

API to retrieve the details of a specific order. Orders placed by the user remain available for one trading day and are automatically removed at the end of the trading session. Provides details regarding the progression of an order through its various execution stages. For a comprehensive list of all possible order statuses, please refer to the [appendix on order status](<https://upstox.com/developer/api-documentation/appendix/order-status>).

Order history can be retrieved by utilizing either the order_id or a tag.

  * When both options are provided, the response will include the history of the order that perfectly matches both the order_id and tag.
  * If only the tag is provided, the response will include the history of all associated orders that match the given tag.



### Request[â€‹](<https://upstox.com/developer/api-documentation/get-order-history/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/order/history?order_id=240108010445130' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/get-order-history/#sample-code>) on this page.

### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-order-history/#query-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
order_id| false| string| The order reference ID for which the order history is required. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
tag| false| string| The unique tag of the order for which the order history is being requested  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-order-history/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": [  
        {  
          "exchange": "NSE",  
          "price": 571.35,  
          "product": "D",  
          "quantity": 1,  
          "status": "put order req received",  
          "tag": null,  
          "validity": "DAY",  
          "average_price": 0.0,  
          "disclosed_quantity": 0,  
          "exchange_order_id": null,  
          "exchange_timestamp": null,  
          "instrument_token": "NSE_EQ|INE062A01020",  
          "is_amo": false,  
          "status_message": null,  
          "order_id": "231019025564798",  
          "order_request_id": "1",  
          "order_type": "LIMIT",  
          "parent_order_id": "NA",  
          "trading_symbol": "SBIN",  
          "tradingsymbol": "SBIN",  
          "order_timestamp": "2023-10-19 13:25:56",  
          "filled_quantity": 0,  
          "transaction_type": "SELL",  
          "trigger_price": 0.0,  
          "placed_by": "******",  
          "variety": "SIMPLE"  
        },  
        {  
          "exchange": "NSE",  
          "price": 571.35,  
          "product": "D",  
          "quantity": 1,  
          "status": "validation pending",  
          "tag": null,  
          "validity": "DAY",  
          "average_price": 0.0,  
          "disclosed_quantity": 0,  
          "exchange_order_id": null,  
          "exchange_timestamp": null,  
          "instrument_token": "NSE_EQ|INE062A01020",  
          "is_amo": false,  
          "status_message": null,  
          "order_id": "231019025564798",  
          "order_request_id": "1",  
          "order_type": "LIMIT",  
          "parent_order_id": "NA",  
          "trading_symbol": "SBIN",  
          "tradingsymbol": "SBIN",  
          "order_timestamp": "2023-10-19 13:25:56",  
          "filled_quantity": 0,  
          "transaction_type": "SELL",  
          "trigger_price": 0.0,  
          "placed_by": "******",  
          "variety": "SIMPLE"  
        },  
        {  
          "exchange": "NSE",  
          "price": 571.35,  
          "product": "D",  
          "quantity": 1,  
          "status": "open pending",  
          "tag": null,  
          "validity": "DAY",  
          "average_price": 0.0,  
          "disclosed_quantity": 0,  
          "exchange_order_id": null,  
          "exchange_timestamp": null,  
          "instrument_token": "NSE_EQ|INE062A01020",  
          "is_amo": false,  
          "status_message": null,  
          "order_id": "231019025564798",  
          "order_request_id": "1",  
          "order_type": "LIMIT",  
          "parent_order_id": "NA",  
          "trading_symbol": "SBIN",  
          "tradingsymbol": "SBIN",  
          "order_timestamp": "2023-10-19 13:25:56",  
          "filled_quantity": 0,  
          "transaction_type": "SELL",  
          "trigger_price": 0.0,  
          "placed_by": "******",  
          "variety": "SIMPLE"  
        },  
        {  
          "exchange": "NSE",  
          "price": 571.35,  
          "product": "D",  
          "quantity": 1,  
          "status": "open",  
          "tag": null,  
          "validity": "DAY",  
          "average_price": 0.0,  
          "disclosed_quantity": 0,  
          "exchange_order_id": "1300000025727177",  
          "exchange_timestamp": "2023-10-19 13:25:56",  
          "instrument_token": "NSE_EQ|INE062A01020",  
          "is_amo": false,  
          "status_message": null,  
          "order_id": "231019025564798",  
          "order_request_id": "1",  
          "order_type": "LIMIT",  
          "parent_order_id": "NA",  
          "trading_symbol": "SBIN",  
          "tradingsymbol": "SBIN",  
          "order_timestamp": "2023-10-19 13:25:56",  
          "filled_quantity": 0,  
          "transaction_type": "SELL",  
          "trigger_price": 0.0,  
          "placed_by": "******",  
          "variety": "SIMPLE"  
        },  
        {  
          "exchange": "NSE",  
          "price": 571.35,  
          "product": "D",  
          "quantity": 1,  
          "status": "open",  
          "tag": null,  
          "validity": "DAY",  
          "average_price": 0.0,  
          "disclosed_quantity": 0,  
          "exchange_order_id": "1300000025727177",  
          "exchange_timestamp": "2023-10-19 13:25:56",  
          "instrument_token": "NSE_EQ|INE062A01020",  
          "is_amo": false,  
          "status_message": null,  
          "order_id": "231019025564798",  
          "order_request_id": "1",  
          "order_type": "LIMIT",  
          "parent_order_id": "NA",  
          "trading_symbol": "SBIN",  
          "tradingsymbol": "SBIN",  
          "order_timestamp": "2023-10-19 13:25:56",  
          "filled_quantity": 1,  
          "transaction_type": "SELL",  
          "trigger_price": 0.0,  
          "placed_by": "******",  
          "variety": "SIMPLE"  
        },  
        {  
          "exchange": "NSE",  
          "price": 571.35,  
          "product": "D",  
          "quantity": 1,  
          "status": "complete",  
          "tag": null,  
          "validity": "DAY",  
          "average_price": 571.4,  
          "disclosed_quantity": 0,  
          "exchange_order_id": "1300000025727177",  
          "exchange_timestamp": "2023-10-19 13:25:56",  
          "instrument_token": "NSE_EQ|INE062A01020",  
          "is_amo": false,  
          "status_message": null,  
          "order_id": "231019025564798",  
          "order_request_id": "1",  
          "order_type": "LIMIT",  
          "parent_order_id": "NA",  
          "trading_symbol": "SBIN",  
          "tradingsymbol": "SBIN",  
          "order_timestamp": "2023-10-19 13:25:56",  
          "filled_quantity": 1,  
          "transaction_type": "SELL",  
          "trigger_price": 0.0,  
          "placed_by": "******",  
          "variety": "SIMPLE"  
        }  
      ]  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Response data for order details  
data[].exchange| string| Exchange to which the order is associated. Valid exchanges can be found in the [Exchange Appendix](<https://upstox.com/developer/api-documentation/appendix/exchange>)  
data[].price| float| Price at which the order was placed  
data[].product| string| Signifies if the order was either Intraday, Delivery or CO.   
Possible values: `I`, `D`, `CO`, `MTF`.  
data[].quantity| int32| Quantity with which the order was placed  
data[].status| string| Indicates the current status of the order. Valid order statuses can be found in the [Order Status Appendix](<https://upstox.com/developer/api-documentation/appendix/order-status>)  
data[].tag| string| Tag to uniquely identify an order  
data[].validity| string| It can be one of the following - DAY(default), IOC.   
Possible values: `DAY`, `IOC`.  
data[].average_price| float| Average price at which the qty got traded  
data[].disclosed_quantity| int32| The quantity that should be disclosed in the market depth  
data[].exchange_order_id| string| Unique order ID assigned by the exchange for the order placed  
data[].exchange_timestamp| string| User readable time at which the order was placed or updated  
data[].instrument_token| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
data[].is_amo| boolean| Signifies if the order is an After Market Order  
data[].status_message| string| Indicates the reason when any order is rejected, not modified or cancelled  
data[].order_id| string| Unique order ID assigned internally for the order placed  
data[].order_request_id| string| Apart from 1st order it shows the count of how many requests were sent  
data[].order_type| string| Type of order. It can be one of the following MARKET refers to market order LIMIT refers to Limit Order SL refers to Stop Loss Limit SL-M refers to Stop Loss Market.   
Possible values: `MARKET`, `LIMIT`, `SL`, `SL-M`.  
data[].parent_order_id| string| In case the order is part of the second of a CO, the parent order ID is indicated here  
data[].trading_symbol| string| Shows the trading symbol of the instrument  
data[].order_timestamp| string| User readable timestamp at which the order was placed  
data[].filled_quantity| int32| The total quantity traded from this particular order  
data[].transaction_type| string| Indicates whether its a buy or sell order.   
Possible values: `BUY`, `SELL`.  
data[].trigger_price| float| If the order was a stop loss order then the trigger price set is mentioned here  
data[].placed_by| string| Uniquely identifies the user (commonly referred as UCC)  
data[].variety| string| Order complexity  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/get-order-history/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1010| **Order id accepts only alphanumeric characters and '-'.** \- The order id you've provided isn't accepted.  
UDAPI100059| **At least one of 'order_id' or 'tag' is required to fetch order details.** \- When attempting to retrieve order details, you must provide either the 'order_id' or the 'tag'. Without at least one of these identifiers, the system cannot locate and present the specific order information you're seeking.  
UDAPI100010| **Order not found** \- The system couldn't locate the order you're referring to.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-order-history/#sample-code> "Direct link to heading")

### Get order history for an order number[â€‹](<https://upstox.com/developer/api-documentation/get-order-history/#get-order-history-for-an-order-number> "Direct link to heading")

  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/history'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    params = {'order_id': '240108010445130'}  
      
    response = requests.get(url, headers=headers, params=params)  
      
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/history';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access}'  
    };  
      
    const params = {  
      order_id: '240108010445130'  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.util.Map;  
      
    public class Main {  
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/order/history";  
            String accept = "application/json";  
            String authorization = "Bearer {your_access_token}";  
            String orderId = "240108010445130";  
      
            try {  
                HttpClient httpClient = HttpClient.newHttpClient();  
      
                // Build the URI with query parameters  
                URI uri = URI.create(url + "?order_id=" + orderId);  
      
                // Build the request  
                HttpRequest request = HttpRequest.newBuilder()  
                        .uri(uri)  
                        .header("Content-Type", "application/json")  
                        .header("Accept", accept)  
                        .header("Authorization", authorization)  
                        .GET()  
                        .build();  
      
                // Send the request and get the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response: " + response.body());  
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/order/history?order_id=240108010445130';  
    $headers = array(  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}'  
    );  
      
    $ch = curl_init();  
      
    curl_setopt($ch, CURLOPT_URL, $url);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Response Code: " . $httpCode . PHP_EOL;  
    echo "Response: " . $response . PHP_EOL;  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    api_version = '2.0'  
    order_id = '240112010371054'  
      
    try:  
        api_response = api_instance.get_order_details(api_version, order_id=order_id)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->get_order_details: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    let apiVersion = "2.0";  
    let opts = {  
      'orderId': "240112010371054"  
    };  
    apiInstance.getOrderDetails(apiVersion, opts, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetOrderResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OrderApi apiInstance = new OrderApi();  
            String apiVersion = "2.0";  
            String orderId = "240125010587640";  
            String tag = "string";  
            try {  
                GetOrderResponse result = apiInstance.getOrderDetails(apiVersion, orderId, tag);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#getOrderDetails");  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    GET /order/history

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

Show optional parameters

`order_id` â€” query

`tag` â€” query


---
# Source: https://upstox.com/developer/api-documentation/get-order-book
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Orders](<https://upstox.com/developer/api-documentation/orders>)
  * Get Order Book



## Get Order Book[â€‹](<https://upstox.com/developer/api-documentation/get-order-book/#get-order-book> "Direct link to heading")

API to retrieve the list of a orders placed for the current day. Orders initiated by the user remain active for a single day and are automatically cleared at the conclusion of the trading session. The reply indicates the most current status of the order. For a comprehensive list of all possible order statuses, please refer to the [appendix on order status](<https://upstox.com/developer/api-documentation/appendix/order-status>).

### Request[â€‹](<https://upstox.com/developer/api-documentation/get-order-book/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/order/retrieve-all' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/get-order-book/#sample-code>) on this page.

**Responses**

  * 200



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-order-book/#response-body> "Direct link to heading")
    
    
    [  
      {  
        "exchange": "BSE",  
        "product": "D",  
        "price": 0.8,  
        "quantity": 1,  
        "status": "complete",  
        "guid": null,  
        "tag": null,  
        "instrument_token": "BSE_EQ|INE220J01025",  
        "placed_by": "*****",  
        "trading_symbol": "FCONSUMER",  
        "tradingsymbol": "FCONSUMER",  
        "order_type": "LIMIT",  
        "validity": "DAY",  
        "trigger_price": 0,  
        "disclosed_quantity": 0,  
        "transaction_type": "BUY",  
        "average_price": 0.8,  
        "filled_quantity": 1,  
        "pending_quantity": 0,  
        "status_message": null,  
        "status_message_raw": null,  
        "exchange_order_id": "1697686200000169148",  
        "parent_order_id": null,  
        "order_id": "231019025057849",  
        "variety": "SIMPLE",  
        "order_timestamp": "2023-10-19 09:23:23",  
        "exchange_timestamp": "2023-10-19 09:23:23",  
        "is_amo": false,  
        "order_request_id": "2",  
        "order_ref_id": "57744821658411"  
      },  
      {  
        "exchange": "NFO",  
        "product": "I",  
        "price": 0,  
        "quantity": 1500,  
        "status": "rejected",  
        "guid": null,  
        "tag": null,  
        "instrument_token": "NSE_FO|52567",  
        "placed_by": "******",  
        "trading_symbol": "SBIN23OCTFUT",  
        "tradingsymbol": "SBIN23OCTFUT",  
        "order_type": "SL-M",  
        "validity": "DAY",  
        "trigger_price": 570,  
        "disclosed_quantity": 0,  
        "transaction_type": "SELL",  
        "average_price": 0,  
        "filled_quantity": 0,  
        "pending_quantity": 0,  
        "status_message": "You need to add Rs. 138385.27 in your account to place this trade.",  
        "status_message_raw": "RMS:Margin Exceeds,Required:153892.45, Available:15507.18 for entity account-****** across exchange across segment across product ",  
        "exchange_order_id": "",  
        "parent_order_id": null,  
        "order_id": "231019025000398",  
        "variety": "SIMPLE",  
        "order_timestamp": "2023-10-19 09:15:00",  
        "exchange_timestamp": null,  
        "is_amo": false,  
        "order_request_id": "1",  
        "order_ref_id": "33832759664502"  
      },  
      {  
        "exchange": "BFO",  
        "product": "D",  
        "price": 0.05,  
        "quantity": 10,  
        "status": "cancelled",  
        "guid": null,  
        "tag": null,  
        "instrument_token": "BSE_FO|822663",  
        "placed_by": "******",  
        "trading_symbol": "SENSEX23O2066000PE",  
        "tradingsymbol": "SENSEX23O2066000PE",  
        "order_type": "LIMIT",  
        "validity": "DAY",  
        "trigger_price": 0,  
        "disclosed_quantity": 0,  
        "transaction_type": "BUY",  
        "average_price": 0,  
        "filled_quantity": 0,  
        "pending_quantity": 10,  
        "status_message": null,  
        "status_message_raw": null,  
        "exchange_order_id": "1697687100012002451",  
        "parent_order_id": null,  
        "order_id": "231019025000428",  
        "variety": "SIMPLE",  
        "order_timestamp": "2023-10-19 09:30:53",  
        "exchange_timestamp": "2023-10-19 09:30:53",  
        "is_amo": false,  
        "order_request_id": "1",  
        "order_ref_id": "1168356875930923"  
      }  
    ]  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Response data for order Book  
data[].exchange| string| Exchange to which the order is associated. Valid exchanges can be found in the [Exchange Appendix](<https://upstox.com/developer/api-documentation/appendix/exchange>)  
data[].product| string| Signifies if the order was either Intraday, Delivery or CO.   
Possible values: `I`, `D`, `CO`, `MTF`.  
data[].price| float| Price at which the order was placed  
data[].quantity| int32| Quantity with which the order was placed  
data[].status| string| Indicates the current status of the order. Valid order statuses can be found in the [Order Status Appendix](<https://upstox.com/developer/api-documentation/appendix/order-status>)  
data[].tag| string| Tag to uniquely identify an order  
data[].instrument_token| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
data[].placed_by| string| Uniquely identifies the user (commonly referred as UCC)  
data[].trading_symbol| string| Shows the trading symbol of the instrument  
data[].order_type| string| Type of order. It can be one of the following MARKET refers to market order LIMIT refers to Limit Order SL refers to Stop Loss Limit SL-M refers to Stop Loss Market.   
Possible values: `MARKET`, `LIMIT`, `SL`, `SL-M`.  
data[].validity| string| It can be one of the following - DAY(default), IOC.   
Possible values: `DAY`, `IOC`.  
data[].trigger_price| float| If the order was a stop loss order then the trigger price set is mentioned here  
data[].disclosed_quantity| int32| The quantity that should be disclosed in the market depth  
data[].transaction_type| string| Indicates whether its a buy or sell order.   
Possible values: `BUY`, `SELL`.  
data[].average_price| float| Average price at which the qty got traded  
data[].filled_quantity| int32| The total quantity traded from this particular order  
data[].pending_quantity| int32| Pending quantity to be filled  
data[].status_message| string| Indicates the reason when any order is rejected, not modified or cancelled  
data[].status_message_raw| string| Description of the order's status as received from RMS  
data[].exchange_order_id| string| Unique order ID assigned by the exchange for the order placed  
data[].parent_order_id| string| In case the order is part of the second of a CO, the parent order ID is indicated here  
data[].order_id| string| Unique order ID assigned internally for the order placed  
data[].variety| string| Order complexity  
data[].order_timestamp| string| User readable timestamp at which the order was placed  
data[].exchange_timestamp| string| User readable time at which the order was placed or updated  
data[].is_amo| boolean| Signifies if the order is an After Market Order  
data[].order_request_id| string| Apart from 1st order it shows the count of how many requests were sent  
data[].order_ref_id| string| Uniquely identifies an order for internal usage.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-order-book/#sample-code> "Direct link to heading")

### Get all orders for the day[â€‹](<https://upstox.com/developer/api-documentation/get-order-book/#get-all-orders-for-the-day> "Direct link to heading")

  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/retrieve-all'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/retrieve-all';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    axios.get(url, { headers })  
      .then(response => console.log(response.data))  
      .catch(error => console.error(error.response.data));  
    
    
    
    import java.net.HttpURLConnection;  
    import java.net.URL;  
    import java.io.BufferedReader;  
    import java.io.InputStreamReader;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/order/retrieve-all";  
            URL obj = new URL(url);  
            HttpURLConnection con = (HttpURLConnection) obj.openConnection();  
      
            // Set request headers  
            con.setRequestMethod("GET");  
            con.setRequestProperty("Content-Type", "application/json");  
            con.setRequestProperty("Accept", "application/json");  
            con.setRequestProperty("Authorization", "Bearer {your_access_token}");  
      
            int responseCode = con.getResponseCode();  
            BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));  
            String inputLine;  
            StringBuilder response = new StringBuilder();  
      
            while ((inputLine = in.readLine()) != null) {  
                response.append(inputLine);  
            }  
            in.close();  
      
            System.out.println(response.toString());  
        }  
    }  
    
    
    
    <?php  
    $url = 'https://api.upstox.com/v2/order/retrieve-all';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
    curl_close($ch);  
      
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    api_version = '2.0'  
    try:  
        # Get order book  
        api_response = api_instance.get_order_book(api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->get_order_book: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.OrderApi();  
      
    let apiVersion = "2.0";  
      
    apiInstance.getOrderBook(apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetOrderBookResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            OrderApi apiInstance = new OrderApi();  
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                GetOrderBookResponse result = apiInstance.getOrderBook(apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#placeOrder ");  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    GET /order/retrieve-all

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer


---
# Source: https://upstox.com/developer/api-documentation/get-trade-history
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Orders](<https://upstox.com/developer/api-documentation/orders>)
  * Get Trades



## Get Trades[â€‹](<https://upstox.com/developer/api-documentation/get-trade-history/#get-trades> "Direct link to heading")

API to retrieve the list of all trades executed for the day. An order, initially submitted as one entity, can be executed in smaller segments based on market situation. Each of these partial executions constitutes a trade, and a single order may consist of several such trades.

### Request[â€‹](<https://upstox.com/developer/api-documentation/get-trade-history/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/order/trades/get-trades-for-day' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/get-trade-history/#sample-code>) on this page.

**Responses**

  * 200



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-trade-history/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": [  
        {  
          "exchange": "NSE",  
          "product": "D",  
          "trading_symbol": "GMRINFRA-EQ",  
          "tradingsymbol": "GMRINFRA-EQ",  
          "instrument_token": "151064324",  
          "order_type": "MARKET",  
          "transaction_type": "BUY",  
          "quantity": 1,  
          "exchange_order_id": "221013001021540",  
          "order_id": "221013001021539",  
          "exchange_timestamp": "03-Aug-2017 15:03:42",  
          "average_price": 299.4,  
          "trade_id": "50091502",  
          "order_ref_id": "udapi-aqwsed14356",  
          "order_timestamp": "23-Apr-2021 14:22:06"  
        }  
      ]  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object[]| Response data for trades  
data[].exchange| string| Exchange to which the order is associated. Valid exchanges can be found in the [Exchange Appendix](<https://upstox.com/developer/api-documentation/appendix/exchange>)  
data[].product| string| Signifies if the order was either Intraday, Delivery or CO.   
Possible values: `I`, `D`, `CO`, `MTF`.  
data[].trading_symbol| string| Shows the trading symbol which could be a combination of symbol name, instrument, expiry date etc  
data[].instrument_token| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
data[].order_type| string| Type of order. It can be one of the following MARKET refers to market order LIMIT refers to Limit Order SL refers to Stop Loss Limit SL-M refers to Stop Loss Market.   
Possible values: `MARKET`, `LIMIT`, `SL`, `SL-M`.  
data[].transaction_type| string| Indicates whether its a buy or sell order.   
Possible values: `BUY`, `SELL`.  
data[].quantity| int32| The total quantity traded from this particular order  
data[].exchange_order_id| string| Unique order ID assigned by the exchange for the order placed  
data[].order_id| string| Unique order ID assigned internally for the order placed  
data[].exchange_timestamp| string| User readable time at when the trade occurred  
data[].average_price| float| Price at which the traded quantity is traded  
data[].trade_id| string| Trade ID generated from exchange towards traded transaction  
data[].order_ref_id| string| Uniquely identifies an order for internal usage.  
data[].order_timestamp| string| User readable timestamp at which the order was placed  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-trade-history/#sample-code> "Direct link to heading")

### Get all trades for the day[â€‹](<https://upstox.com/developer/api-documentation/get-trade-history/#get-all-trades-for-the-day> "Direct link to heading")

  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/trades/get-trades-for-day'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/trades/get-trades-for-day';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    axios.get(url, { headers })  
      .then(response => console.log(response.data))  
      .catch(error => console.error(error.response.data));  
    
    
    
    import java.net.HttpURLConnection;  
    import java.net.URL;  
    import java.io.BufferedReader;  
    import java.io.InputStreamReader;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/order/trades/get-trades-for-day";  
            URL obj = new URL(url);  
            HttpURLConnection con = (HttpURLConnection) obj.openConnection();  
      
            // Set request headers  
            con.setRequestMethod("GET");  
            con.setRequestProperty("Content-Type", "application/json");  
            con.setRequestProperty("Accept", "application/json");  
            con.setRequestProperty("Authorization", "Bearer {your_access_token}");  
      
            int responseCode = con.getResponseCode();  
            BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));  
            String inputLine;  
            StringBuilder response = new StringBuilder();  
      
            while ((inputLine = in.readLine()) != null) {  
                response.append(inputLine);  
            }  
            in.close();  
      
            System.out.println(response.toString());  
        }  
    }  
    
    
    
    <?php  
    $url = 'https://api.upstox.com/v2/order/trades/get-trades-for-day';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
    curl_close($ch);  
      
    echo $response;  
    ?>  
      
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    api_version = '2.0'  
      
    try:  
        # Get trades  
        api_response = api_instance.get_trade_history(api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->get_trade_history: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.OrderApi();  
      
    let apiVersion = "2.0";  
      
    apiInstance.getTradeHistory(apiVersion, (error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
      });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetTradeResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            OrderApi apiInstance = new OrderApi();  
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                GetTradeResponse result = apiInstance.getTradeHistory(apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#getTradeHistory");  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    GET /order/trades/get-trades-for-day

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer


---
# Source: https://upstox.com/developer/api-documentation/get-trades-by-order
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Orders](<https://upstox.com/developer/api-documentation/orders>)
  * Get Order Trades



## Get Order Trades[â€‹](<https://upstox.com/developer/api-documentation/get-trades-by-order/#get-order-trades> "Direct link to heading")

API to retrieve the list of all trades executed for a specific order.To access the trade information, you need to pass order_id.

### Request[â€‹](<https://upstox.com/developer/api-documentation/get-trades-by-order/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/order/trades?order_id=240108010445100' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/get-trades-by-order/#sample-code>) on this page.

  


### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-trades-by-order/#query-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
order_id| true| string| The order ID for which the order to get order trades. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-trades-by-order/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": [  
        {  
          "exchange": "NSE",  
          "product": "D",  
          "trading_symbol": "GMRINFRA-EQ",  
          "tradingsymbol": "GMRINFRA-EQ",  
          "instrument_token": "151064324",  
          "order_type": "MARKET",  
          "transaction_type": "BUY",  
          "quantity": 1,  
          "exchange_order_id": "221013001021540",  
          "order_id": "221013001021539",  
          "exchange_timestamp": "03-Aug-2017 15:03:42",  
          "average_price": 299.4,  
          "trade_id": "50091502",  
          "order_ref_id": "udapi-aqwsed14356",  
          "order_timestamp": "23-Apr-2021 14:22:06"  
        }  
      ]  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object[]| Response data for trades  
data[].exchange| string| Exchange to which the order is associated. Valid exchanges can be found in the [Exchange Appendix](<https://upstox.com/developer/api-documentation/appendix/exchange>)  
data[].product| string| Signifies if the order was either Intraday, Delivery or CO.   
Possible values: `I`, `D`, `CO`, `MTF`.  
data[].trading_symbol| string| Shows the trading symbol which could be a combination of symbol name, instrument, expiry date etc  
data[].instrument_token| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
data[].order_type| string| Type of order. It can be one of the following MARKET refers to market order LIMIT refers to Limit Order SL refers to Stop Loss Limit SL-M refers to Stop Loss Market.   
Possible values: `MARKET`, `LIMIT`, `SL`, `SL-M`.  
data[].transaction_type| string| Indicates whether its a buy or sell order.   
Possible values: `BUY`, `SELL`.  
data[].quantity| int32| The total quantity traded from this particular order  
data[].exchange_order_id| string| Unique order ID assigned by the exchange for the order placed  
data[].order_id| string| Unique order ID assigned internally for the order placed  
data[].exchange_timestamp| string| User readable time at when the trade occurred  
data[].average_price| float| Price at which the traded quantity is traded  
data[].trade_id| string| Trade ID generated from exchange towards traded transaction  
data[].order_ref_id| string| Uniquely identifies an order for internal usage.  
data[].order_timestamp| string| User readable timestamp at which the order was placed  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/get-trades-by-order/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1023| **Order id is required** \- Please ensure you provide an order id.  
UDAPI1010| **Order id accepts only alphanumeric characters and '-'.** \- The order id you've provided isn't accepted.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-trades-by-order/#sample-code> "Direct link to heading")

A comprehensive set of examples is provided to illustrate various use cases and implementation scenarios for this API.

### Code Examples[â€‹](<https://upstox.com/developer/api-documentation/get-trades-by-order/#code-examples> "Direct link to heading")

  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/trades?order_id=240108010445100'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/trades?order_id=240108010445100';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    axios.get(url, { headers })  
      .then(response => console.log(response.data))  
      .catch(error => console.error(error.response.data));  
    
    
    
    import java.net.HttpURLConnection;  
    import java.net.URL;  
    import java.io.BufferedReader;  
    import java.io.InputStreamReader;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/order/trades?order_id=240108010445100";  
            URL obj = new URL(url);  
            HttpURLConnection con = (HttpURLConnection) obj.openConnection();  
      
            // Set request headers  
            con.setRequestMethod("GET");  
            con.setRequestProperty("Content-Type", "application/json");  
            con.setRequestProperty("Accept", "application/json");  
            con.setRequestProperty("Authorization", "Bearer {your_access_token}");  
      
            int responseCode = con.getResponseCode();  
            BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));  
            String inputLine;  
            StringBuilder response = new StringBuilder();  
      
            while ((inputLine = in.readLine()) != null) {  
                response.append(inputLine);  
            }  
            in.close();  
      
            System.out.println(response.toString());  
        }  
    }  
    
    
    
    <?php  
    $url = 'https://api.upstox.com/v2/order/trades?order_id=240108010445100';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
    curl_close($ch);  
      
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    order_id = '{your_order_id}'  
    api_version = '2.0'  
      
    try:  
        # Get trades for order  
        api_response = api_instance.get_trades_by_order(order_id, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->get_trades_by_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
      
    let orderId = "240111010861817";  
    let apiVersion = "2.0";  
      
    apiInstance.getTradesByOrder(orderId, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetTradeResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OrderApi apiInstance = new OrderApi();  
            String apiVersion = "2.0";  
            String orderId = "240125010587640";  
            try {  
                GetTradeResponse result = apiInstance.getTradesByOrder(orderId, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#getTradesByOrder");  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    GET /order/trades

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

`order_id` â€” query **required**


---
# Source: https://upstox.com/developer/api-documentation/get-historical-trades
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [ Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Orders](<https://upstox.com/developer/api-documentation/orders>)
  * Get Trade History



## Get Trade History[â€‹](<https://upstox.com/developer/api-documentation/get-historical-trades/#get-trade-history> "Direct link to heading")

The Trade History API provides users with access to their historical trade and transaction data, allowing them to retrieve details of orders executed through Upstox platform. This API enables various use cases, including reviewing past month's trade activity, maintaining records for compliance or analysis, and other potential use case. Currently this API will give you data only for last 3 financial years.

### Request[â€‹](<https://upstox.com/developer/api-documentation/get-historical-trades/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/charges/historical-trades?segment=EQ&start_date=2022-04-01&end_date=2023-03-31&page_number=1&page_size=100' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/get-historical-trades/#sample-code>) on this page.

### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-historical-trades/#query-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
segment| false| string| Segment for which data is requested can be from the following options, If not provide, will consider all the segment.   
EQ - Equity   
FO - Futures and Options   
COM - Commodity   
CD - Currency Derivatives   
MF - Mutual funds  
start_date| true| string| Date from which data needs to be fetched. it should be within the last 3 financial years. Date format: `YYYY-mm-dd`.  
end_date| true| string| Date till data needs to be fetched. it should be within the last 3 financial years. Date format: `YYYY-mm-dd`.  
page_number| true| integer| Page number, the pages are starting from 1.  
page_size| true| integer| Page size for pagination.  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-historical-trades/#response-body> "Direct link to heading")

  * EQ
  * FO
  * COM
  * CD
  * MF


    
    
    {  
      "status": "success",  
      "data": [  
        {  
          "exchange": "NSE",  
          "segment": "EQ",  
          "option_type": "",  
          "quantity": 1,  
          "amount": 2252.35,  
          "trade_id": "75217259",  
          "trade_date": "2023-03-28",  
          "transaction_type": "BUY",  
          "scrip_name": "RELIANCE",  
          "strike_price": "0.0",  
          "expiry": "",  
          "price": 2252.35,  
          "isin": "INE002A01018",  
          "symbol": "RELIANCE",  
          "instrument_token": "NSE_EQ|INE002A01018"  
        }  
      ],  
      "errors": null,  
      "meta_data": {  
        "page": {  
            "page_number": 1,  
            "page_size": 15,  
            "total_records": 15,  
            "total_pages": 1  
        }  
      }  
    }  
    
    
    
    {  
      "status": "success",  
      "data": [  
        {  
          "exchange": "NFO",  
          "segment": "FO",  
          "option_type": "CE",  
          "quantity": 25,  
          "amount": 15237.5,  
          "trade_id": "430927903",  
          "trade_date": "2023-03-31",  
          "transaction_type": "SELL",  
          "scrip_name": "BANKNIFTY",  
          "strike_price": "40000.0",  
          "expiry": "2023-04-06",  
          "price": 609.5,  
          "isin": "",  
          "symbol": "BANKNIFTY",  
          "instrument_token": ""  
        }  
      ],  
      "errors": null,  
      "meta_data": {  
        "page": {  
            "page_number": 1,  
            "page_size": 15,  
            "total_records": 15,  
            "total_pages": 1  
        }  
      }  
    }  
    
    
    
    {  
      "status": "success",  
      "data": [  
        {  
          "exchange": "MCX",  
          "segment": "COM",  
          "option_type": "",  
          "quantity": 2,  
          "amount": 721000,  
          "trade_id": "110116226",  
          "trade_date": "2023-03-31",  
          "transaction_type": "BUY",  
          "scrip_name": "SILVERM",  
          "strike_price": "0.0",  
          "expiry": "2023-04-28",  
          "price": 72100,  
          "isin": "",  
          "symbol": "",  
          "instrument_token": ""  
        }  
      ],  
      "errors": null,  
      "meta_data": {  
        "page": {  
          "page_number": 1,  
          "page_size": 15,  
          "total_records": 15,  
          "total_pages": 1  
        }  
      }  
    }  
    
    
    
    {  
      "status": "success",  
      "data": [  
        {  
          "exchange": "CDS",  
          "segment": "CD",  
          "option_type": "CE",  
          "quantity": 1,  
          "amount": 385,  
          "trade_id": "420354",  
          "trade_date": "2023-03-27",  
          "transaction_type": "SELL",  
          "scrip_name": "USDINR",  
          "strike_price": "82.0",  
          "expiry": "2023-03-28",  
          "price": 0.385,  
          "isin": "",  
          "symbol": "",  
          "instrument_token": ""  
        }  
      ],  
      "errors": null,  
      "meta_data": {  
        "page": {  
            "page_number": 1,  
            "page_size": 15,  
            "total_records": 15,  
            "total_pages": 1  
        }  
      }  
    }  
    
    
    
    {  
      "status": "success",  
      "data": [  
        {  
          "exchange": "BMF",  
          "segment": "MF",  
          "option_type": "",  
          "quantity": 13,  
          "amount": 999.9852,  
          "trade_id": "",  
          "trade_date": "2023-02-09",  
          "transaction_type": "BUY",  
          "scrip_name": "AXIS SMALL CAP FUND - DIRECT P",  
          "strike_price": "0.0",  
          "expiry": "",  
          "price": 71.9,  
          "isin": "INF846K01K35",  
          "symbol": "",  
          "instrument_token": "BMF_MF|INF846K01K35"  
        }  
      ],  
      "errors": null,  
      "meta_data": {  
        "page": {  
            "page_number": 1,  
            "page_size": 15,  
            "total_records": 15,  
            "total_pages": 1  
        }  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object[]| Response data for historical trade reports  
data[].exchange| string| Exchange to which the order is associated. Valid exchanges can be found in the [Exchange Appendix](<https://upstox.com/developer/api-documentation/appendix/exchange>)  
data[].segment| string| Segment to which the order is associated.   
Possible values: `EQ`, `FO`, `CD`, `COM`, `MF`.  
data[].option_type| string| Option type of the option contracts. Possible values: `CE`, `PE`.   
**Option type is available only in case of FO and CD segment.**  
data[].quantity| integer| Quantity with which the order was placed.  
data[].amount| float| Total amount at which order is bought/sold.  
data[].trade_id| string| Trade ID generated from exchange towards traded transaction  
data[].trade_date| string| The date on which the order was bought/sold  
data[].transaction_type| string| Indicates whether its a buy or sell order.   
Possible values: `BUY`, `SELL`.  
data[].scrip_name| string| Name of the scrip traded  
data[].strike_price| float| The strike price for the option.  
data[].expiry| string| Expiry date (for derivatives). Data format is `YYYY-mm-dd`.  
data[].price| float| Price at which the traded quantity is traded.  
data[].isin| string| This represents the standard ISIN for stocks listed on multiple exchanges.   
**ISIN is available in case of EQ and MF segment.**  
data[].symbol| string| Shows the trading symbol of the instrument.   
**Symbol is available in case of EQ and FO segment.**  
data[].instrument_token| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).   
**Instrument token is available in case of EQ and MF segment.**  
metadata| object| Meta data for historical trade data  
metadata.page| object| Meta data for page.  
metadata.page.page_number| integer| Page number for pagination  
metadata.page.page_size| integer| Page size  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/get-historical-trades/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1066| **The segment is invalid** \- The provided segment value isn't recognized or accepted.  
UDAPI1091| **The page_number is required** \- You need to specify the page number for the data you're trying to retrieve.  
UDAPI1092| **The page_size is required** \- The page size, indicating the number of results per page, must be provided.  
UDAPI1093| **The start_date and end_date exceed the financial year limit.** \- Ensure your date ranges lies within the last 3 financial years.  
UDAPI1094| **end_date must be greater than or equal to start_date and Date should be in valid format:`yyyy-MM-dd`** \- Ensure your date ranges and formats are correct.  
UDAPI1120| **The page_size should be greater than or equal to 1:** page_size must be at least 1  
UDAPI1121| **The page_size should be less than or equal to 5000:** page_size must be no more than 5000  
UDAPI1122| **The page_number should be greater than or equal to 1:** page_number must be at least 1  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-historical-trades/#sample-code> "Direct link to heading")

### Get trade history for equity segment[â€‹](<https://upstox.com/developer/api-documentation/get-historical-trades/#get-trade-history-for-equity-segment> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/charges/historical-trades?segment=EQ&start_date=2022-04-01&end_date=2023-03-31&page_number=1&page_size=100' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/charges/historical-trades'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
    params = {  
        'segment': 'EQ',  
        'start_date': '2022-04-01',  
        'end_date': '2023-03-31',  
        'page_number': '1',  
        'page_size': '100'  
    }  
      
    response = requests.get(url, headers=headers, params=params)  
      
    if response.status_code == 200:  
        data = response.json()  
        print(data)  
    else:  
        print(f"Error: {response.status_code} - {response.text}")  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/charges/historical-trades';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
    const params = {  
      'segment': 'EQ',  
      'start_date': '2022-04-01',  
      'end_date': '2023-03-31',  
      'page_number': '1',  
      'page_size': '100'  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log(response.data); // or do something with the data  
      })  
      .catch(error => {  
        console.error('Error:', error.response.data);  
      });  
      
    
    
    
    import java.io.BufferedReader;  
    import java.io.IOException;  
    import java.io.InputStreamReader;  
    import java.net.HttpURLConnection;  
    import java.net.URI;  
    import java.net.URL;  
    import java.util.stream.Collectors;  
      
    public class Main {  
        public static void main(String[] args) throws IOException {  
            String baseUrl = "https://api.upstox.com/v2/charges/historical-trades";  
            String accessToken = "{your_access_token}";  
            String segment = "EQ";  
            String startDate = "2022-04-01";  
            String endDate = "2023-03-31";  
            int pageNumber = 1;  
            int pageSize = 100;  
      
            URI uri = URI.create(String.format("%s?segment=%s&start_date=%s&end_date=%s&page_number=%d&page_size=%d",  
                    baseUrl, segment, startDate, endDate, pageNumber, pageSize));  
            URL url = uri.toURL();  
      
            HttpURLConnection connection = (HttpURLConnection) url.openConnection();  
            connection.setRequestMethod("GET");  
            connection.setRequestProperty("Content-Type", "application/json");  
            connection.setRequestProperty("Accept", "application/json");  
            connection.setRequestProperty("Authorization", "Bearer " + accessToken);  
      
            int responseCode = connection.getResponseCode();  
            if (responseCode == HttpURLConnection.HTTP_OK) {  
                BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));  
                String responseBody = reader.lines().collect(Collectors.joining(System.lineSeparator()));  
                System.out.println(responseBody);  
                reader.close();  
            } else {  
                System.out.println("Error: " + responseCode + " - " + connection.getResponseMessage());  
            }  
      
            connection.disconnect();  
        }  
    }  
      
    
    
    
    <?php  
      
    $curl = curl_init();  
      
    curl_setopt_array($curl, [  
      CURLOPT_URL => 'https://api.upstox.com/v2/charges/historical-trades?segment=EQ&start_date=2022-04-01&end_date=2023-03-31&page_number=1&page_size=100',  
      CURLOPT_RETURNTRANSFER => true,  
      CURLOPT_FOLLOWLOCATION => true,  
      CURLOPT_HTTPHEADER => [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}'  
      ],  
    ]);  
      
    $response = curl_exec($curl);  
      
    if ($response === false) {  
      echo 'Error: ' . curl_error($curl);  
    } else {  
      echo $response;  
    }  
      
    curl_close($curl);  
      
    ?>  
      
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = "{your_access_token}"  
    api_instance = upstox_client.PostTradeApi(upstox_client.ApiClient(configuration))  
      
    param = {  
        'segment': "EQ"  
    }  
      
    try:  
        api_response = api_instance.get_trades_by_date_range("2023-04-01", "2025-03-31",1,1000,**param)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->get trades_by_date_range: %s\n" % e.body)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    apiInstance = new UpstoxClient.PostTradeApi();  
    opts = {  
        segment: "EQ"  
    }  
    apiInstance.getTradesByDateRange("2023-04-01","2024-08-30",1,1000,opts,(error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.TradeHistoryResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.PostTradeApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            PostTradeApi apiInstance = new PostTradeApi();  
      
            try {  
                TradeHistoryResponse result = apiInstance.getTradesByDateRange("2023-04-01","2025-08-01",1,1000,"EQ");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#getTradesByDateRange= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

### Get trade history for futures and options segment[â€‹](<https://upstox.com/developer/api-documentation/get-historical-trades/#get-trade-history-for-futures-and-options-segment> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/charges/historical-trades?segment=FO&start_date=2022-04-01&end_date=2023-03-31&page_number=1&page_size=100' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/charges/historical-trades'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
    params = {  
        'segment': 'FO',  
        'start_date': '2022-04-01',  
        'end_date': '2023-03-31',  
        'page_number': '1',  
        'page_size': '100'  
    }  
      
    response = requests.get(url, headers=headers, params=params)  
      
    if response.status_code == 200:  
        data = response.json()  
        print(data)  
    else:  
        print(f"Error: {response.status_code} - {response.text}")  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/charges/historical-trades';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
    const params = {  
      'segment': 'FO',  
      'start_date': '2022-04-01',  
      'end_date': '2023-03-31',  
      'page_number': '1',  
      'page_size': '100'  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log(response.data); // or do something with the data  
      })  
      .catch(error => {  
        console.error('Error:', error.response.data);  
      });  
      
    
    
    
    import java.io.BufferedReader;  
    import java.io.IOException;  
    import java.io.InputStreamReader;  
    import java.net.HttpURLConnection;  
    import java.net.URI;  
    import java.net.URL;  
    import java.util.stream.Collectors;  
      
    public class Main {  
        public static void main(String[] args) throws IOException {  
            String baseUrl = "https://api.upstox.com/v2/charges/historical-trades";  
            String accessToken = "{your_access_token}";  
            String segment = "FO";  
            String startDate = "2022-04-01";  
            String endDate = "2023-03-31";  
            int pageNumber = 1;  
            int pageSize = 100;  
      
            URI uri = URI.create(String.format("%s?segment=%s&start_date=%s&end_date=%s&page_number=%d&page_size=%d",  
                    baseUrl, segment, startDate, endDate, pageNumber, pageSize));  
            URL url = uri.toURL();  
      
            HttpURLConnection connection = (HttpURLConnection) url.openConnection();  
            connection.setRequestMethod("GET");  
            connection.setRequestProperty("Content-Type", "application/json");  
            connection.setRequestProperty("Accept", "application/json");  
            connection.setRequestProperty("Authorization", "Bearer " + accessToken);  
      
            int responseCode = connection.getResponseCode();  
            if (responseCode == HttpURLConnection.HTTP_OK) {  
                BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));  
                String responseBody = reader.lines().collect(Collectors.joining(System.lineSeparator()));  
                System.out.println(responseBody);  
                reader.close();  
            } else {  
                System.out.println("Error: " + responseCode + " - " + connection.getResponseMessage());  
            }  
      
            connection.disconnect();  
        }  
    }  
      
    
    
    
    <?php  
      
    $curl = curl_init();  
      
    curl_setopt_array($curl, [  
      CURLOPT_URL => 'https://api.upstox.com/v2/charges/historical-trades?segment=FO&start_date=2022-04-01&end_date=2023-03-31&page_number=1&page_size=100',  
      CURLOPT_RETURNTRANSFER => true,  
      CURLOPT_FOLLOWLOCATION => true,  
      CURLOPT_HTTPHEADER => [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}'  
      ],  
    ]);  
      
    $response = curl_exec($curl);  
      
    if ($response === false) {  
      echo 'Error: ' . curl_error($curl);  
    } else {  
      echo $response;  
    }  
      
    curl_close($curl);  
      
    ?>  
      
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = "{your_access_token}"  
    api_instance = upstox_client.PostTradeApi(upstox_client.ApiClient(configuration))  
      
    param = {  
        'segment': "FO"  
    }  
      
    try:  
        api_response = api_instance.get_trades_by_date_range("2023-04-01", "2025-03-31",1,1000,**param)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->get trades_by_date_range: %s\n" % e.body)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    apiInstance = new UpstoxClient.PostTradeApi();  
    opts = {  
        segment: "FO"  
    }  
    apiInstance.getTradesByDateRange("2023-04-01","2024-08-30",1,1000,opts,(error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.TradeHistoryResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.PostTradeApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            PostTradeApi apiInstance = new PostTradeApi();  
      
            try {  
                TradeHistoryResponse result = apiInstance.getTradesByDateRange("2023-04-01","2025-08-01",1,1000,"FO");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#getTradesByDateRange= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    GET /charges/historical-trades

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

`start_date` â€” query **required**

`end_date` â€” query **required**

`page_number` â€” query **required**

`page_size` â€” query **required**

Show optional parameters

`segment` â€” query


---
# Source: https://upstox.com/developer/api-documentation/place-order
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Orders](<https://upstox.com/developer/api-documentation/orders>)
  * Place Order



## Place Order Sandbox Enabled Deprecated[â€‹](<https://upstox.com/developer/api-documentation/place-order/#place-order-sandbox-enabled-deprecated> "Direct link to heading")

API to place an order to the exchange. The instrument_token required for the stock or contracts should be obtained from the [BOD instruments](<https://upstox.com/developer/api-documentation/instruments>).

Upon successfully placing the order with the exchange, a unique order_id is provided in the success response, which can be utilized for order modification or cancellation. If you intend to place an order outside of market hours, the 'is_amo' (After Market Order) should be set to 'true'. You can assign a tag(unique identifier) to your order, allowing you to retrieve orders associated with that tag using the [Order History API](<https://upstox.com/developer/api-documentation/get-order-history>).

### Request[â€‹](<https://upstox.com/developer/api-documentation/place-order/#request> "Direct link to heading")
    
    
    curl --location 'https://api-hft.upstox.com/v2/order/place' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 1,  
      "product": "D",  
      "validity": "DAY",  
      "price": 0,  
      "tag": "string",  
      "instrument_token": "NSE_EQ|INE669E01016",  
      "order_type": "MARKET",  
      "transaction_type": "BUY",  
      "disclosed_quantity": 0,  
      "trigger_price": 0,  
      "is_amo": false  
    }'  
    

Important 

The **is_amo** flag in the order request will be ignored, and the system will automatically infer its value based on the current market session. If an order is placed during active trading hours, it will be processed as a live order regardless of whether **is_amo: true** was sent.

Additional samples in various languages are available in the [Sample Code section](<https://upstox.com/developer/api-documentation/place-order/#sample-code>) on this page.

### Request Body[â€‹](<https://upstox.com/developer/api-documentation/place-order/#request-body> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
quantity| true| integer (int32)| Quantity with which the order is to be placed.   
For commodity - number of lots is accepted.   
For other Futures & Options and equities - number of units is accepted in multiples of the tick size.  
product| true| string| Signifies if the order was either Intraday or Delivery.   
Possible values: `I`, `D`, `MTF`.  
validity| true| string| It can be one of the following - DAY(default), IOC.   
Possible values: `DAY`, `IOC`.  
price| true| number (float)| Price at which the order will be placed  
tag| false| string| Tag for a particular order  
instrument_token| true| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
order_type| true| string| Type of order. It can be one of the following MARKET refers to market order LIMIT refers to Limit Order SL refers to Stop Loss Limit SL-M refers to Stop Loss Market.   
Possible values: `MARKET`, `LIMIT`, `SL`, `SL-M`.  
transaction_type| true| string| Indicates whether its a buy or sell order.   
Possible values: `BUY`, `SELL`.  
disclosed_quantity| true| integer (int32)| The quantity that should be disclosed in the market depth  
trigger_price| true| number (float)| If the order is a stop loss order then the trigger price to be set is mentioned here  
is_amo| true| boolean| Signifies if the order is an After Market Order  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/place-order/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "order_id": "1644490272000"  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Response data for place order request  
data.order_id| string| An order ID for the order request placed  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/place-order/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1026| **Instrument key is required** \- You need to provide the instrument key for this operation.  
UDAPI1004| **Valid order type is required** \- Please ensure to provide a recognized order type.  
UDAPI1056| **The 'order_type' is invalid** \- The specified order type isn't acceptable.  
UDAPI1057| **The 'transaction_type' is invalid** \- The given transaction type is not valid.  
UDAPI1006| **Product is required** \- You must specify the product in your request.  
UDAPI1054| **The 'product' is invalid** \- The provided product value doesn't match any accepted values.  
UDAPI1007| **Validity is required** \- You need to provide the duration the order will remain in effect.  
UDAPI1055| **The 'validity' is invalid** \- The specified order validity isn't recognized.  
UDAPI1008| **Price is required** \- Please specify the price in your request.  
UDAPI100049| **Access to this API has been restricted for your account. Please use 'Uplink Business' to place/modify/cancel the order.** \- Use 'Uplink Business' for order operations.  
UDAPI1052| **The order 'quantity' cannot be zero** \- You cannot set the order quantity to zero.  
UDAPI1040| **Price not required** \- You shouldn't specify a price for this type of order.  
UDAPI1043| **The 'price' is required** \- A valid price value needs to be provided for this order type.  
UDAPI1041| **The 'price' and 'trigger_price' both are required** \- Ensure to specify both price values in your request.  
UDAPI1042| **Only 'trigger_price' is required** \- Only the trigger price needs to be provided, not the regular price.  
UDAPI1037| **Trigger price should be less than limit price** \- Ensure your trigger price is set below the limit price.  
UDAPI1038| **Trigger price should be greater than limit price** \- The trigger price should exceed the limit price value.  
UDAPI100011| **Invalid Instrument key** \- The instrument key you provided doesn't match any recognized keys.  
UDAPI100039| **AMO orders cannot be placed during the market hours** \- After Market Order (AMO) is not valid during active market sessions.  
UDAPI100074| **The Place order API is accessible from 5:30 AM to 12:00 AM IST daily** \- Thrown when an Place Order API is called between midnight and 5:30 AM in the morning.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/place-order/#sample-code> "Direct link to heading")

### Place a delivery market order[â€‹](<https://upstox.com/developer/api-documentation/place-order/#place-a-delivery-market-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api-hft.upstox.com/v2/order/place' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 1,  
      "product": "D",  
      "validity": "DAY",  
      "price": 0,  
      "tag": "string",  
      "instrument_token": "NSE_EQ|INE669E01016",  
      "order_type": "MARKET",  
      "transaction_type": "BUY",  
      "disclosed_quantity": 0,  
      "trigger_price": 0,  
      "is_amo": false  
    }'  
      
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v2/order/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        'quantity': 1,  
        'product': 'D',  
        'validity': 'DAY',  
        'price': 0,  
        'tag': 'string',  
        'instrument_token': 'NSE_EQ|INE669E01016',  
        'order_type': 'MARKET',  
        'transaction_type': 'BUY',  
        'disclosed_quantity': 0,  
        'trigger_price': 0,  
        'is_amo': False,  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v2/order/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      quantity: 1,  
      product: 'D',  
      validity: 'DAY',  
      price: 0,  
      tag: 'string',  
      instrument_token: 'NSE_EQ|INE669E01016',  
      order_type: 'MARKET',  
      transaction_type: 'BUY',  
      disclosed_quantity: 0,  
      trigger_price: 0,  
      is_amo: false,  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api-hft.upstox.com/v2/order/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"quantity\": 1,"  
                    + "\"product\": \"D\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_EQ|INE669E01016\","  
                    + "\"order_type\": \"MARKET\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 0,"  
                    + "\"is_amo\": false"  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v2/order/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'quantity' => 1,  
        'product' => 'D',  
        'validity' => 'DAY',  
        'price' => 0,  
        'tag' => 'string',  
        'instrument_token' => 'NSE_EQ|INE669E01016',  
        'order_type' => 'MARKET',  
        'transaction_type' => 'BUY',  
        'disclosed_quantity' => 0,  
        'trigger_price' => 0,  
        'is_amo' => false,  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    body = upstox_client.PlaceOrderRequest(1, "D", "DAY", 0.0, "string", "NSE_EQ|INE528G01035", "MARKET", "BUY", 0, 0.0, False)  
    api_version = '2.0'  
    try:  
        api_response = api_instance.place_order(body, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->place_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    let body = new UpstoxClient.PlaceOrderRequest(1, UpstoxClient.PlaceOrderRequest.ProductEnum.D, UpstoxClient.PlaceOrderRequest.ValidityEnum.DAY, 0.0, "NSE_EQ|INE528G01035",UpstoxClient.PlaceOrderRequest.OrderTypeEnum.MARKET,UpstoxClient.PlaceOrderRequest.TransactionTypeEnum.BUY, 0, 0.0, false);   
    let apiVersion = "2.0";   
      
    apiInstance.placeOrder(body, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.PlaceOrderRequest;  
    import com.upstox.api.PlaceOrderResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OrderApi apiInstance = new OrderApi();  
            PlaceOrderRequest body = new PlaceOrderRequest();  
            body.setQuantity(1);  
            body.setProduct(PlaceOrderRequest.ProductEnum.D);  
            body.setValidity(PlaceOrderRequest.ValidityEnum.DAY);  
            body.setPrice(0F);  
            body.setTag("string");  
            body.setInstrumentToken("NSE_EQ|INE669E01016");  
            body.orderType(PlaceOrderRequest.OrderTypeEnum.MARKET);  
            body.setTransactionType(PlaceOrderRequest.TransactionTypeEnum.BUY);  
            body.setDisclosedQuantity(0);  
            body.setTriggerPrice(0F);  
            body.setIsAmo(false);  
      
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                PlaceOrderResponse result = apiInstance.placeOrder(body, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#placeOrder ");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

### Place a delivery limit order[â€‹](<https://upstox.com/developer/api-documentation/place-order/#place-a-delivery-limit-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api-hft.upstox.com/v2/order/place' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 1,  
      "product": "D",  
      "validity": "DAY",  
      "price": 13,  
      "tag": "string",  
      "instrument_token": "NSE_EQ|INE669E01016",  
      "order_type": "LIMIT",  
      "transaction_type": "BUY",  
      "disclosed_quantity": 0,  
      "trigger_price": 13.2,  
      "is_amo": false  
    }'  
      
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v2/order/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        'quantity': 1,  
        'product': 'D',  
        'validity': 'DAY',  
        'price': 13,  
        'tag': 'string',  
        'instrument_token': 'NSE_EQ|INE669E01016',  
        'order_type': 'LIMIT',  
        'transaction_type': 'BUY',  
        'disclosed_quantity': 0,  
        'trigger_price': 13.2,  
        'is_amo': False,  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v2/order/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      quantity: 1,  
      product: 'D',  
      validity: 'DAY',  
      price: 13,  
      tag: 'string',  
      instrument_token: 'NSE_EQ|INE669E01016',  
      order_type: 'LIMIT',  
      transaction_type: 'BUY',  
      disclosed_quantity: 0,  
      trigger_price: 13.2,  
      is_amo: false,  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api-hft.upstox.com/v2/order/place";  
            String token = "Bearer {your_access_token}";  
            // Set up the request body  
            String requestBody = "{"  
                    + "\"quantity\": 1,"  
                    + "\"product\": \"D\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 13,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_EQ|INE669E01016\","  
                    + "\"order_type\": \"LIMIT\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 13.2,"  
                    + "\"is_amo\": false"  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v2/order/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'quantity' => 1,  
        'product' => 'D',  
        'validity' => 'DAY',  
        'price' => 13,  
        'tag' => 'string',  
        'instrument_token' => 'NSE_EQ|INE669E01016',  
        'order_type' => 'LIMIT',  
        'transaction_type' => 'BUY',  
        'disclosed_quantity' => 0,  
        'trigger_price' => 13.2,  
        'is_amo' => false,  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    body = upstox_client.PlaceOrderRequest(1, "D", "DAY", 20.0, "string", "NSE_EQ|INE528G01035", "LIMIT", "BUY", 0, 20.1, False)  
    api_version = '2.0'  
    try:  
        api_response = api_instance.place_order(body, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->place_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    let body = new UpstoxClient.PlaceOrderRequest(1, UpstoxClient.PlaceOrderRequest.ProductEnum.D, UpstoxClient.PlaceOrderRequest.ValidityEnum.DAY, 20.0, "NSE_EQ|INE528G01035",UpstoxClient.PlaceOrderRequest.OrderTypeEnum.LIMIT,UpstoxClient.PlaceOrderRequest.TransactionTypeEnum.BUY, 0, 20.1, false);   
    let apiVersion = "2.0";   
      
    apiInstance.placeOrder(body, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.PlaceOrderRequest;  
    import com.upstox.api.PlaceOrderResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OrderApi apiInstance = new OrderApi();  
            PlaceOrderRequest body = new PlaceOrderRequest();  
            body.setQuantity(1);  
            body.setProduct(PlaceOrderRequest.ProductEnum.D);  
            body.setValidity(PlaceOrderRequest.ValidityEnum.DAY);  
            body.setPrice(14F);  
            body.setTag("string");  
            body.setInstrumentToken("NSE_EQ|INE669E01016");  
            body.orderType(PlaceOrderRequest.OrderTypeEnum.LIMIT);  
            body.setTransactionType(PlaceOrderRequest.TransactionTypeEnum.BUY);  
            body.setDisclosedQuantity(0);  
            body.setTriggerPrice(14.1F);  
            body.setIsAmo(false);  
      
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                PlaceOrderResponse result = apiInstance.placeOrder(body, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#placeOrder ");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

### Place a delivery stop-loss order[â€‹](<https://upstox.com/developer/api-documentation/place-order/#place-a-delivery-stop-loss-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api-hft.upstox.com/v2/order/place' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 1,  
      "product": "D",  
      "validity": "DAY",  
      "price": 14.05,  
      "tag": "string",  
      "instrument_token": "NSE_EQ|INE669E01016",  
      "order_type": "SL",  
      "transaction_type": "BUY",  
      "disclosed_quantity": 0,  
      "trigger_price": 13,  
      "is_amo": false  
    }'  
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v2/order/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        'quantity': 1,  
        'product': 'D',  
        'validity': 'DAY',  
        'price': 14.05,  
        'tag': 'string',  
        'instrument_token': 'NSE_EQ|INE669E01016',  
        'order_type': 'SL',  
        'transaction_type': 'BUY',  
        'disclosed_quantity': 0,  
        'trigger_price': 13,  
        'is_amo': False,  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v2/order/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      quantity: 1,  
      product: 'D',  
      validity: 'DAY',  
      price: 14.05,  
      tag: 'string',  
      instrument_token: 'NSE_EQ|INE669E01016',  
      order_type: 'SL',  
      transaction_type: 'BUY',  
      disclosed_quantity: 0,  
      trigger_price: 13,  
      is_amo: false,  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api-hft.upstox.com/v2/order/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"quantity\": 1,"  
                    + "\"product\": \"D\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 14.05,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_EQ|INE669E01016\","  
                    + "\"order_type\": \"SL\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 13,"  
                    + "\"is_amo\": false"  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v2/order/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'quantity' => 1,  
        'product' => 'D',  
        'validity' => 'DAY',  
        'price' => 14.05,  
        'tag' => 'string',  
        'instrument_token' => 'NSE_EQ|INE669E01016',  
        'order_type' => 'SL',  
        'transaction_type' => 'BUY',  
        'disclosed_quantity' => 0,  
        'trigger_price' => 13,  
        'is_amo' => false,  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    body = upstox_client.PlaceOrderRequest(1, "D", "DAY", 20, "string", "NSE_EQ|INE528G01035", "SL", "BUY", 0, 19.5, False)  
    api_version = '2.0'  
    try:  
        api_response = api_instance.place_order(body, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->place_order: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    let body = new UpstoxClient.PlaceOrderRequest(1, UpstoxClient.PlaceOrderRequest.ProductEnum.D, UpstoxClient.PlaceOrderRequest.ValidityEnum.DAY, 20.0, "NSE_EQ|INE528G01035",UpstoxClient.PlaceOrderRequest.OrderTypeEnum.SL,UpstoxClient.PlaceOrderRequest.TransactionTypeEnum.BUY, 0, 19.5, false);   
    let apiVersion = "2.0";   
      
    apiInstance.placeOrder(body, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.PlaceOrderRequest;  
    import com.upstox.api.PlaceOrderResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OrderApi apiInstance = new OrderApi();  
            PlaceOrderRequest body = new PlaceOrderRequest();  
            body.setQuantity(1);  
            body.setProduct(PlaceOrderRequest.ProductEnum.D);  
            body.setValidity(PlaceOrderRequest.ValidityEnum.DAY);  
            body.setPrice(14F);  
            body.setTag("string");  
            body.setInstrumentToken("NSE_EQ|INE669E01016");  
            body.orderType(PlaceOrderRequest.OrderTypeEnum.SL);  
            body.setTransactionType(PlaceOrderRequest.TransactionTypeEnum.BUY);  
            body.setDisclosedQuantity(0);  
            body.setTriggerPrice(13.1F);  
            body.setIsAmo(false);  
      
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                PlaceOrderResponse result = apiInstance.placeOrder(body, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#placeOrder ");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

### Place a delivery stop-loss order market[â€‹](<https://upstox.com/developer/api-documentation/place-order/#place-a-delivery-stop-loss-order-market> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api-hft.upstox.com/v2/order/place' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 1,  
      "product": "D",  
      "validity": "DAY",  
      "price": 0,  
      "tag": "string",  
      "instrument_token": "NSE_EQ|INE669E01016",  
      "order_type": "SL-M",  
      "transaction_type": "BUY",  
      "disclosed_quantity": 0,  
      "trigger_price": 15,  
      "is_amo": false  
    }'  
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v2/order/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        'quantity': 1,  
        'product': 'D',  
        'validity': 'DAY',  
        'price': 0,  
        'tag': 'string',  
        'instrument_token': 'NSE_EQ|INE669E01016',  
        'order_type': 'SL-M',  
        'transaction_type': 'BUY',  
        'disclosed_quantity': 0,  
        'trigger_price': 15,  
        'is_amo': False,  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v2/order/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      quantity: 1,  
      product: 'D',  
      validity: 'DAY',  
      price: 0.0,  
      tag: 'string',  
      instrument_token: 'NSE_EQ|INE669E01016',  
      order_type: 'SL-M',  
      transaction_type: 'BUY',  
      disclosed_quantity: 0,  
      trigger_price: 15,  
      is_amo: false,  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api-hft.upstox.com/v2/order/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"quantity\": 1,"  
                    + "\"product\": \"D\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 0.0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_EQ|INE669E01016\","  
                    + "\"order_type\": \"SL-M\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 15,"  
                    + "\"is_amo\": false"  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v2/order/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'quantity' => 1,  
        'product' => 'D',  
        'validity' => 'DAY',  
        'price' => 0.0,  
        'tag' => 'string',  
        'instrument_token' => 'NSE_EQ|INE669E01016',  
        'order_type' => 'SL-M',  
        'transaction_type' => 'BUY',  
        'disclosed_quantity' => 0,  
        'trigger_price' => 15,  
        'is_amo' => false,  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    body = upstox_client.PlaceOrderRequest(1, "D", "DAY", 0.0, "string", "NSE_EQ|INE528G01035", "SL-M", "BUY", 0, 21.5, False)  
    api_version = '2.0'  
    try:  
        api_response = api_instance.place_order(body, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->place_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    let body = new UpstoxClient.PlaceOrderRequest(1, UpstoxClient.PlaceOrderRequest.ProductEnum.D, UpstoxClient.PlaceOrderRequest.ValidityEnum.DAY, 0.0, "NSE_EQ|INE528G01035",UpstoxClient.PlaceOrderRequest.OrderTypeEnum.SL_M,UpstoxClient.PlaceOrderRequest.TransactionTypeEnum.BUY, 0, 24.5, false);   
    let apiVersion = "2.0";   
      
    apiInstance.placeOrder(body, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.PlaceOrderRequest;  
    import com.upstox.api.PlaceOrderResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OrderApi apiInstance = new OrderApi();  
            PlaceOrderRequest body = new PlaceOrderRequest();  
            body.setQuantity(1);  
            body.setProduct(PlaceOrderRequest.ProductEnum.D);  
            body.setValidity(PlaceOrderRequest.ValidityEnum.DAY);  
            body.setPrice(0F);  
            body.setTag("string");  
            body.setInstrumentToken("NSE_EQ|INE669E01016");  
            body.orderType(PlaceOrderRequest.OrderTypeEnum.SL_M);  
            body.setTransactionType(PlaceOrderRequest.TransactionTypeEnum.BUY);  
            body.setDisclosedQuantity(0);  
            body.setTriggerPrice(15.1F);  
            body.setIsAmo(false);  
      
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                PlaceOrderResponse result = apiInstance.placeOrder(body, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#placeOrder ");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

### Place an intraday market order[â€‹](<https://upstox.com/developer/api-documentation/place-order/#place-an-intraday-market-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api-hft.upstox.com/v2/order/place' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 1,  
      "product": "I",  
      "validity": "DAY",  
      "price": 0,  
      "tag": "string",  
      "instrument_token": "NSE_EQ|INE528G01035",  
      "order_type": "MARKET",  
      "transaction_type": "BUY",  
      "disclosed_quantity": 0,  
      "trigger_price": 0,  
      "is_amo": false  
    }'  
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v2/order/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        'quantity': 1,  
        'product': 'I',  
        'validity': 'DAY',  
        'price': 0,  
        'tag': 'string',  
        'instrument_token': 'NSE_EQ|INE528G01035',  
        'order_type': 'MARKET',  
        'transaction_type': 'BUY',  
        'disclosed_quantity': 0,  
        'trigger_price': 0,  
        'is_amo': False,  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v2/order/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      quantity: 1,  
      product: 'I',  
      validity: 'DAY',  
      price: 0.0,  
      tag: 'string',  
      instrument_token: 'NSE_EQ|INE528G01035',  
      order_type: 'MARKET',  
      transaction_type: 'BUY',  
      disclosed_quantity: 0,  
      trigger_price: 0,  
      is_amo: false,  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api-hft.upstox.com/v2/order/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"quantity\": 1,"  
                    + "\"product\": \"I\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 0.0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_EQ|INE528G01035\","  
                    + "\"order_type\": \"MARKET\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 0,"  
                    + "\"is_amo\": false"  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v2/order/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'quantity' => 1,  
        'product' => 'I',  
        'validity' => 'DAY',  
        'price' => 0.0,  
        'tag' => 'string',  
        'instrument_token' => 'NSE_EQ|INE528G01035',  
        'order_type' => 'MARKET',  
        'transaction_type' => 'BUY',  
        'disclosed_quantity' => 0,  
        'trigger_price' => 0,  
        'is_amo' => false,  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    body = upstox_client.PlaceOrderRequest(1, "I", "DAY", 0.0, "string", "NSE_EQ|INE528G01035", "MARKET", "BUY", 0, 0.0, False)  
    api_version = '2.0'  
    try:  
        api_response = api_instance.place_order(body, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->place_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    let body = new UpstoxClient.PlaceOrderRequest(1, UpstoxClient.PlaceOrderRequest.ProductEnum.I, UpstoxClient.PlaceOrderRequest.ValidityEnum.DAY, 0.0, "NSE_EQ|INE528G01035",UpstoxClient.PlaceOrderRequest.OrderTypeEnum.MARKET,UpstoxClient.PlaceOrderRequest.TransactionTypeEnum.BUY, 0, 0.0, false);   
    let apiVersion = "2.0";   
      
    apiInstance.placeOrder(body, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.PlaceOrderRequest;  
    import com.upstox.api.PlaceOrderResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OrderApi apiInstance = new OrderApi();  
            PlaceOrderRequest body = new PlaceOrderRequest();  
            body.setQuantity(1);  
            body.setProduct(PlaceOrderRequest.ProductEnum.I);  
            body.setValidity(PlaceOrderRequest.ValidityEnum.DAY);  
            body.setPrice(0F);  
            body.setTag("string");  
            body.setInstrumentToken("NSE_EQ|INE528G01035");  
            body.orderType(PlaceOrderRequest.OrderTypeEnum.MARKET);  
            body.setTransactionType(PlaceOrderRequest.TransactionTypeEnum.BUY);  
            body.setDisclosedQuantity(0);  
            body.setTriggerPrice(0F);  
            body.setIsAmo(false);  
      
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                PlaceOrderResponse result = apiInstance.placeOrder(body, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#placeOrder ");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

### Place an intraday limit order[â€‹](<https://upstox.com/developer/api-documentation/place-order/#place-an-intraday-limit-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api-hft.upstox.com/v2/order/place' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 1,  
      "product": "I",  
      "validity": "DAY",  
      "price": 20.0,  
      "tag": "string",  
      "instrument_token": "NSE_EQ|INE528G01035",  
      "order_type": "LIMIT",  
      "transaction_type": "BUY",  
      "disclosed_quantity": 0,  
      "trigger_price": 20.1,  
      "is_amo": false  
    }'  
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v2/order/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        'quantity': 1,  
        'product': 'I',  
        'validity': 'DAY',  
        'price': 20.0,  
        'tag': 'string',  
        'instrument_token': 'NSE_EQ|INE528G01035',  
        'order_type': 'LIMIT',  
        'transaction_type': 'BUY',  
        'disclosed_quantity': 0,  
        'trigger_price': 20.1,  
        'is_amo': False,  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v2/order/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      quantity: 1,  
      product: 'I',  
      validity: 'DAY',  
      price: 20.0,  
      tag: 'string',  
      instrument_token: 'NSE_EQ|INE528G01035',  
      order_type: 'LIMIT',  
      transaction_type: 'BUY',  
      disclosed_quantity: 0,  
      trigger_price: 20.1,  
      is_amo: false,  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api-hft.upstox.com/v2/order/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"quantity\": 1,"  
                    + "\"product\": \"I\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 20.0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_EQ|INE528G01035\","  
                    + "\"order_type\": \"LIMIT\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 20.1,"  
                    + "\"is_amo\": false"  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v2/order/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'quantity' => 1,  
        'product' => 'I',  
        'validity' => 'DAY',  
        'price' => 20.0,  
        'tag' => 'string',  
        'instrument_token' => 'NSE_EQ|INE528G01035',  
        'order_type' => 'LIMIT',  
        'transaction_type' => 'BUY',  
        'disclosed_quantity' => 0,  
        'trigger_price' => 20.1,  
        'is_amo' => false,  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    body = upstox_client.PlaceOrderRequest(1, "I", "DAY", 20.0, "string", "NSE_EQ|INE528G01035", "LIMIT", "BUY", 0, 20.1, False)  
    api_version = '2.0'  
    try:  
        api_response = api_instance.place_order(body, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->place_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    let body = new UpstoxClient.PlaceOrderRequest(1, UpstoxClient.PlaceOrderRequest.ProductEnum.I, UpstoxClient.PlaceOrderRequest.ValidityEnum.DAY, 20.0, "NSE_EQ|INE528G01035",UpstoxClient.PlaceOrderRequest.OrderTypeEnum.LIMIT,UpstoxClient.PlaceOrderRequest.TransactionTypeEnum.BUY, 0, 20.1, false);   
    let apiVersion = "2.0";   
      
    apiInstance.placeOrder(body, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.PlaceOrderRequest;  
    import com.upstox.api.PlaceOrderResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OrderApi apiInstance = new OrderApi();  
            PlaceOrderRequest body = new PlaceOrderRequest();  
            body.setQuantity(1);  
            body.setProduct(PlaceOrderRequest.ProductEnum.I);  
            body.setValidity(PlaceOrderRequest.ValidityEnum.DAY);  
            body.setPrice(24F);  
            body.setTag("string");  
            body.setInstrumentToken("NSE_EQ|INE528G01035");  
            body.orderType(PlaceOrderRequest.OrderTypeEnum.LIMIT);  
            body.setTransactionType(PlaceOrderRequest.TransactionTypeEnum.BUY);  
            body.setDisclosedQuantity(0);  
            body.setTriggerPrice(24.1F);  
            body.setIsAmo(false);  
      
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                PlaceOrderResponse result = apiInstance.placeOrder(body, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#placeOrder ");  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Place an intraday stop-loss order[â€‹](<https://upstox.com/developer/api-documentation/place-order/#place-an-intraday-stop-loss-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api-hft.upstox.com/v2/order/place' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 1,  
      "product": "I",  
      "validity": "DAY",  
      "price": 20.0,  
      "tag": "string",  
      "instrument_token": "NSE_EQ|INE528G01035",  
      "order_type": "SL",  
      "transaction_type": "BUY",  
      "disclosed_quantity": 0,  
      "trigger_price": 19.5,  
      "is_amo": false  
    }'  
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v2/order/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        'quantity': 1,  
        'product': 'I',  
        'validity': 'DAY',  
        'price': 20.0,  
        'tag': 'string',  
        'instrument_token': 'NSE_EQ|INE528G01035',  
        'order_type': 'SL',  
        'transaction_type': 'BUY',  
        'disclosed_quantity': 0,  
        'trigger_price': 19.5,  
        'is_amo': False,  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v2/order/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      quantity: 1,  
      product: 'I',  
      validity: 'DAY',  
      price: 20.0,  
      tag: 'string',  
      instrument_token: 'NSE_EQ|INE528G01035',  
      order_type: 'SL',  
      transaction_type: 'BUY',  
      disclosed_quantity: 0,  
      trigger_price: 19.5,  
      is_amo: false,  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api-hft.upstox.com/v2/order/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"quantity\": 1,"  
                    + "\"product\": \"I\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 20.0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_EQ|INE528G01035\","  
                    + "\"order_type\": \"SL\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 19.5,"  
                    + "\"is_amo\": false"  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v2/order/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'quantity' => 1,  
        'product' => 'I',  
        'validity' => 'DAY',  
        'price' => 20.0,  
        'tag' => 'string',  
        'instrument_token' => 'NSE_EQ|INE528G01035',  
        'order_type' => 'SL',  
        'transaction_type' => 'BUY',  
        'disclosed_quantity' => 0,  
        'trigger_price' => 19.5,  
        'is_amo' => false,  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    body = upstox_client.PlaceOrderRequest(1, "I", "DAY", 20, "string", "NSE_EQ|INE528G01035", "SL", "BUY", 0, 19.5, False)  
    api_version = '2.0'  
    try:  
        api_response = api_instance.place_order(body, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->place_order: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    let body = new UpstoxClient.PlaceOrderRequest(1, UpstoxClient.PlaceOrderRequest.ProductEnum.I, UpstoxClient.PlaceOrderRequest.ValidityEnum.DAY, 20.0, "NSE_EQ|INE528G01035",UpstoxClient.PlaceOrderRequest.OrderTypeEnum.SL,UpstoxClient.PlaceOrderRequest.TransactionTypeEnum.BUY, 0, 19.5, false);   
    let apiVersion = "2.0";   
      
    apiInstance.placeOrder(body, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.PlaceOrderRequest;  
    import com.upstox.api.PlaceOrderResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OrderApi apiInstance = new OrderApi();  
            PlaceOrderRequest body = new PlaceOrderRequest();  
            body.setQuantity(1);  
            body.setProduct(PlaceOrderRequest.ProductEnum.I);  
            body.setValidity(PlaceOrderRequest.ValidityEnum.DAY);  
            body.setPrice(24F);  
            body.setTag("string");  
            body.setInstrumentToken("NSE_EQ|INE528G01035");  
            body.orderType(PlaceOrderRequest.OrderTypeEnum.SL);  
            body.setTransactionType(PlaceOrderRequest.TransactionTypeEnum.BUY);  
            body.setDisclosedQuantity(0);  
            body.setTriggerPrice(23F);  
            body.setIsAmo(false);  
      
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                PlaceOrderResponse result = apiInstance.placeOrder(body, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#placeOrder ");  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Place an intraday stop-loss market order[â€‹](<https://upstox.com/developer/api-documentation/place-order/#place-an-intraday-stop-loss-market-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api-hft.upstox.com/v2/order/place' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 1,  
      "product": "I",  
      "validity": "DAY",  
      "price": 0,  
      "tag": "string",  
      "instrument_token": "NSE_EQ|INE528G01035",  
      "order_type": "SL-M",  
      "transaction_type": "BUY",  
      "disclosed_quantity": 0,  
      "trigger_price": 21.5,  
      "is_amo": false  
    }'  
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v2/order/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        'quantity': 1,  
        'product': 'I',  
        'validity': 'DAY',  
        'price': 0.0,  
        'tag': 'string',  
        'instrument_token': 'NSE_EQ|INE528G01035',  
        'order_type': 'SL-M',  
        'transaction_type': 'BUY',  
        'disclosed_quantity': 0,  
        'trigger_price': 21.5,  
        'is_amo': False,  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v2/order/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      quantity: 1,  
      product: 'I',  
      validity: 'DAY',  
      price: 0.0,  
      tag: 'string',  
      instrument_token: 'NSE_EQ|INE528G01035',  
      order_type: 'SL-M',  
      transaction_type: 'BUY',  
      disclosed_quantity: 0,  
      trigger_price: 21.5,  
      is_amo: false,  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api-hft.upstox.com/v2/order/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"quantity\": 1,"  
                    + "\"product\": \"I\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 0.0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_EQ|INE528G01035\","  
                    + "\"order_type\": \"SL-M\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 21.5,"  
                    + "\"is_amo\": false"  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v2/order/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'quantity' => 1,  
        'product' => 'I',  
        'validity' => 'DAY',  
        'price' => 0.0,  
        'tag' => 'string',  
        'instrument_token' => 'NSE_EQ|INE528G01035',  
        'order_type' => 'SL-M',  
        'transaction_type' => 'BUY',  
        'disclosed_quantity' => 0,  
        'trigger_price' => 21.5,  
        'is_amo' => false,  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    body = upstox_client.PlaceOrderRequest(1, "I", "DAY", 0.0, "string", "NSE_EQ|INE528G01035", "SL-M", "BUY", 0, 21.5, False)  
    api_version = '2.0'  
    try:  
        api_response = api_instance.place_order(body, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->place_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    let body = new UpstoxClient.PlaceOrderRequest(1, UpstoxClient.PlaceOrderRequest.ProductEnum.I, UpstoxClient.PlaceOrderRequest.ValidityEnum.DAY, 0.0, "NSE_EQ|INE528G01035",UpstoxClient.PlaceOrderRequest.OrderTypeEnum.SL_M,UpstoxClient.PlaceOrderRequest.TransactionTypeEnum.BUY, 0, 24.5, false);   
    let apiVersion = "2.0";   
      
    apiInstance.placeOrder(body, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.PlaceOrderRequest;  
    import com.upstox.api.PlaceOrderResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OrderApi apiInstance = new OrderApi();  
            PlaceOrderRequest body = new PlaceOrderRequest();  
            body.setQuantity(1);  
            body.setProduct(PlaceOrderRequest.ProductEnum.I);  
            body.setValidity(PlaceOrderRequest.ValidityEnum.DAY);  
            body.setPrice(0F);  
            body.setTag("string");  
            body.setInstrumentToken("NSE_EQ|INE528G01035");  
            body.orderType(PlaceOrderRequest.OrderTypeEnum.SL_M);  
            body.setTransactionType(PlaceOrderRequest.TransactionTypeEnum.BUY);  
            body.setDisclosedQuantity(0);  
            body.setTriggerPrice(25F);  
            body.setIsAmo(false);  
      
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                PlaceOrderResponse result = apiInstance.placeOrder(body, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#placeOrder ");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

### Place a delivery market amo (after market order)[â€‹](<https://upstox.com/developer/api-documentation/place-order/#place-a-delivery-market-amo-after-market-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api-hft.upstox.com/v2/order/place' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 1,  
      "product": "D",  
      "validity": "DAY",  
      "price": 0,  
      "tag": "string",  
      "instrument_token": "NSE_EQ|INE669E01016",  
      "order_type": "MARKET",  
      "transaction_type": "BUY",  
      "disclosed_quantity": 0,  
      "trigger_price": 0,  
      "is_amo": true  
    }'  
      
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v2/order/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        'quantity': 1,  
        'product': 'D',  
        'validity': 'DAY',  
        'price': 0,  
        'tag': 'string',  
        'instrument_token': 'NSE_EQ|INE669E01016',  
        'order_type': 'MARKET',  
        'transaction_type': 'BUY',  
        'disclosed_quantity': 0,  
        'trigger_price': 0,  
        'is_amo': True,  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v2/order/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      quantity: 1,  
      product: 'D',  
      validity: 'DAY',  
      price: 0,  
      tag: 'string',  
      instrument_token: 'NSE_EQ|INE669E01016',  
      order_type: 'MARKET',  
      transaction_type: 'BUY',  
      disclosed_quantity: 0,  
      trigger_price: 0,  
      is_amo: true,  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api-hft.upstox.com/v2/order/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"quantity\": 1,"  
                    + "\"product\": \"D\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_EQ|INE669E01016\","  
                    + "\"order_type\": \"MARKET\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 0,"  
                    + "\"is_amo\": true"  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v2/order/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'quantity' => 1,  
        'product' => 'D',  
        'validity' => 'DAY',  
        'price' => 0,  
        'tag' => 'string',  
        'instrument_token' => 'NSE_EQ|INE669E01016',  
        'order_type' => 'MARKET',  
        'transaction_type' => 'BUY',  
        'disclosed_quantity' => 0,  
        'trigger_price' => 0,  
        'is_amo' => true,  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
      
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    body = upstox_client.PlaceOrderRequest(1, "D", "DAY", 0.0, "string", "NSE_EQ|INE528G01035", "MARKET", "BUY", 0, 0.0, True)  
    api_version = '2.0'  
    try:  
        api_response = api_instance.place_order(body, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->place_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    let body = new UpstoxClient.PlaceOrderRequest(1, UpstoxClient.PlaceOrderRequest.ProductEnum.D, UpstoxClient.PlaceOrderRequest.ValidityEnum.DAY, 0.0, "NSE_EQ|INE528G01035",UpstoxClient.PlaceOrderRequest.OrderTypeEnum.MARKET,UpstoxClient.PlaceOrderRequest.TransactionTypeEnum.BUY, 0, 0.0, true);   
    let apiVersion = "2.0";   
      
    apiInstance.placeOrder(body, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.PlaceOrderRequest;  
    import com.upstox.api.PlaceOrderResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OrderApi apiInstance = new OrderApi();  
            PlaceOrderRequest body = new PlaceOrderRequest();  
            body.setQuantity(1);  
            body.setProduct(PlaceOrderRequest.ProductEnum.D);  
            body.setValidity(PlaceOrderRequest.ValidityEnum.DAY);  
            body.setPrice(0F);  
            body.setTag("string");  
            body.setInstrumentToken("NSE_EQ|INE669E01016");  
            body.orderType(PlaceOrderRequest.OrderTypeEnum.MARKET);  
            body.setTransactionType(PlaceOrderRequest.TransactionTypeEnum.BUY);  
            body.setDisclosedQuantity(0);  
            body.setTriggerPrice(0F);  
            body.setIsAmo(true);  
      
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                PlaceOrderResponse result = apiInstance.placeOrder(body, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#placeOrder ");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    POST /order/place

#### Request

Send API Request

Sandbox URLhttps://api-sandbox.upstox.com/v2

Live URLhttps://api-hft.upstox.com/v2

`Authorization`

Bearer

`Body` **required**
    
    
    {
    
    
      "quantity": 1,
    
    
      "product": "D",
    
    
      "validity": "DAY",
    
    
      "price": 0,
    
    
      "tag": "string",
    
    
      "instrument_token": "NSE_EQ|INE848E01016",
    
    
      "order_type": "MARKET",
    
    
      "transaction_type": "BUY",
    
    
      "disclosed_quantity": 0,
    
    
      "trigger_price": 0,
    
    
      "is_amo": false
    
    
    }
    


---
# Source: https://upstox.com/developer/api-documentation/modify-order
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Orders](<https://upstox.com/developer/api-documentation/orders>)
  * Modify Order



## Modify Order Sandbox Enabled Deprecated[â€‹](<https://upstox.com/developer/api-documentation/modify-order/#modify-order-sandbox-enabled-deprecated> "Direct link to heading")

API to modify an open or pending order.To perform a modification, the orderId is a required field. Along with the orderId, you should include any optional parameters that require modification. If no optional parameters are included in the modification request, the default values will be assumed from the original order.

### Request[â€‹](<https://upstox.com/developer/api-documentation/modify-order/#request> "Direct link to heading")
    
    
    curl --location --request PUT 'https://api-hft.upstox.com/v2/order/modify' \  
    --header 'Accept: application/json' \  
    --header 'Content-Type: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 2,  
      "validity": "DAY",  
      "price": 16.8,  
      "order_id": "240108010918222",  
      "order_type": "LIMIT",  
      "disclosed_quantity": 0,  
      "trigger_price": 16.9  
    }'  
    

Additional samples in various languages are available in the [Sample Code section](<https://upstox.com/developer/api-documentation/modify-order/#sample-code>) on this page.

### Request Body[â€‹](<https://upstox.com/developer/api-documentation/modify-order/#request-body> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
quantity| false| integer (int32)| Quantity with which the order was placed  
validity| true| string| Order validity (DAY- Day and IOC- Immediate or Cancel (IOC) order).   
Possible values: `DAY`, `IOC`.  
price| true| number (float)| Price at which the order was placed  
order_id| true| string| The order ID for which the order must be modified. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
order_type| true| string| Type of order. It can be one of the following  
MARKET refers to market order  
LIMILT refers to Limit Order  
SL refers to Stop Loss Limit  
SL-M refers to Stop Loss Market.   
Possible values: `MARKET`, `LIMIT`, `SL`, `SL-M`.  
disclosed_quantity| false| integer (int32)| Indicates the volume to be displayed in the market depth. If provided, this value must be non-zero.  
trigger_price| true| number (float)| If the order is a stop loss order then the trigger price to be set is mentioned here  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/modify-order/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "order_id": "1644490272000"  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Response data for modify order request  
data.order_id| string| Order ID  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/modify-order/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1004| **Valid order type is required** \- Please ensure you provide an acceptable type for the order.  
UDAPI1007| **Validity is required** \- You need to specify the duration or validity for the order.  
UDAPI1056| **The 'order_type' is invalid** \- The order type you've provided isn't recognized or accepted.  
UDAPI1055| **The 'validity' is invalid** \- The provided validity doesn't match any of the recognized types.  
UDAPI1008| **Price is required** \- Please specify the desired price for your order.  
UDAPI1036| **The 'trigger_price' is required** \- A trigger price must be specified for this type of order.  
UDAPI1030| **'price' is not required** \- For this order type, you don't need to specify a price.  
UDAPI1029| **'price' is required** \- A valid price must be provided for this type of order.  
UDAPI1031| **Price and Trigger price both are required** \- Both price values, regular and trigger, need to be provided for this order.  
UDAPI1032| **Only 'trigger_price' is required** \- For this type of order, only a trigger price value needs to be specified.  
UDAPI100049| **Access to this API has been restricted for your account. Please use 'Uplink Business' to place/modify/cancel the order.** \- Use 'Uplink Business' for order operations.  
UDAPI100010| **Order not found** \- The system couldn't locate the order you're referring to.  
UDAPI100041| **Modifications of already cancelled/rejected/completed orders is not allowed** \- You cannot make changes to orders that are already finalized in some manner.  
UDAPI1039| **Disclosed quantity should not be less than 10% of the quantity** \- The revealed amount in your order should be at least 10% of the total order amount.  
UDAPI1003| **Order id is required** \- Thrown when order number is not provided.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/modify-order/#sample-code> "Direct link to heading")

### Modify a delivery order[â€‹](<https://upstox.com/developer/api-documentation/modify-order/#modify-a-delivery-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request PUT 'https://api-hft.upstox.com/v2/order/modify' \  
    --header 'Accept: application/json' \  
    --header 'Content-Type: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 2,  
      "validity": "DAY",  
      "price": 16.8,  
      "order_id": "240108010918222",  
      "order_type": "LIMIT",  
      "disclosed_quantity": 0,  
      "trigger_price": 16.9  
    }'  
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v2/order/modify'  
    headers = {  
        'Accept': 'application/json',  
        'Content-Type': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    data = {  
        'quantity': 3,  
        'validity': 'DAY',  
        'price': 16.8,  
        'order_id': '240108010918222',  
        'order_type': 'LIMIT',  
        'disclosed_quantity': 0,  
        'trigger_price': 16.9  
    }  
      
    response = requests.put(url, headers=headers, json=data)  
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v2/order/modify';  
    const headers = {  
        'Accept': 'application/json',  
        'Content-Type': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    const data = {  
        'quantity': 2,  
        'validity': 'DAY',  
        'price': 16.8,  
        'order_id': '240108010918222',  
        'order_type': 'LIMIT',  
        'disclosed_quantity': 0,  
        'trigger_price': 16.9  
    };  
      
    axios.put(url, data, { headers })  
        .then(response => console.log(response.data))  
        .catch(error => console.error(error.response.data));  
      
    
    
    
    import java.io.OutputStream;  
    import java.net.HttpURLConnection;  
    import java.net.URL;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            try {  
                URL url = new URL("https://api-hft.upstox.com/v2/order/modify");  
                HttpURLConnection connection = (HttpURLConnection) url.openConnection();  
      
                connection.setRequestMethod("PUT");  
                connection.setRequestProperty("Accept", "application/json");  
                connection.setRequestProperty("Content-Type", "application/json");  
                connection.setRequestProperty("Authorization", "Bearer {your_access_token}");  
      
                connection.setDoOutput(true);  
      
                String data = "{\"quantity\": 2, \"validity\": \"DAY\", \"price\": 16.8, \"order_id\": \"240108010918222\", \"order_type\": \"LIMIT\", \"disclosed_quantity\": 0, \"trigger_price\": 16.9}";  
      
                try (OutputStream os = connection.getOutputStream()) {  
                    byte[] input = data.getBytes("utf-8");  
                    os.write(input, 0, input.length);  
                }  
      
                int responseCode = connection.getResponseCode();  
                System.out.println("Response Code: " + responseCode);  
      
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v2/order/modify';  
    $headers = array(  
        'Accept: application/json',  
        'Content-Type: application/json',  
        'Authorization: Bearer {your_access_token}'  
    );  
      
    $data = array(  
        'quantity' => 2,  
        'validity' => 'DAY',  
        'price' => 16.8,  
        'order_id' => '240108010918222',  
        'order_type' => 'LIMIT',  
        'disclosed_quantity' => 0,  
        'trigger_price' => 16.9  
    );  
      
    $ch = curl_init();  
      
    curl_setopt($ch, CURLOPT_URL, $url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);  
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'PUT');  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $result = curl_exec($ch);  
      
    if (curl_errno($ch)) {  
        echo 'Error: ' . curl_error($ch);  
    }  
      
    curl_close($ch);  
      
    echo $result;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    body = upstox_client.ModifyOrderRequest(2, "DAY", 0, "231222010275930", "MARKET", 0, 0)  
    api_version = '2.0'  # str | API Version Header  
      
    try:  
        # Modify order  
        api_response = api_instance.modify_order(body, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->modify_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.OrderApi();  
      
    let body = new UpstoxClient.ModifyOrderRequest(UpstoxClient.ModifyOrderRequest.ValidityEnum.DAY,0,"240111010331447",UpstoxClient.ModifyOrderRequest.OrderTypeEnum.MARKET,0);  
    let apiVersion = "2.0"; // String | API Version Header  
      
    apiInstance.modifyOrder(body, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.ModifyOrderRequest;  
    import com.upstox.api.ModifyOrderResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OrderApi apiInstance = new OrderApi();  
            ModifyOrderRequest body = new ModifyOrderRequest();  
            body.setQuantity(2);  
            body.setValidity(ModifyOrderRequest.ValidityEnum.DAY);  
            body.setPrice(0F);  
            body.setDisclosedQuantity(0);  
            body.setTriggerPrice(0F);  
            body.setOrderType(ModifyOrderRequest.OrderTypeEnum.MARKET);  
            body.setOrderId("240125010587640");  
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                ModifyOrderResponse result = apiInstance.modifyOrder(body, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#placeOrder ");  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    PUT /order/modify

#### Request

Send API Request

Sandbox URLhttps://api-sandbox.upstox.com/v2

Live URLhttps://api-hft.upstox.com/v2

`Authorization`

Bearer

`Body` **required**
    
    
    {
    
    
      "quantity": 1,
    
    
      "validity": "DAY",
    
    
      "price": 120.01,
    
    
      "order_id": "1644490272000",
    
    
      "order_type": "MARKET",
    
    
      "disclosed_quantity": 0,
    
    
      "trigger_price": 0
    
    
    }
    


---
# Source: https://upstox.com/developer/api-documentation/cancel-order
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Orders](<https://upstox.com/developer/api-documentation/orders>)
  * Cancel Order



## Cancel Order Sandbox Enabled Deprecated[â€‹](<https://upstox.com/developer/api-documentation/cancel-order/#cancel-order-sandbox-enabled-deprecated> "Direct link to heading")

API to cancel an open or pending which can be applied to both After Market Orders (AMO) and regular orders. It may also serve to exit a Cover Order (CO).

### Request[â€‹](<https://upstox.com/developer/api-documentation/cancel-order/#request> "Direct link to heading")
    
    
    curl --location --request DELETE 'https://api-hft.upstox.com/v2/order/cancel?order_id=240108010445130' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/cancel-order/#sample-code>) on this page.

  


### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/cancel-order/#query-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
order_id| true| string| The order ID for which the order must be cancelled. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/cancel-order/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "order_id": "1644490272000"  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Response data for Cancel order request  
data.order_id| string| Reference order ID  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/cancel-order/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1023| **Order id is required** \- Please ensure you provide an order id.  
UDAPI1010| **Order id accepts only alphanumeric characters and '-'.** \- The order id you've provided isn't accepted.  
UDAPI100049| **Access to this API has been restricted for your account. Please use 'Uplink Business' to place/modify/cancel the order.** \- Use 'Uplink Business' for order operations.  
UDAPI100010| **Order not found** \- The system couldn't locate the order you're referring to.  
UDAPI100040| **Cancel of already cancelled/rejected/completed order is not allowed** \- You cannot cancel orders that are already finalized in some manner.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/cancel-order/#sample-code> "Direct link to heading")

### Cancel an open order[â€‹](<https://upstox.com/developer/api-documentation/cancel-order/#cancel-an-open-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request DELETE 'https://api-hft.upstox.com/v2/order/cancel?order_id=240108010445130' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v2/order/cancel?order_id=240108010445130'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.delete(url, headers=headers)  
      
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v2/order/cancel?order_id=240108010445130';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}', // Replace {your_access_token} with the actual access token  
    };  
      
    axios.delete(url, { headers })  
        .then(response => {  
            console.log(response.data);  
        })  
        .catch(error => {  
            console.error(error.response ? error.response.data : error.message);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) throws Exception {  
            String url = "https://api-hft.upstox.com/v2/order/cancel?order_id=240108010913262";  
      
            // Replace with your actual values  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient client = HttpClient.newHttpClient();  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .DELETE()  
                    .build();  
      
            HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
      
            System.out.println("Response Code: " + response.statusCode());  
            System.out.println("Response Body: " + response.body());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v2/order/cancel?order_id=240108010445130';  
      
    // Replace with your actual values  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
      
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'DELETE');  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, array(  
        'Content-Type: application/json',  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader  
    ));  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'Response Code: ' . $httpCode . PHP_EOL;  
    echo 'Response Body: ' . $response . PHP_EOL;  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    order_id = '231221011081579'  
    api_version = '2.0'  
      
    try:  
        # Cancel order  
        api_response = api_instance.cancel_order(order_id, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->cancel_order: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.OrderApi();  
      
    let orderId = "240111010403654";  
    let apiVersion = "2.0";  
      
    apiInstance.cancelOrder(orderId, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.CancelOrderResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            OrderApi apiInstance = new OrderApi();  
            String orderId = "240125010599037";  
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                CancelOrderResponse result = apiInstance.cancelOrder(orderId,apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#placeOrder ");  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    DELETE /order/cancel

#### Request

Send API Request

Sandbox URLhttps://api-sandbox.upstox.com/v2

Live URLhttps://api-hft.upstox.com/v2

`Authorization`

Bearer

`order_id` â€” query **required**


---
# Source: https://upstox.com/developer/api-documentation/gtt-orders
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [ Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * GTT Orders



# GTT Orders

## [description Place GTT OrderPlace a Good Till Triggered order](<https://upstox.com/developer/api-documentation/place-gtt-order>)## [description Modify GTT OrderModify a Good Till Triggered order](<https://upstox.com/developer/api-documentation/modify-gtt-order>)## [description Cancel GTT OrderCancel a Good Till Triggered order](<https://upstox.com/developer/api-documentation/cancel-gtt-order>)## [description Get GTT Order DetailsGet the latest status and details for an order.](<https://upstox.com/developer/api-documentation/get-gtt-order-details>)


---
# Source: https://upstox.com/developer/api-documentation/place-gtt-order
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [GTT Orders](<https://upstox.com/developer/api-documentation/gtt-orders>)
  * Place GTT Order



## Place GTT Order[â€‹](<https://upstox.com/developer/api-documentation/place-gtt-order/#place-gtt-order> "Direct link to heading")

Good Till Triggered (GTT) order is a condition-based order that remains active until the defined condition (rule) is met. A **rule** is a precise condition that determines when the system should execute an order. This order can be executed as a single-leg or multi-leg operation, with each leg scheduled to place an order based on a specific rule. Once the condition is met, the order is placed automatically.

#### **Single-Leg Trigger**[â€‹](<https://upstox.com/developer/api-documentation/place-gtt-order/#single-leg-trigger> "Direct link to heading")

This order uses one rule to place an order when the condition is satisfied. The opening strategy is called **ENTRY** , where you define a condition to **BUY** or **SELL** a stock when the price is above, below, or equal to the trigger price. Once the order is placed, the GTT is complete.

#### **Multi-Leg Trigger**[â€‹](<https://upstox.com/developer/api-documentation/place-gtt-order/#multi-leg-trigger> "Direct link to heading")

This order involves more than one rule and includes follow-up actions. The **ENTRY** strategy remains the same as in the Single-Leg Trigger, but additional actions can be set.

You can follow the **ENTRY** strategy with:

  * **TARGET:** A condition to exit the position once the desired price level is reached.
  * **STOPLOSS:** A condition to exit the position when the price moves unfavorably beyond a set threshold.



For example, if your **ENTRY** is a **BUY** , the **TARGET** and **STOPLOSS** will be **SELL** orders, and vice versa.

#### **Trailing Stop Loss Order** Beta[â€‹](<https://upstox.com/developer/api-documentation/place-gtt-order/#trailing-stop-loss-order-beta> "Direct link to heading")

A trailing stop loss order is a dynamic order that automatically adjusts with market price movements, maintaining a consistent distance from the current market price as it moves.

Trailing Stop Loss (TSL) orders are implemented as Multi-leg GTT orders and in the **STOPLOSS** leg an additional parameter `trailing_gap` is required. This defines the consistent gap between your stop-loss and the market price, letting your stop-loss trail automatically. For more details on TSL orders, refer to our [Trailing Stop Loss Order](<https://upstox.com/learning-center/share-market/effective-use-of-trailing-stop-loss-example-and-techniques/>) article.

### Request[â€‹](<https://upstox.com/developer/api-documentation/place-gtt-order/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v3/order/gtt/place' \  
    --header 'accept: application/json' \  
    --header 'Content-Type: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "type": "SINGLE",  
      "quantity": 1,  
      "product": "D",  
      "rules": [  
        {  
          "strategy": "ENTRY",  
          "trigger_type": "ABOVE",  
          "trigger_price": 6  
        }  
      ],  
      "instrument_token": "NSE_EQ|INE669E01016",  
      "transaction_type": "BUY"  
    }'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/place-gtt-order/#sample-code>) on this page.

### Request Body[â€‹](<https://upstox.com/developer/api-documentation/place-gtt-order/#request-body> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
type| true| string| Specifies the GTT order type. Indicates if it's a single or multi-leg order.   
Possible values: `SINGLE`, `MULTIPLE`.  
quantity| true| integer| Quantity with which the order is to be placed.  
product| true| string| Signifies if the order was either Intraday, Delivery or MTF.   
Possible values: `I`, `D`, `MTF`.  
instrument_token| true| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
transaction_type| true| string| Indicates whether its a buy or sell order.   
Possible values: `BUY`, `SELL`.  
rules| true| array| Contains the conditions under which the order should be triggered.  
rules[].strategy| true| string| Defines the role of the rule.   
Possible values: `ENTRY`, `TARGET`, `STOPLOSS`  
  
**ENTRY** \- The initial condition to place a BUY or SELL order when the trigger price is met. Having an `ENTRY` rule is mandatory.   
**TARGET** \- A condition to exit the position once the desired price level is reached after the ENTRY order is executed.  
**STOPLOSS** \- A condition to exit the position when the price moves unfavorably beyond a set threshold.  
rules[].trigger_type| true| string| Specifies the condition for triggering the order. The ENTRY strategy can have `ABOVE`, `BELOW`, or `IMMEDIATE`, whereas TARGET and STOPLOSS strategies can only have `IMMEDIATE`.   
Possible values: `BELOW`, `ABOVE`, `IMMEDIATE`  
  
**BELOW** \- The order is triggered when the market price drops below the defined trigger price.  
**ABOVE** \- The order is triggered when the market price rises above the defined trigger price.  
**IMMEDIATE** \- Limit order at user-specified price is sent immediately to the exchange irrespective of the LTP. This order is valid for a day. If the primary leg gets completed then SL and Target legs are valid for 365 days.  
rules[].trigger_price| true| float| The price at which the order should be triggered based on the defined condition.  
rules[].trailing_gap| false| float| Only applicable for **STOPLOSS** strategy for **TSL** orders. This defines the consistent gap between your stop-loss and the market price, letting your stop-loss trail automatically.   
Note: The minimum value for trailing gap is 10% of difference between LTP and stop loss trigger price.  
  


**Responses**

  * 2XX
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/place-gtt-order/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "gtt_order_ids": ["GTT-CU25280200021013"]  
      },  
      "metadata": {  
        "latency": 88  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request.  
Possible values: `success`, `error`  
data| object| Response data for place order request  
data.gtt_order_ids[]| string| An array holding the GTT Order ID for the request placed  
metadata| object| Metadata information.  
metadata.latency| integer| The overall time taken by API platform to process the request, measured in milliseconds.  
  
### Error Codes[â€‹](<https://upstox.com/developer/api-documentation/place-gtt-order/#error-codes> "Direct link to heading")

Error Code| Description  
---|---  
UDAPI1126| **Valid GTT type is required** \- The request must specify a valid GTT type.  
UDAPI1127| **The 'type' is invalid** \- The provided GTT type is not recognized.  
UDAPI1128| **GTT rules are required** \- At least one valid rule must be specified.  
UDAPI1129| **GTT strategy is required** \- A strategy must be defined for the GTT order.  
UDAPI1130| **Invalid GTT strategy specified** \- The provided strategy is not supported.  
UDAPI1131| **GTT trigger_type is required** \- A trigger type must be specified.  
UDAPI1132| **Invalid GTT trigger_type specified** \- The provided trigger type is not recognized.  
UDAPI1133| **GTT trigger_price is required** \- A trigger price must be provided.  
UDAPI1136| **For SINGLE type, rules list must contain exactly one rule** \- A SINGLE type GTT can have only one rule.  
UDAPI1137| **For MULTIPLE type, the rules list must have at least 2 rules but no more than 3** \- MULTIPLE type GTT orders must adhere to this rule limit.  
UDAPI1138| **Rules contain an invalid strategy** \- One or more rules have an unsupported strategy.  
UDAPI1139| **A strategy can only be used once in the rules** \- Duplicate strategies are not allowed in the rules list.  
UDAPI1140| **Trigger price must be a positive value** \- Negative or zero trigger prices are not valid.  
UDAPI1141| **One ENTRY strategy is required** \- At least one ENTRY strategy must be included in the rules.  
UDAPI1142| **Rules contain an invalid trigger_type** \- One or more rules have an unsupported trigger type.  
UDAPI1143| **Non-ENTRY strategies must have only IMMEDIATE trigger type** \- Only the IMMEDIATE trigger type is allowed for non-ENTRY strategies.  
UDAPI1151| **Trailing gap cannot be less than minimum value** \- The minimum value for trailing gap is 10% of difference between LTP and stop loss trigger price.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/place-gtt-order/#sample-code> "Direct link to heading")

### Place Single Leg GTT Order[â€‹](<https://upstox.com/developer/api-documentation/place-gtt-order/#place-single-leg-gtt-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/order/gtt/place' \  
    --header 'accept: application/json' \  
    --header 'Content-Type: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "type": "SINGLE",  
      "quantity": 1,  
      "product": "D",  
      "rules": [  
        {  
          "strategy": "ENTRY",  
          "trigger_type": "ABOVE",  
          "trigger_price": 6  
        }  
      ],  
      "instrument_token": "NSE_EQ|INE669E01016",  
      "transaction_type": "BUY"  
    }'  
      
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/order/gtt/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        "type": "SINGLE",  
        "quantity": 1,  
        "product": "D",  
        "rules": [  
            {  
                "strategy": "ENTRY",  
                "trigger_type": "ABOVE",  
                "trigger_price": 6  
            }  
        ],  
        "instrument_token": "NSE_EQ|INE669E01016",  
        "transaction_type": "BUY"  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/order/gtt/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      type: 'SINGLE',  
      quantity: 1,  
      product: 'D',  
      rules: [  
        {  
          strategy: 'ENTRY',  
          trigger_type: 'ABOVE',  
          trigger_price: 6  
        }  
      ],  
      instrument_token: 'NSE_EQ|INE669E01016',  
      transaction_type: 'BUY'  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/order/gtt/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"type\": \"SINGLE\","  
                    + "\"quantity\": 1,"  
                    + "\"product\": \"D\","  
                    + "\"rules\": [{"  
                    + "\"strategy\": \"ENTRY\","  
                    + "\"trigger_type\": \"ABOVE\","  
                    + "\"trigger_price\": 6"  
                    + "}],"  
                    + "\"instrument_token\": \"NSE_EQ|INE669E01016\","  
                    + "\"transaction_type\": \"BUY\""  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/order/gtt/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'type' => 'SINGLE',  
        'quantity' => 1,  
        'product' => 'D',  
        'rules' => [  
            [  
                'strategy' => 'ENTRY',  
                'trigger_type' => 'ABOVE',  
                'trigger_price' => 6  
            ]  
        ],  
        'instrument_token' => 'NSE_EQ|INE669E01016',  
        'transaction_type' => 'BUY',  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApiV3(upstox_client.ApiClient(configuration))  
      
    entry_rule = upstox_client.GttRule(strategy="ENTRY", trigger_type="ABOVE", trigger_price=7)  
    rules = [entry_rule]  
      
    body = upstox_client.GttPlaceOrderRequest(  
        type="SINGLE",   
        instrument_token="NSE_EQ|INE669E01016",   
        product="D",   
        quantity=1,   
        rules=rules,   
        transaction_type="BUY"  
    )  
      
    try:  
        api_response = api_instance.place_gtt_order(body=body)  
        print("GTT order response:", api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->gtt_place_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApiV3();  
    let entryRule = new UpstoxClient.GttRule(  
        UpstoxClient.GttRule.StrategyEnum.ENTRY,   
        UpstoxClient.GttRule.TriggerTypeEnum.ABOVE,   
        100  
    );  
      
    let body = new UpstoxClient.GttPlaceOrderRequest(  
        UpstoxClient.GttPlaceOrderRequest.TypeEnum.SINGLE,   
        1,   
        UpstoxClient.GttPlaceOrderRequest.ProductEnum.D,   
        [entryRule],  
        "NSE_EQ|INE669E01016",   
        UpstoxClient.GttPlaceOrderRequest.TransactionTypeEnum.BUY  
    );  
      
    apiInstance.placeGTTOrder(body, (error, data, response) => {  
        if (error) {  
            console.error(error.response.text);  
        } else {  
            console.log('API called successfully. Returned data:', data);  
        }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import java.util.ArrayList;  
    import java.util.List;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            defaultClient.setAccessToken("{your_access_token}");  
              
            OrderApiV3 apiInstance = new OrderApiV3();  
            GttPlaceOrderRequest gttPlaceOrderRequest = new GttPlaceOrderRequest();  
            gttPlaceOrderRequest.setQuantity(1);  
            gttPlaceOrderRequest.setProduct(GttPlaceOrderRequest.ProductEnum.D);  
            gttPlaceOrderRequest.setInstrumentToken("NSE_EQ|INE669E01016");  
            gttPlaceOrderRequest.setType(GttPlaceOrderRequest.TypeEnum.SINGLE);  
            gttPlaceOrderRequest.setTransactionType(GttPlaceOrderRequest.TransactionTypeEnum.BUY);  
              
            List<GttRule> gttRules = new ArrayList<>();  
              
            GttRule entryRule = new GttRule();  
            entryRule.setStrategy(GttRule.StrategyEnum.ENTRY);  
            entryRule.setTriggerType(GttRule.TriggerTypeEnum.ABOVE);  
            entryRule.setTriggerPrice(7D);  
            gttRules.add(entryRule);  
      
            gttPlaceOrderRequest.setRules(gttRules);  
      
            try {  
                GttTriggerOrderResponse result = apiInstance.placeGTTOrder(gttPlaceOrderRequest);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi->placeGTTOrder: " + e.getMessage());  
            }  
        }  
    }  
    

### Place Multiple Leg GTT Order[â€‹](<https://upstox.com/developer/api-documentation/place-gtt-order/#place-multiple-leg-gtt-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/order/gtt/place' \  
    --header 'accept: application/json' \  
    --header 'Content-Type: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "type": "MULTIPLE",  
      "quantity": 1,  
      "product": "I",  
      "rules": [  
        {  
          "strategy": "ENTRY",  
          "trigger_type": "ABOVE",  
          "trigger_price": 7.3  
        },  
        {  
          "strategy": "TARGET",  
          "trigger_type": "IMMEDIATE",  
          "trigger_price": 9  
        },  
        {  
          "strategy": "STOPLOSS",  
          "trigger_type": "IMMEDIATE",  
          "trigger_price": 6  
        }  
      ],  
      "instrument_token": "NSE_EQ|INE669E01016",  
      "transaction_type": "BUY"  
    }'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/order/gtt/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        "type": "MULTIPLE",  
        "quantity": 1,  
        "product": "I",  
        "rules": [  
            {  
                "strategy": "ENTRY",  
                "trigger_type": "ABOVE",  
                "trigger_price": 7.3  
            },  
            {  
                "strategy": "TARGET",  
                "trigger_type": "IMMEDIATE",  
                "trigger_price": 9  
            },  
            {  
                "strategy": "STOPLOSS",  
                "trigger_type": "IMMEDIATE",  
                "trigger_price": 6  
            }  
        ],  
        "instrument_token": "NSE_EQ|INE669E01016",  
        "transaction_type": "BUY"  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/order/gtt/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      type: 'MULTIPLE',  
      quantity: 1,  
      product: 'I',  
      rules: [  
        {  
          strategy: 'ENTRY',  
          trigger_type: 'ABOVE',  
          trigger_price: 7.3  
        },  
        {  
          strategy: 'TARGET',  
          trigger_type: 'IMMEDIATE',  
          trigger_price: 9  
        },  
        {  
          strategy: 'STOPLOSS',  
          trigger_type: 'IMMEDIATE',  
          trigger_price: 6  
        }  
      ],  
      instrument_token: 'NSE_EQ|INE669E01016',  
      transaction_type: 'BUY'  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/order/gtt/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"type\": \"MULTIPLE\","  
                    + "\"quantity\": 1,"  
                    + "\"product\": \"I\","  
                    + "\"rules\": ["  
                    + "{"  
                    + "\"strategy\": \"ENTRY\","  
                    + "\"trigger_type\": \"ABOVE\","  
                    + "\"trigger_price\": 7.3"  
                    + "},"  
                    + "{"  
                    + "\"strategy\": \"TARGET\","  
                    + "\"trigger_type\": \"IMMEDIATE\","  
                    + "\"trigger_price\": 9"  
                    + "},"  
                    + "{"  
                    + "\"strategy\": \"STOPLOSS\","  
                    + "\"trigger_type\": \"IMMEDIATE\","  
                    + "\"trigger_price\": 6"  
                    + "}"  
                    + "],"  
                    + "\"instrument_token\": \"NSE_EQ|INE669E01016\","  
                    + "\"transaction_type\": \"BUY\""  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/order/gtt/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'type' => 'MULTIPLE',  
        'quantity' => 1,  
        'product' => 'I',  
        'rules' => [  
            [  
                'strategy' => 'ENTRY',  
                'trigger_type' => 'ABOVE',  
                'trigger_price' => 7.3  
            ],  
            [  
                'strategy' => 'TARGET',  
                'trigger_type' => 'IMMEDIATE',  
                'trigger_price' => 9  
            ],  
            [  
                'strategy' => 'STOPLOSS',  
                'trigger_type' => 'IMMEDIATE',  
                'trigger_price' => 6  
            ]  
        ],  
        'instrument_token' => 'NSE_EQ|INE669E01016',  
        'transaction_type' => 'BUY',  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApiV3(upstox_client.ApiClient(configuration))  
      
    entry_rule = upstox_client.GttRule(strategy="ENTRY", trigger_type="ABOVE", trigger_price=7)  
    target_rule = upstox_client.GttRule(strategy="TARGET", trigger_type="IMMEDIATE", trigger_price=9)  
    stoploss_rule = upstox_client.GttRule(strategy="STOPLOSS", trigger_type="IMMEDIATE", trigger_price=5)  
    rules = [entry_rule, target_rule, stoploss_rule]  
      
    body = upstox_client.GttPlaceOrderRequest(  
        type="MULTIPLE",   
        instrument_token="NSE_EQ|INE669E01016",   
        product="D",   
        quantity=1,   
        rules=rules,   
        transaction_type="BUY"  
    )  
      
    try:  
        api_response = api_instance.place_gtt_order(body=body)  
        print("GTT order response:", api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->gtt_place_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApiV3();  
    let entryRule = new UpstoxClient.GttRule(  
        UpstoxClient.GttRule.StrategyEnum.ENTRY,   
        UpstoxClient.GttRule.TriggerTypeEnum.ABOVE,   
        100  
    );  
    let stopLossRule = new UpstoxClient.GttRule(  
        UpstoxClient.GttRule.StrategyEnum.STOPLOSS,   
        UpstoxClient.GttRule.TriggerTypeEnum.IMMEDIATE,   
        80  
    );  
    let targetRule = new UpstoxClient.GttRule(  
        UpstoxClient.GttRule.StrategyEnum.TARGET,   
        UpstoxClient.GttRule.TriggerTypeEnum.IMMEDIATE,   
        120  
    );  
      
    let body = new UpstoxClient.GttPlaceOrderRequest(  
        UpstoxClient.GttPlaceOrderRequest.TypeEnum.MULTIPLE,   
        1,   
        UpstoxClient.GttPlaceOrderRequest.ProductEnum.D,   
        [entryRule,stopLossRule,targetRule],  
        "NSE_EQ|INE669E01016",   
        UpstoxClient.GttPlaceOrderRequest.TransactionTypeEnum.BUY  
    );  
      
    apiInstance.placeGTTOrder(body, (error, data, response) => {  
        if (error) {  
            console.error(error.response.text);  
        } else {  
            console.log('API called successfully. Returned data:', data);  
        }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import java.util.ArrayList;  
    import java.util.List;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            defaultClient.setAccessToken("{your_access_token}");  
              
            OrderApiV3 apiInstance = new OrderApiV3();  
            GttPlaceOrderRequest gttPlaceOrderRequest = new GttPlaceOrderRequest();  
            gttPlaceOrderRequest.setQuantity(1);  
            gttPlaceOrderRequest.setProduct(GttPlaceOrderRequest.ProductEnum.D);  
            gttPlaceOrderRequest.setInstrumentToken("NSE_EQ|INE669E01016");  
            gttPlaceOrderRequest.setType(GttPlaceOrderRequest.TypeEnum.MULTIPLE);  
            gttPlaceOrderRequest.setTransactionType(GttPlaceOrderRequest.TransactionTypeEnum.BUY);  
              
            List<GttRule> gttRules = new ArrayList<>();  
              
            GttRule entryRule = new GttRule();  
            entryRule.setStrategy(GttRule.StrategyEnum.ENTRY);  
            entryRule.setTriggerType(GttRule.TriggerTypeEnum.ABOVE);  
            entryRule.setTriggerPrice(7D);  
            gttRules.add(entryRule);  
      
            GttRule stopLossRule = new GttRule();  
            stopLossRule.setStrategy(GttRule.StrategyEnum.STOPLOSS);  
            stopLossRule.setTriggerType(GttRule.TriggerTypeEnum.IMMEDIATE);  
            stopLossRule.setTriggerPrice(6D);  
            gttRules.add(stopLossRule);  
      
            GttRule targetRule = new GttRule();  
            targetRule.setStrategy(GttRule.StrategyEnum.TARGET);  
            targetRule.setTriggerType(GttRule.TriggerTypeEnum.IMMEDIATE);  
            targetRule.setTriggerPrice(60D);  
            gttRules.add(targetRule);  
      
            gttPlaceOrderRequest.setRules(gttRules);  
      
            try {  
                GttTriggerOrderResponse result = apiInstance.placeGTTOrder(gttPlaceOrderRequest);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi->placeGTTOrder: " + e.getMessage());  
            }  
        }  
    }  
    

### Place Trailing Stop Loss GTT Order[â€‹](<https://upstox.com/developer/api-documentation/place-gtt-order/#place-trailing-stop-loss-gtt-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP


    
    
    curl --location 'https://api.upstox.com/v3/order/gtt/place' \  
    --header 'accept: application/json' \  
    --header 'Content-Type: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "type": "MULTIPLE",  
      "quantity": 1,  
      "product": "I",  
      "rules": [  
        {  
          "strategy": "ENTRY",  
          "trigger_type": "ABOVE",  
          "trigger_price": 7.3  
        },  
        {  
          "strategy": "TARGET",  
          "trigger_type": "IMMEDIATE",  
          "trigger_price": 9  
        },  
        {  
          "strategy": "STOPLOSS",  
          "trigger_type": "IMMEDIATE",  
          "trigger_price": 6,  
          "trailing_gap": 0.1  
        }  
      ],  
      "instrument_token": "NSE_EQ|INE669E01016",  
      "transaction_type": "BUY"  
    }'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/order/gtt/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        "type": "MULTIPLE",  
        "quantity": 1,  
        "product": "I",  
        "rules": [  
            {  
                "strategy": "ENTRY",  
                "trigger_type": "ABOVE",  
                "trigger_price": 7.3  
            },  
            {  
                "strategy": "TARGET",  
                "trigger_type": "IMMEDIATE",  
                "trigger_price": 9  
            },  
            {  
                "strategy": "STOPLOSS",  
                "trigger_type": "IMMEDIATE",  
                "trigger_price": 6,  
                "trailing_gap": 0.1  
            }  
        ],  
        "instrument_token": "NSE_EQ|INE669E01016",  
        "transaction_type": "BUY"  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/order/gtt/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      type: 'MULTIPLE',  
      quantity: 1,  
      product: 'I',  
      rules: [  
        {  
          strategy: 'ENTRY',  
          trigger_type: 'ABOVE',  
          trigger_price: 7.3  
        },  
        {  
          strategy: 'TARGET',  
          trigger_type: 'IMMEDIATE',  
          trigger_price: 9  
        },  
        {  
          strategy: 'STOPLOSS',  
          trigger_type: 'IMMEDIATE',  
          trigger_price: 6,  
          trailing_gap: 0.1  
        }  
      ],  
      instrument_token: 'NSE_EQ|INE669E01016',  
      transaction_type: 'BUY'  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/order/gtt/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"type\": \"MULTIPLE\","  
                    + "\"quantity\": 1,"  
                    + "\"product\": \"I\","  
                    + "\"rules\": ["  
                    + "{"  
                    + "\"strategy\": \"ENTRY\","  
                    + "\"trigger_type\": \"ABOVE\","  
                    + "\"trigger_price\": 7.3"  
                    + "},"  
                    + "{"  
                    + "\"strategy\": \"TARGET\","  
                    + "\"trigger_type\": \"IMMEDIATE\","  
                    + "\"trigger_price\": 9"  
                    + "},"  
                    + "{"  
                    + "\"strategy\": \"STOPLOSS\","  
                    + "\"trigger_type\": \"IMMEDIATE\","  
                    + "\"trigger_price\": 6,"  
                    + "\"trailing_gap\": 0.1"  
                    + "}"  
                    + "],"  
                    + "\"instrument_token\": \"NSE_EQ|INE669E01016\","  
                    + "\"transaction_type\": \"BUY\""  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/order/gtt/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'type' => 'MULTIPLE',  
        'quantity' => 1,  
        'product' => 'I',  
        'rules' => [  
            [  
                'strategy' => 'ENTRY',  
                'trigger_type' => 'ABOVE',  
                'trigger_price' => 7.3  
            ],  
            [  
                'strategy' => 'TARGET',  
                'trigger_type' => 'IMMEDIATE',  
                'trigger_price' => 9  
            ],  
            [  
                'strategy' => 'STOPLOSS',  
                'trigger_type' => 'IMMEDIATE',  
                'trigger_price' => 6,  
                'trailing_gap' => 0.1  
            ]  
        ],  
        'instrument_token' => 'NSE_EQ|INE669E01016',  
        'transaction_type' => 'BUY',  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    POST /order/gtt/place

#### Request

Live URLhttps://api.upstox.com/v3

`Authorization`

Bearer

Note

  * A GTT order is always placed as a LIMIT order upon execution.
  * To place GTT orders with a SELL leg, EDIS authorization is required. You can authorize EDIS from any of our platformsâ€”Web, iOS, or Android by placing a GTT order. Once authorized on any one platform, it will also be valid for API-based orders. You don't need to complete the order; simply going through the authorization flow is sufficient.
  * We currently support a maximum of three rules with no duplicate strategies.
  * A GTT order remains valid for up to one year from the date of creation if the defined condition is not met.
  * Receiving GTT order updates via **Webhook** requires additional setup, detailed [here](<https://upstox.com/developer/api-documentation/webhook>).
  * Receiving GTT order updates via **WebSocket** requires additional setup, detailed [here](<https://upstox.com/developer/api-documentation/get-portfolio-stream-feed#query-parameters>).




---
# Source: https://upstox.com/developer/api-documentation/modify-gtt-order
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [GTT Orders](<https://upstox.com/developer/api-documentation/gtt-orders>)
  * Modify GTT Order



## Modify GTT Order[â€‹](<https://upstox.com/developer/api-documentation/modify-gtt-order/#modify-gtt-order> "Direct link to heading")

This API allows to modify an existing Good Till Trigger (GTT) order by modifying its parameters, such as quantity, trigger price, or strategy rules. This ensures flexibility in adjusting trade conditions without canceling and re-creating the order.

### Request[â€‹](<https://upstox.com/developer/api-documentation/modify-gtt-order/#request> "Direct link to heading")
    
    
    curl --location --request PUT 'https://api.upstox.com/v3/order/gtt/modify' \  
    --header 'accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --header 'Content-Type: application/json' \  
    --data '{  
      "type": "SINGLE",  
      "quantity": 1,  
      "rules": [  
        {  
          "strategy": "ENTRY",  
          "trigger_type": "ABOVE",  
          "trigger_price": 7.3  
        }  
      ],  
      "gtt_order_id": "GTT-C25270200137952"  
    }'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/modify-gtt-order/#sample-code>) on this page.

### Request Body[â€‹](<https://upstox.com/developer/api-documentation/modify-gtt-order/#request-body> "Direct link to heading")

  * Single-Leg
  * Multi-Leg
  * Trailing Stop Loss


    
    
    {  
      "type": "SINGLE",  
      "quantity": 1,  
      "rules": [  
        {  
          "strategy": "ENTRY",  
          "trigger_type": "BELOW",  
          "trigger_price": 30  
        }  
      ],  
      "gtt_order_id": "GTT-CU25090600027002"  
    }  
    
    
    
    {  
      "type": "MULTIPLE",  
      "quantity": 1,  
      "gtt_order_id": "GTT-221130000253265",  
      "rules": [  
        {  
          "strategy": "ENTRY",  
          "trigger_type": "BELOW",  
          "trigger_price": 2.57  
        },  
        {  
          "strategy": "TARGET",  
          "trigger_type": "IMMEDIATE",  
          "trigger_price": 2.6  
        },  
        {  
          "strategy": "STOPLOSS",  
          "trigger_type": "IMMEDIATE",  
          "trigger_price": 2.55  
        }  
      ]  
    }  
    
    
    
    {  
      "type": "MULTIPLE",  
      "quantity": 1,  
      "gtt_order_id": "GTT-221130000253265",  
      "rules": [  
        {  
          "strategy": "ENTRY",  
          "trigger_type": "BELOW",  
          "trigger_price": 2.57  
        },  
        {  
          "strategy": "TARGET",  
          "trigger_type": "IMMEDIATE",  
          "trigger_price": 2.6,  
          "trailing_gap": 0.1  
        },  
        {  
          "strategy": "STOPLOSS",  
          "trigger_type": "IMMEDIATE",  
          "trigger_price": 2.55  
        }  
      ]  
    }  
    

Name| Required| Type| Description  
---|---|---|---  
type| true| string| Specifies the GTT order type. Indicates if it's a single or multi-leg order.   
Possible values: `SINGLE`, `MULTIPLE`.  
quantity| true| integer| The quantity for which the order is to be placed. Note that once an order has reached `OPEN` status, its quantity cannot be modified.  
gtt_order_id| true| string| The order ID for which the order must be modified.  
rules| true| array| Contains the conditions under which the order should be triggered.  
rules[].strategy| true| string| Defines the role of the rule.   
Possible values: `ENTRY`, `TARGET`, `STOPLOSS`  
  
**ENTRY** \- The initial condition to place a BUY or SELL order when the trigger price is met. Having an `ENTRY` rule is mandatory.   
**TARGET** \- A condition to exit the position once the desired price level is reached after the ENTRY order is executed.  
**STOPLOSS** \- A condition to exit the position when the price moves unfavorably beyond a set threshold.  
rules[].trigger_type| true| string| Specifies the condition for triggering the order. The ENTRY strategy can have `ABOVE`, `BELOW`, or `IMMEDIATE`, whereas TARGET and STOPLOSS strategies can only have `IMMEDIATE`.   
  
**Note** : In case of `ENTRY` strategy and order status as `OPEN` only `IMMEDIATE` trigger_type is allowed.  
  
Possible values:  
**BELOW** \- The order is triggered when the market price drops below the defined trigger price.  
**ABOVE** \- The order is triggered when the market price rises above the defined trigger price.  
**IMMEDIATE** \- Limit order at user-specified price is sent immediately to the exchange irrespective of the LTP. This order is valid for a day. If the primary leg gets completed then SL and Target legs are valid for 365 days.  
rules[].trigger_price| true| float| The price at which the order should be triggered based on the defined condition.  
rules[].trailing_gap| false| float| Only applicable for **STOPLOSS** strategy for **TSL** orders. This defines the consistent gap between your stop-loss and the market price, letting your stop-loss trail automatically.  
  


**Responses**

  * 2XX
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/modify-gtt-order/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "gtt_order_ids": ["GTT-CU25280200021013"]  
      },  
      "metadata": {  
        "latency": 74  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request.  
Possible values: `success`, `error`  
data| object| Response data for modify order request.  
data.gtt_order_ids[]| string| An array holding the GTT Order ID for the request placed  
metadata| object| Metadata information.  
metadata.latency| integer| The overall time taken by API platform to process the request, measured in milliseconds.  
  
### Error Codes[â€‹](<https://upstox.com/developer/api-documentation/modify-gtt-order/#error-codes> "Direct link to heading")

Error Code| Description  
---|---  
UDAPI1126| **Valid GTT type is required** \- The request must specify a valid GTT type.  
UDAPI1127| **The 'type' is invalid** \- The provided GTT type is not recognized.  
UDAPI1128| **GTT rules are required** \- At least one valid rule must be specified.  
UDAPI1129| **GTT strategy is required** \- A strategy must be defined for the GTT order.  
UDAPI1130| **Invalid GTT strategy specified** \- The provided strategy is not supported.  
UDAPI1131| **GTT trigger_type is required** \- A trigger type must be specified.  
UDAPI1132| **Invalid GTT trigger_type specified** \- The provided trigger type is not recognized.  
UDAPI1133| **GTT trigger_price is required** \- A trigger price must be provided.  
UDAPI1134| **gtt_order_id is required** \- The request must include a valid GTT order ID.  
UDAPI1135| **GTT order ID must start with 'GTT-'** \- The order ID should follow the required format.  
UDAPI1136| **For SINGLE type, rules list must contain exactly one rule** \- A SINGLE type GTT can have only one rule.  
UDAPI1137| **For MULTIPLE type, the rules list must have at least 2 rules but no more than 3** \- MULTIPLE type GTT orders must adhere to this rule limit.  
UDAPI1138| **Rules contain an invalid strategy** \- One or more rules have an unsupported strategy.  
UDAPI1139| **A strategy can only be used once in the rules** \- Duplicate strategies are not allowed in the rules list.  
UDAPI1140| **Trigger price must be a positive value** \- Negative or zero trigger prices are not valid.  
UDAPI1141| **One ENTRY strategy is required** \- At least one ENTRY strategy must be included in the rules.  
UDAPI1142| **Rules contain an invalid trigger_type** \- One or more rules have an unsupported trigger type.  
UDAPI1143| **Non-ENTRY strategies must have only IMMEDIATE trigger type** \- Only the IMMEDIATE trigger type is allowed for non-ENTRY strategies.  
UDAPI1150| **Only IMMEDIATE trigger type is allowed when modifying open GTT orders** \- Once a GTT order is in open status, modifications can only use the IMMEDIATE trigger type.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/modify-gtt-order/#sample-code> "Direct link to heading")

### Modify Single Leg GTT Order[â€‹](<https://upstox.com/developer/api-documentation/modify-gtt-order/#modify-single-leg-gtt-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request PUT 'https://api.upstox.com/v3/order/gtt/modify' \  
    --header 'accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --header 'Content-Type: application/json' \  
    --data '{  
      "type": "SINGLE",  
      "quantity": 1,  
      "rules": [  
        {  
          "strategy": "ENTRY",  
          "trigger_type": "ABOVE",  
          "trigger_price": 7.3  
        }  
      ],  
      "gtt_order_id": "GTT-C25270200137952"  
    }'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/order/gtt/modify'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        "type": "SINGLE",  
        "quantity": 1,  
        "rules": [  
            {  
                "strategy": "ENTRY",  
                "trigger_type": "ABOVE",  
                "trigger_price": 7.3  
            }  
        ],  
        "gtt_order_id": "GTT-C25270200137952"  
    }  
      
    try:  
        # Send the PUT request  
        response = requests.put(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/order/gtt/modify';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      type: 'SINGLE',  
      quantity: 1,  
      rules: [  
        {  
          strategy: 'ENTRY',  
          trigger_type: 'ABOVE',  
          trigger_price: 7.3  
        }  
      ],  
      gtt_order_id: 'GTT-C25270200137952'  
    };  
      
    axios.put(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/order/gtt/modify";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"type\": \"SINGLE\","  
                    + "\"quantity\": 1,"  
                    + "\"rules\": ["  
                    + "{"  
                    + "\"strategy\": \"ENTRY\","  
                    + "\"trigger_type\": \"ABOVE\","  
                    + "\"trigger_price\": 7.3"  
                    + "}"  
                    + "],"  
                    + "\"gtt_order_id\": \"GTT-C25270200137952\""  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .PUT(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/order/gtt/modify';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'type' => 'SINGLE',  
        'quantity' => 1,  
        'rules' => [  
            [  
                'strategy' => 'ENTRY',  
                'trigger_type' => 'ABOVE',  
                'trigger_price' => 7.3  
            ]  
        ],  
        'gtt_order_id' => 'GTT-C25270200137952'  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'PUT');  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApiV3(upstox_client.ApiClient(configuration))  
      
    entry_rule = upstox_client.GttRule(strategy="ENTRY", trigger_type="ABOVE", trigger_price=7.3)  
    rules = [entry_rule]  
      
    body = upstox_client.GttModifyOrderRequest(  
        type="SINGLE",   
        gtt_order_id="GTT-C25270200137952",  
        rules=rules,  
        quantity=1  
    )  
      
    try:  
        api_response = api_instance.modify_gtt_order(body=body)  
        print("GTT order response:", api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->modify_gtt_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApiV3();  
    let entryRule = new UpstoxClient.GttRule(  
        UpstoxClient.GttRule.StrategyEnum.ENTRY,   
        UpstoxClient.GttRule.TriggerTypeEnum.ABOVE,   
        100  
    );  
      
    let body = new UpstoxClient.GttModifyOrderRequest(  
        UpstoxClient.GttModifyOrderRequest.TypeEnum.SINGLE,   
        1,   
        [entryRule],   
        "GTT-C25270200137952"  
    );  
      
    apiInstance.modifyGTTOrder(body, (error, data, response) => {  
        if (error) {  
            console.error(error.response.text);  
        } else {  
            console.log('API called successfully. Returned data:', data);  
        }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import java.util.ArrayList;  
    import java.util.List;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            defaultClient.setAccessToken("{your_access_token}");  
              
            OrderApiV3 apiInstance = new OrderApiV3();  
            List<GttRule> gttRules = new ArrayList<>();  
              
            GttRule entryRule = new GttRule();  
            entryRule.setStrategy(GttRule.StrategyEnum.ENTRY);  
            entryRule.setTriggerType(GttRule.TriggerTypeEnum.ABOVE);  
            entryRule.setTriggerPrice(7.3D);  
            gttRules.add(entryRule);  
      
            GttModifyOrderRequest modifyOrderRequest = new GttModifyOrderRequest();  
            modifyOrderRequest.setQuantity(1);  
            modifyOrderRequest.setGttOrderId("GTT-C25270200137952");  
            modifyOrderRequest.setType(GttModifyOrderRequest.TypeEnum.SINGLE);  
            modifyOrderRequest.setRules(gttRules);  
      
            try {  
                GttTriggerOrderResponse result = apiInstance.modifyGTTOrder(modifyOrderRequest);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi->modifyGTTOrder: " + e.getMessage());  
            }  
        }  
    }  
    

### Modify Multiple Leg GTT Order[â€‹](<https://upstox.com/developer/api-documentation/modify-gtt-order/#modify-multiple-leg-gtt-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request PUT 'https://api.upstox.com/v3/order/gtt/modify' \  
    --header 'accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --header 'Content-Type: application/json' \  
    --data '{  
      "type": "MULTIPLE",  
      "quantity": 1,  
      "rules": [  
        {  
          "strategy": "ENTRY",  
          "trigger_type": "ABOVE",  
          "trigger_price": 7.3  
        },  
        {  
          "strategy": "TARGET",  
          "trigger_type": "IMMEDIATE",  
          "trigger_price": 7.64  
        },  
        {  
          "strategy": "STOPLOSS",  
          "trigger_type": "IMMEDIATE",  
          "trigger_price": 7.1  
        }  
      ],  
      "gtt_order_id": "GTT-C25280200137522"  
    }'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/order/gtt/modify'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        "type": "MULTIPLE",  
        "quantity": 1,  
        "rules": [  
            {  
                "strategy": "ENTRY",  
                "trigger_type": "ABOVE",  
                "trigger_price": 7.3  
            },  
            {  
                "strategy": "TARGET",  
                "trigger_type": "IMMEDIATE",  
                "trigger_price": 7.64  
            },  
            {  
                "strategy": "STOPLOSS",  
                "trigger_type": "IMMEDIATE",  
                "trigger_price": 7.1  
            }  
        ],  
        "gtt_order_id": "GTT-C25280200137522"  
    }  
      
    try:  
        # Send the PUT request  
        response = requests.put(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/order/gtt/modify';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      type: 'MULTIPLE',  
      quantity: 1,  
      rules: [  
        {  
          strategy: 'ENTRY',  
          trigger_type: 'ABOVE',  
          trigger_price: 7.3  
        },  
        {  
          strategy: 'TARGET',  
          trigger_type: 'IMMEDIATE',  
          trigger_price: 7.64  
        },  
        {  
          strategy: 'STOPLOSS',  
          trigger_type: 'IMMEDIATE',  
          trigger_price: 7.1  
        }  
      ],  
      gtt_order_id: 'GTT-C25280200137522'  
    };  
      
    axios.put(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/order/gtt/modify";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"type\": \"MULTIPLE\","  
                    + "\"quantity\": 1,"  
                    + "\"rules\": ["  
                    + "{"  
                    + "\"strategy\": \"ENTRY\","  
                    + "\"trigger_type\": \"ABOVE\","  
                    + "\"trigger_price\": 7.3"  
                    + "},"  
                    + "{"  
                    + "\"strategy\": \"TARGET\","  
                    + "\"trigger_type\": \"IMMEDIATE\","  
                    + "\"trigger_price\": 7.64"  
                    + "},"  
                    + "{"  
                    + "\"strategy\": \"STOPLOSS\","  
                    + "\"trigger_type\": \"IMMEDIATE\","  
                    + "\"trigger_price\": 7.1"  
                    + "}"  
                    + "],"  
                    + "\"gtt_order_id\": \"GTT-C25280200137522\""  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .PUT(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/order/gtt/modify';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'type' => 'MULTIPLE',  
        'quantity' => 1,  
        'rules' => [  
            [  
                'strategy' => 'ENTRY',  
                'trigger_type' => 'ABOVE',  
                'trigger_price' => 7.3  
            ],  
            [  
                'strategy' => 'TARGET',  
                'trigger_type' => 'IMMEDIATE',  
                'trigger_price' => 7.64  
            ],  
            [  
                'strategy' => 'STOPLOSS',  
                'trigger_type' => 'IMMEDIATE',  
                'trigger_price' => 7.1  
            ]  
        ],  
        'gtt_order_id' => 'GTT-C25280200137522'  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'PUT');  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApiV3(upstox_client.ApiClient(configuration))  
      
    entry_rule = upstox_client.GttRule(strategy="ENTRY", trigger_type="ABOVE", trigger_price=7.3)  
    target_rule = upstox_client.GttRule(strategy="TARGET", trigger_type="IMMEDIATE", trigger_price=7.64)  
    stoploss_rule = upstox_client.GttRule(strategy="STOPLOSS", trigger_type="IMMEDIATE", trigger_price=7.1)  
    rules = [entry_rule, target_rule, stoploss_rule]  
      
    body = upstox_client.GttModifyOrderRequest(  
        type="MULTIPLE",   
        gtt_order_id="GTT-C25280200137522",  
        rules=rules,  
        quantity=1  
    )  
      
    try:  
        api_response = api_instance.modify_gtt_order(body=body)  
        print("GTT order response:", api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->modify_gtt_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApiV3();  
    let entryRule = new UpstoxClient.GttRule(  
        UpstoxClient.GttRule.StrategyEnum.ENTRY,   
        UpstoxClient.GttRule.TriggerTypeEnum.ABOVE,   
        7.3  
    );  
    let targetRule = new UpstoxClient.GttRule(  
        UpstoxClient.GttRule.StrategyEnum.TARGET,  
        UpstoxClient.GttRule.TriggerTypeEnum.IMMEDIATE,  
        7.64  
    );  
    let stopLossRule = new UpstoxClient.GttRule(  
        UpstoxClient.GttRule.StrategyEnum.STOPLOSS,  
        UpstoxClient.GttRule.TriggerTypeEnum.IMMEDIATE,  
        7.1  
    );  
      
    let body = new UpstoxClient.GttModifyOrderRequest(  
        UpstoxClient.GttModifyOrderRequest.TypeEnum.MULTIPLE,  
        1,  
        [entryRule, targetRule, stopLossRule],  
        "GTT-C25280200137522"  
    );  
      
    apiInstance.modifyGTTOrder(body, (error, data, response) => {  
        if (error) {  
            console.error(error.response.text);  
        } else {  
            console.log('API called successfully. Returned data:', data);  
        }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import java.util.ArrayList;  
    import java.util.List;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            defaultClient.setAccessToken("{your_access_token}");  
              
            OrderApiV3 apiInstance = new OrderApiV3();  
            List<GttRule> gttRules = new ArrayList<>();  
              
            GttRule entryRule = new GttRule();  
            entryRule.setStrategy(GttRule.StrategyEnum.ENTRY);  
            entryRule.setTriggerType(GttRule.TriggerTypeEnum.ABOVE);  
            entryRule.setTriggerPrice(7.3D);  
            gttRules.add(entryRule);  
      
            GttRule targetRule = new GttRule();  
            targetRule.setStrategy(GttRule.StrategyEnum.TARGET);  
            targetRule.setTriggerType(GttRule.TriggerTypeEnum.IMMEDIATE);  
            targetRule.setTriggerPrice(7.64D);  
            gttRules.add(targetRule);  
      
            GttRule stopLossRule = new GttRule();  
            stopLossRule.setStrategy(GttRule.StrategyEnum.STOPLOSS);  
            stopLossRule.setTriggerType(GttRule.TriggerTypeEnum.IMMEDIATE);  
            stopLossRule.setTriggerPrice(7.1D);  
            gttRules.add(stopLossRule);  
      
            GttModifyOrderRequest modifyOrderRequest = new GttModifyOrderRequest();  
            modifyOrderRequest.setQuantity(1);  
            modifyOrderRequest.setGttOrderId("GTT-C25280200137522");  
            modifyOrderRequest.setType(GttModifyOrderRequest.TypeEnum.MULTIPLE);  
            modifyOrderRequest.setRules(gttRules);  
      
            try {  
                GttTriggerOrderResponse result = apiInstance.modifyGTTOrder(modifyOrderRequest);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi->modifyGTTOrder: " + e.getMessage());  
            }  
        }  
    }  
    

### Modify Trailing Stop Loss GTT Order[â€‹](<https://upstox.com/developer/api-documentation/modify-gtt-order/#modify-trailing-stop-loss-gtt-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP


    
    
    curl --location --request PUT 'https://api.upstox.com/v3/order/gtt/modify' \  
    --header 'accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --header 'Content-Type: application/json' \  
    --data '{  
      "type": "MULTIPLE",  
      "quantity": 1,  
      "rules": [  
        {  
          "strategy": "ENTRY",  
          "trigger_type": "ABOVE",  
          "trigger_price": 7.3  
        },  
        {  
          "strategy": "TARGET",  
          "trigger_type": "IMMEDIATE",  
          "trigger_price": 7.64  
        },  
        {  
          "strategy": "STOPLOSS",  
          "trigger_type": "IMMEDIATE",  
          "trigger_price": 7.1,  
          "trailing_gap": 0.1  
        }  
      ],  
      "gtt_order_id": "GTT-C25280200137522"  
    }'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/order/gtt/modify'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        "type": "MULTIPLE",  
        "quantity": 1,  
        "rules": [  
            {  
                "strategy": "ENTRY",  
                "trigger_type": "ABOVE",  
                "trigger_price": 7.3  
            },  
            {  
                "strategy": "TARGET",  
                "trigger_type": "IMMEDIATE",  
                "trigger_price": 7.64  
            },  
            {  
                "strategy": "STOPLOSS",  
                "trigger_type": "IMMEDIATE",  
                "trigger_price": 7.1,  
                "trailing_gap": 0.1  
            }  
        ],  
        "gtt_order_id": "GTT-C25280200137522"  
    }  
      
    try:  
        # Send the PUT request  
        response = requests.put(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/order/gtt/modify';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      type: 'MULTIPLE',  
      quantity: 1,  
      rules: [  
        {  
          strategy: 'ENTRY',  
          trigger_type: 'ABOVE',  
          trigger_price: 7.3  
        },  
        {  
          strategy: 'TARGET',  
          trigger_type: 'IMMEDIATE',  
          trigger_price: 7.64  
        },  
        {  
          strategy: 'STOPLOSS',  
          trigger_type: 'IMMEDIATE',  
          trigger_price: 7.1,  
          trailing_gap: 0.1  
        }  
      ],  
      gtt_order_id: 'GTT-C25280200137522'  
    };  
      
    axios.put(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/order/gtt/modify";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"type\": \"MULTIPLE\","  
                    + "\"quantity\": 1,"  
                    + "\"rules\": ["  
                    + "{"  
                    + "\"strategy\": \"ENTRY\","  
                    + "\"trigger_type\": \"ABOVE\","  
                    + "\"trigger_price\": 7.3"  
                    + "},"  
                    + "{"  
                    + "\"strategy\": \"TARGET\","  
                    + "\"trigger_type\": \"IMMEDIATE\","  
                    + "\"trigger_price\": 7.64"  
                    + "},"  
                    + "{"  
                    + "\"strategy\": \"STOPLOSS\","  
                    + "\"trigger_type\": \"IMMEDIATE\","  
                    + "\"trigger_price\": 7.1,"  
                    + "\"trailing_gap\": 0.1"  
                    + "}"  
                    + "],"  
                    + "\"gtt_order_id\": \"GTT-C25280200137522\""  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .PUT(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/order/gtt/modify';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'type' => 'MULTIPLE',  
        'quantity' => 1,  
        'rules' => [  
            [  
                'strategy' => 'ENTRY',  
                'trigger_type' => 'ABOVE',  
                'trigger_price' => 7.3  
            ],  
            [  
                'strategy' => 'TARGET',  
                'trigger_type' => 'IMMEDIATE',  
                'trigger_price' => 7.64  
            ],  
            [  
                'strategy' => 'STOPLOSS',  
                'trigger_type' => 'IMMEDIATE',  
                'trigger_price' => 7.1,  
                'trailing_gap' => 0.1  
            ]  
        ],  
        'gtt_order_id' => 'GTT-C25280200137522'  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'PUT');  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    PUT /order/gtt/modify

#### Request

Live URLhttps://api.upstox.com/v3

`Authorization`

Bearer

Note

  * To place GTT orders with a SELL leg, EDIS authorization is required. You can authorize EDIS from any of our platformsâ€”Web, iOS, or Android by placing a GTT order. Once authorized on any one platform, it will also be valid for API-based orders. You don't need to complete the order; simply going through the authorization flow is sufficient.
  * We currently support a maximum of three rules with no duplicate strategies.
  * Receiving GTT order updates via **Webhook** requires additional setup, detailed [here](<https://upstox.com/developer/api-documentation/webhook>).
  * Receiving GTT order updates via **WebSocket** requires additional setup, detailed [here](<https://upstox.com/developer/api-documentation/get-portfolio-stream-feed#query-parameters>).




---
# Source: https://upstox.com/developer/api-documentation/cancel-gtt-order
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [GTT Orders](<https://upstox.com/developer/api-documentation/gtt-orders>)
  * Cancel GTT Order



## Cancel GTT Order[â€‹](<https://upstox.com/developer/api-documentation/cancel-gtt-order/#cancel-gtt-order> "Direct link to heading")

This API allows the cancellation of an existing Good Till Trigger (GTT) order that has not yet been triggered. Once canceled, all associated legs will be canceled and will no longer be monitored for execution, and all related trigger conditions will be discarded.

  


### Request[â€‹](<https://upstox.com/developer/api-documentation/cancel-gtt-order/#request> "Direct link to heading")
    
    
    curl --location --request DELETE 'https://api.upstox.com/v3/order/gtt/cancel' \  
    --header 'accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --header 'Content-Type: application/json' \  
    --data '{  
      "gtt_order_id": "GTT-C25280200137522"  
    }'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/cancel-gtt-order/#sample-code>) on this page.

### Request Body[â€‹](<https://upstox.com/developer/api-documentation/cancel-gtt-order/#request-body> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
gtt_order_id| true| string| The order ID for which the order must be cancelled.  
  


**Responses**

  * 2XX
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/cancel-gtt-order/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "gtt_order_ids": ["GTT-CU25280200018007"]  
      },  
      "metadata": {  
        "latency": 65  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request.  
Possible values: `success`, `error`  
data| object| Response data for cancel order request.  
data.gtt_order_id| string| The Order ID submitted for cancellation.  
metadata| object| Metadata information.  
metadata.latency| integer| The overall time taken by API platform to process the request, measured in milliseconds.  
  
### Error Codes[â€‹](<https://upstox.com/developer/api-documentation/cancel-gtt-order/#error-codes> "Direct link to heading")

Error Code| Description  
---|---  
UDAPI1134| **gtt_order_id is required** \- The request must include a valid GTT order ID.  
UDAPI1135| **GTT order ID must start with 'GTT-'** \- The order ID should follow the required format.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/cancel-gtt-order/#sample-code> "Direct link to heading")

### Cancel GTT Order[â€‹](<https://upstox.com/developer/api-documentation/cancel-gtt-order/#cancel-gtt-order-1> "Direct link to heading")

  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/order/gtt/cancel'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        'gtt_order_id': 'GTT-C25280200137522'  
    }  
      
    try:  
        # Send the DELETE request  
        response = requests.delete(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/order/gtt/cancel';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      gtt_order_id: 'GTT-C25280200137522'  
    };  
      
    axios.delete(url, { headers, data })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/order/gtt/cancel";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"gtt_order_id\": \"GTT-C25280200137522\""  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .method("DELETE", HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/order/gtt/cancel';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: ' . 'Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'gtt_order_id' => 'GTT-C25280200137522'  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'DELETE');  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApiV3(upstox_client.ApiClient(configuration))  
      
    body = upstox_client.GttCancelOrderRequest(gtt_order_id="GTT-C250303008840")  
      
    try:  
        api_response = api_instance.cancel_gtt_order(body=body)  
        print("GTT order canceled:", api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->cancel_gtt_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApiV3();  
    let body = new UpstoxClient.GttCancelOrderRequest("GTT-C25050300168902");  
      
    apiInstance.cancelGTTOrder(body, (error, data, response) => {  
        if (error) {  
            console.error(error.response.text);  
        } else {  
            console.log('API called successfully. Returned data:', data);  
        }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            defaultClient.setAccessToken("{your_access_token}");  
              
            OrderApiV3 apiInstance = new OrderApiV3();  
            GttCancelOrderRequest gttCancelOrderRequest = new GttCancelOrderRequest();  
            gttCancelOrderRequest.setGttOrderId("GTT-C25040144712");  
              
            try {  
                GttTriggerOrderResponse result = apiInstance.cancelGTTOrder(gttCancelOrderRequest);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi->cancelGTTOrder: " + e.getMessage());  
            }  
        }  
    }  
    
    
    
    DELETE /order/gtt/cancel

#### Request

Live URLhttps://api.upstox.com/v3

`Authorization`

Bearer


---
# Source: https://upstox.com/developer/api-documentation/get-gtt-order-details
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [GTT Orders](<https://upstox.com/developer/api-documentation/gtt-orders>)
  * Get GTT Order Details



## Get GTT Order Details[â€‹](<https://upstox.com/developer/api-documentation/get-gtt-order-details/#get-gtt-order-details> "Direct link to heading")

This API allows you to fetch the current status and details of a specific GTT order. GTT orders continue to be active until they reach their expiration date, except for intraday orders which are only valid for the day they were created. The Get GTT API does not support retrieving completed GTT orders.

### Request[â€‹](<https://upstox.com/developer/api-documentation/get-gtt-order-details/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v3/order/gtt?gtt_order_id=GTT-C25280200071351' \  
    --header 'Content-Type: application/json' \  
    --header 'accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

Additional samples in various languages are available in the [Sample Code section](<https://upstox.com/developer/api-documentation/get-gtt-order-details/#sample-code>) on this page.

### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-gtt-order-details/#query-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
gtt_order_id| false| string| The GTT order reference ID for which the order details is required.  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-gtt-order-details/#response-body> "Direct link to heading")

  * Single-Leg
  * Multi-Leg
  * Trailing Stop Loss


    
    
    {  
      "status": "success",  
      "data": [  
        {  
          "type": "SINGLE",  
          "exchange": "NSE_EQ",  
          "quantity": 1,  
          "product": "D",  
          "rules": [  
            {  
              "strategy": "ENTRY",  
              "status": "SCHEDULED",  
              "message": null,  
              "trigger_type": "ABOVE",  
              "trigger_price": 100,  
              "transaction_type": "BUY",  
              "order_id": null  
            }  
          ],  
          "trading_symbol": "IDEA",  
          "instrument_token": "NSE_EQ|INE669E01016",  
          "gtt_order_id": "GTT-C25090600141213",  
          "expires_at": 1781029799000000,  
          "created_at": 1749466010000000  
        }  
      ],  
      "metadata": {  
        "latency": 24  
      }  
    }  
    
    
    
    {  
      "status": "success",  
      "data": [  
        {  
          "type": "MULTIPLE",  
          "exchange": "NSE_EQ",  
          "quantity": 1,  
          "product": "I",  
          "rules": [  
            {  
              "strategy": "ENTRY",  
              "status": "FAILED",  
              "trigger_type": "IMMEDIATE",  
              "trigger_price": 7.7,  
              "transaction_type": "BUY",  
              "message": "The price set should be within the circuit limits. Please modify your order price.",  
              "order_id": "250228010168535"  
            },  
            {  
              "strategy": "STOPLOSS",  
              "status": "CANCELLED",  
              "trigger_type": "IMMEDIATE",  
              "trigger_price": 7.6,  
              "transaction_type": "SELL",  
              "message": "",  
              "order_id": null  
            },  
            {  
              "strategy": "TARGET",  
              "status": "CANCELLED",  
              "trigger_type": "IMMEDIATE",  
              "trigger_price": 7.64,  
              "transaction_type": "SELL",  
              "message": "",  
              "order_id": null  
            }  
          ],  
          "trading_symbol": "IDEA",  
          "instrument_token": "NSE_EQ|INE669E01016",  
          "gtt_order_id": "GTT-CU25280200021010",  
          "expires_at": 1740767399000000,  
          "created_at": 1740723100000000  
        }  
      ],  
      "metadata": {  
        "latency": 58  
      }  
    }  
    
    
    
    {  
      "status": "success",  
      "data": [  
        {  
          "type": "MULTIPLE",  
          "exchange": "NSE_EQ",  
          "quantity": 1,  
          "product": "I",  
          "rules": [  
            {  
              "strategy": "ENTRY",  
              "status": "FAILED",  
              "trigger_type": "IMMEDIATE",  
              "trigger_price": 7.7,  
              "transaction_type": "BUY",  
              "message": "The price set should be within the circuit limits. Please modify your order price.",  
              "order_id": "250228010168535"  
            },  
            {  
              "strategy": "STOPLOSS",  
              "status": "CANCELLED",  
              "trigger_type": "IMMEDIATE",  
              "trigger_price": 7.6,  
              "transaction_type": "SELL",  
              "message": "",  
              "order_id": null,  
              "trailing_gap": 0.5  
            },  
            {  
              "strategy": "TARGET",  
              "status": "CANCELLED",  
              "trigger_type": "IMMEDIATE",  
              "trigger_price": 7.64,  
              "transaction_type": "SELL",  
              "message": "",  
              "order_id": null  
            }  
          ],  
          "trading_symbol": "IDEA",  
          "instrument_token": "NSE_EQ|INE669E01016",  
          "gtt_order_id": "GTT-CU25280200021010",  
          "expires_at": 1740767399000000,  
          "created_at": 1740723100000000  
        }  
      ],  
      "metadata": {  
        "latency": 58  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| Indicates the outcome of the request. Typically `success` for successful operations.  
data| array| Contains details of the requested GTT order(s).  
type| string| Specifies the GTT order type. Indicates if it's a single or multi-leg order.   
Possible values: `SINGLE`, `MULTIPLE`.  
exchange| string| The exchange where the order is placed.   
Possible values: `NSE_EQ`, `BSE_EQ`, etc.  
quantity| integer| The number of units specified in the order.  
product| string| Specifies whether the order is for Intraday, Delivery or MTF.   
Possible values: `I` (Intraday), `D` (Delivery), `MTF` (Margin Trading Facility).  
instrument_token| string| Unique identifier for the instrument being traded.  
trading_symbol| string| The symbol of the traded instrument.  
gtt_order_id| string| Unique identifier assigned to the GTT order.  
expires_at| integer| The timestamp indicating when the GTT order expires.  
created_at| integer| The timestamp when the GTT order was created.  
rules| array| Defines the conditions for order execution, such as trigger price and strategy.  
rules[].strategy| string| Specifies the role of the rule.   
Possible values: `ENTRY`, `TARGET`, `STOPLOSS`.  
  
**ENTRY** \- Defines the condition for the first-leg order execution (BUY or SELL).  
**TARGET** \- Sets an exit condition at a predefined profit level.  
**STOPLOSS** \- Sets an exit condition to limit losses.  
rules[].status| string| Indicates the status of the rule.   
Possible values: `SCHEDULED`, `TRIGGERED`, `EXPIRED`, `OPEN`, `COMPLETED`, `CANCELLED`, `PENDING`, `FAILED` and `INACTIVE`.  
rules[].trigger_type| string| Specifies the condition under which the order is triggered.  
Possible values: `BELOW`, `ABOVE`, `IMMEDIATE`.  
  
**BELOW** \- Triggers when the market price falls below the trigger price.  
**ABOVE** \- Triggers when the market price rises above the trigger price.  
**IMMEDIATE** \- A limit order is triggered at the user-specified price irrespective of the LTP.  
rules[].trigger_price| float| The price at which the order will be triggered based on the condition.  
rules[].transaction_type| string| Defines whether the order is a buy or sell transaction.   
Possible values: `BUY`, `SELL`.  
rules[].message| string| This field specifies the error reason when the rule fails.  
rules[].order_id| string| Unique identifier for the order generated after execution. May be `null` if the order hasn't been placed yet.  
rules[].trailing_gap| float| Only applicable for **STOPLOSS** strategy for **TSL** orders. This defines the consistent gap between your stop-loss and the market price, letting your stop-loss trail automatically.  
metadata| object| Metadata information.  
metadata.latency| integer| The overall time taken by API platform to process the request, measured in milliseconds.  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/get-gtt-order-details/#error-codes> "Direct link to heading")

Error Code| Description  
---|---  
UDAPI1135| **GTT order ID must start with 'GTT-'** \- The order ID should follow the required format.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-gtt-order-details/#sample-code> "Direct link to heading")

### Get GTT Order[â€‹](<https://upstox.com/developer/api-documentation/get-gtt-order-details/#get-gtt-order> "Direct link to heading")

  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/order/gtt'  
    params = {  
        'gtt_order_id': 'GTT-C25280200071351'  
    }  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    try:  
        # Send the GET request  
        response = requests.get(url, params=params, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/order/gtt';  
    const params = {  
      gtt_order_id: 'GTT-C25280200071351'  
    };  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/order/gtt?gtt_order_id=GTT-C25280200071351";  
            String token = "Bearer {your_access_token}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .GET()  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/order/gtt?gtt_order_id=GTT-C25280200071351';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApiV3(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.get_gtt_order_details(gtt_order_id="GTT-C25030300128840")  
        print("GTT order details:", api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->get_gtt_order_details: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApiV3();  
      
    apiInstance.getGttOrderDetails({gttOrderId: 'GTT-C25130300047732'}, (error, data, response) => {  
        if (error) {  
            console.error(error.response.text);  
        } else {  
            console.log('API called successfully. Returned data:', data);  
        }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            defaultClient.setAccessToken("{your_access_token}");  
              
            OrderApiV3 apiInstance = new OrderApiV3();  
            try {  
                GetGttOrderResponse result = apiInstance.getGttOrderDetails("GTT-C25040144712");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi->getGttOrderDetails: " + e.getMessage());  
            }  
        }  
    }  
    
    
    
    GET /order/gtt

#### Request

Live URLhttps://api.upstox.com/v3

`Authorization`

Bearer

Show optional parameters

`order_id` â€” query


---
# Source: https://upstox.com/developer/api-documentation/portfolio
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * Portfolio



# Portfolio

## [description Get PositionsGet current positions of the user.](<https://upstox.com/developer/api-documentation/get-positions>)## [description Get MTF PositionsGet Margin Trade Funding positions of the user.](<https://upstox.com/developer/api-documentation/get-mtf-positions>)## [description Convert PositionsConvert the margin product of an open position.](<https://upstox.com/developer/api-documentation/convert-positions>)## [description Get HoldingsGet long term holdings of the user.](<https://upstox.com/developer/api-documentation/get-holdings>)


---
# Source: https://upstox.com/developer/api-documentation/get-positions
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Portfolio](<https://upstox.com/developer/api-documentation/portfolio>)
  * Get Positions



## Get Positions[â€‹](<https://upstox.com/developer/api-documentation/get-positions/#get-positions> "Direct link to heading")

API to retrieve the current positions for the user. These assets remain within the positions portfolio until they are either sold or reach their standard three-month expiration date in the case of derivatives. If any equity positions are carried overnight, they are automatically shifted to the holdings portfolio on the following trading day.

### Request[â€‹](<https://upstox.com/developer/api-documentation/get-positions/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/portfolio/short-term-positions' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/get-positions/#sample-code>) on this page.

**Responses**

  * 200



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-positions/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": [  
        {  
          "exchange": "NFO",  
          "multiplier": 1.0,  
          "value": 39.75,  
          "pnl": 26.25,  
          "product": "D",  
          "instrument_token": "NSE_FO|52618",  
          "average_price": 2.65,  
          "buy_value": 0.0,  
          "overnight_quantity": 15,  
          "day_buy_value": 0.0,  
          "day_buy_price": 0.0,  
          "overnight_buy_amount": 39.75,  
          "overnight_buy_quantity": 15,  
          "day_buy_quantity": 0,  
          "day_sell_value": 0.0,  
          "day_sell_price": 0.0,  
          "overnight_sell_amount": 0.0,  
          "overnight_sell_quantity": 0,  
          "day_sell_quantity": 0,  
          "quantity": 15,  
          "last_price": 1.75,  
          "unrealised": -658304.25,  
          "realised": -0.0,  
          "sell_value": 0.0,  
          "trading_symbol": "BANKNIFTY23OCT38000PE",  
          "tradingsymbol": "BANKNIFTY23OCT38000PE",  
          "close_price": 1.95,  
          "buy_price": 2.65,  
          "sell_price": 0.0  
        },  
        {  
          "exchange": "BSE",  
          "multiplier": 1.0,  
          "value": 0.8,  
          "pnl": 0.01,  
          "product": "D",  
          "instrument_token": "BSE_EQ|INE220J01025",  
          "average_price": null,  
          "buy_value": 0.8,  
          "overnight_quantity": 0,  
          "day_buy_value": 0.8,  
          "day_buy_price": 0.8,  
          "overnight_buy_amount": 0.0,  
          "overnight_buy_quantity": 0,  
          "day_buy_quantity": 1,  
          "day_sell_value": 0.0,  
          "day_sell_price": 0.0,  
          "overnight_sell_amount": 0.0,  
          "overnight_sell_quantity": 0,  
          "day_sell_quantity": 0,  
          "quantity": 1,  
          "last_price": 0.81,  
          "unrealised": 0.01,  
          "realised": -0.0,  
          "sell_value": 0.0,  
          "trading_symbol": "FCONSUMER",  
          "tradingsymbol": "FCONSUMER",  
          "close_price": 0.8,  
          "buy_price": 0.8,  
          "sell_price": 0.0  
        },  
        {  
          "exchange": "MCX",  
          "multiplier": 1.0,  
          "value": 5867.0,  
          "pnl": 6005.0,  
          "product": "D",  
          "instrument_token": "MCX_FO|259711",  
          "average_price": 5867.0,  
          "buy_value": 0.0,  
          "overnight_quantity": 1,  
          "day_buy_value": 0.0,  
          "day_buy_price": 0.0,  
          "overnight_buy_amount": 5867.0,  
          "overnight_buy_quantity": 1,  
          "day_buy_quantity": 0,  
          "day_sell_value": 0.0,  
          "day_sell_price": 0.0,  
          "overnight_sell_amount": 0.0,  
          "overnight_sell_quantity": 0,  
          "day_sell_quantity": 0,  
          "quantity": 1,  
          "last_price": 6005.0,  
          "unrealised": 0.0,  
          "realised": -0.0,  
          "sell_value": 0.0,  
          "trading_symbol": "GOLDPETAL23DECFUT",  
          "tradingsymbol": "GOLDPETAL23DECFUT",  
          "close_price": 6005.0,  
          "buy_price": 5867.0,  
          "sell_price": 0.0  
        },  
        {  
          "exchange": "CDS",  
          "multiplier": 1000.0,  
          "value": 5.0,  
          "pnl": 2.5,  
          "product": "D",  
          "instrument_token": "NCD_FO|13177",  
          "average_price": 0.005,  
          "buy_value": 0.0,  
          "overnight_quantity": 1,  
          "day_buy_value": 0.0,  
          "day_buy_price": 0.0,  
          "overnight_buy_amount": 0.005,  
          "overnight_buy_quantity": 1,  
          "day_buy_quantity": 0,  
          "day_sell_value": 0.0,  
          "day_sell_price": 0.0,  
          "overnight_sell_amount": 0.0,  
          "overnight_sell_quantity": 0,  
          "day_sell_quantity": 0,  
          "quantity": 1,  
          "last_price": 0.0025,  
          "unrealised": -83265.0,  
          "realised": -0.0,  
          "sell_value": 0.0,  
          "trading_symbol": "USDINR23OCT85.5CE",  
          "tradingsymbol": "USDINR23OCT85.5CE",  
          "close_price": 0.0025,  
          "buy_price": 0.005,  
          "sell_price": 0.0  
        },  
        {  
          "exchange": "NSE",  
          "multiplier": 1.0,  
          "value": 0.0,  
          "pnl": 0.45,  
          "product": "D",  
          "instrument_token": "NSE_EQ|INE062A01020",  
          "average_price": null,  
          "buy_value": 570.95,  
          "overnight_quantity": 0,  
          "day_buy_value": 570.95,  
          "day_buy_price": 570.95,  
          "overnight_buy_amount": 0.0,  
          "overnight_buy_quantity": 0,  
          "day_buy_quantity": 1,  
          "day_sell_value": 571.4,  
          "day_sell_price": 571.4,  
          "overnight_sell_amount": 0.0,  
          "overnight_sell_quantity": 0,  
          "day_sell_quantity": 1,  
          "quantity": 0,  
          "last_price": 571.2,  
          "unrealised": 0.0,  
          "realised": 0.45,  
          "sell_value": 571.4,  
          "trading_symbol": "SBIN",  
          "tradingsymbol": "SBIN",  
          "close_price": 572.65,  
          "buy_price": 570.95,  
          "sell_price": 571.4  
        }  
      ]  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object[]| Response data for position details  
data[].exchange| string| Exchange to which the order is associated. Valid exchanges can be found in the [Exchange Appendix](<https://upstox.com/developer/api-documentation/appendix/exchange>)  
data[].multiplier| float| The quantity/lot size multiplier used for calculating P&Ls  
data[].value| float| Net value of the position  
data[].pnl| float| Profit and loss - net returns on the position  
data[].product| string| Signifies if the order was either Intraday, Delivery or CO.   
Possible values: `I`, `D`, `CO`.  
data[].instrument_token| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
data[].average_price| float| Average price at which the net position quantity was acquired  
data[].buy_value| float| Net value of the bought quantities  
data[].overnight_quantity| int32| Quantity held previously and carried forward over night  
data[].day_buy_value| float| Amount at which the quantity is bought during the day  
data[].day_buy_price| float| Average price at which the day qty was bought. Default is empty string  
data[].overnight_buy_amount| float| Amount at which the quantity was bought in the previous session  
data[].overnight_buy_quantity| int32| Quantity bought in the previous session  
data[].day_buy_quantity| int32| Quantity bought during the day  
data[].day_sell_value| float| Amount at which the quantity is sold during the day  
data[].day_sell_price| float| Average price at which the day quantity was sold  
data[].overnight_sell_amount| float| Amount at which the quantity was sold in the previous session  
data[].overnight_sell_quantity| int32| Quantity sold short in the previous session  
data[].day_sell_quantity| int32| Quantity sold during the day  
data[].quantity| int32| Quantity left after nullifying Day and CF buy quantity towards Day and CF sell quantity  
data[].last_price| float| Last traded market price of the instrument  
data[].unrealised| float| Day PnL generated against open positions  
data[].realised| float| Day PnL generated against closed positions  
data[].sell_value| float| Net value of the sold quantities  
data[].trading_symbol| string| Shows the trading symbol of the instrument  
data[].close_price| float| Closing price of the instrument from the last trading day  
data[].buy_price| float| Average price at which quantities were bought  
data[].sell_price| float| Average price at which quantities were sold  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-positions/#sample-code> "Direct link to heading")

### Get user positions[â€‹](<https://upstox.com/developer/api-documentation/get-positions/#get-user-positions> "Direct link to heading")

  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/portfolio/short-term-positions'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.json())  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/portfolio/short-term-positions';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/portfolio/short-term-positions";  
            String contentTypeHeader = "application/json";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient client = HttpClient.newHttpClient();  
      
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", contentTypeHeader)  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            try {  
                HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
                System.out.println(response.body());  
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/portfolio/short-term-positions';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if (curl_errno($ch)) {  
        echo 'Curl error: ' . curl_error($ch);  
    }  
      
    curl_close($ch);  
      
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    api_instance = upstox_client.PortfolioApi(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.get_positions(api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling ChargeApi->get_brokerage: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.PortfolioApi();  
    let apiVersion = "2.0";  
    apiInstance.getPositions(apiVersion,(error,data,response)=>{  
      if(error) {  
        console.log(error);  
      }  
      else{  
        console.log("API called=  "  + JSON.stringify(data))  
      }  
    })  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetPositionResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.PortfolioApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            PortfolioApi apiInstance = new PortfolioApi();  
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                GetPositionResponse result = apiInstance.getPositions(apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling PortfolioApi#getPositions");  
                e.printStackTrace();  
            }  
      
        }  
    }  
    
    
    
    GET /portfolio/short-term-positions

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer


---
# Source: https://upstox.com/developer/api-documentation/get-mtf-positions
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Portfolio](<https://upstox.com/developer/api-documentation/portfolio>)
  * Get MTF Positions



## Get MTF Positions[â€‹](<https://upstox.com/developer/api-documentation/get-mtf-positions/#get-mtf-positions> "Direct link to heading")

API to retrieve the current Margin Trade Funding (MTF) positions for the user. MTF is a facility that allows investors to buy securities by paying a fraction of the transaction value, with the remaining amount funded by the Upstox. These positions remain in the MTF portfolio until they are either sold or the loan is repaid.

### Request[â€‹](<https://upstox.com/developer/api-documentation/get-mtf-positions/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v3/portfolio/mtf-positions' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/get-mtf-positions/#sample-code>) on this page.

**Responses**

  * 200



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-mtf-positions/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": [  
        {  
          "exchange": "NSE",  
          "multiplier": 1.0,  
          "value": 4285.0,  
          "pnl": 128.55,  
          "product": "MTF",  
          "instrument_token": "NSE_EQ|INE062A01020",  
          "average_price": 571.33,  
          "buy_value": 4285.0,  
          "overnight_quantity": 5,  
          "day_buy_value": 2856.65,  
          "day_buy_price": 571.33,  
          "overnight_buy_amount": 1428.35,  
          "overnight_buy_quantity": 2,  
          "day_buy_quantity": 5,  
          "day_sell_value": 0.0,  
          "day_sell_price": 0.0,  
          "overnight_sell_amount": 0.0,  
          "overnight_sell_quantity": 0,  
          "day_sell_quantity": 0,  
          "quantity": 7,  
          "last_price": 589.75,  
          "unrealised": 128.55,  
          "realised": 0.0,  
          "sell_value": 0.0,  
          "trading_symbol": "SBIN",  
          "close_price": 572.65,  
          "buy_price": 571.33,  
          "sell_price": 0.0  
        },  
        {  
          "exchange": "NSE",  
          "multiplier": 1.0,  
          "value": 58300.0,  
          "pnl": 350.0,  
          "product": "MTF",  
          "instrument_token": "NSE_EQ|INE002A01018",  
          "average_price": 2915.0,  
          "buy_value": 58300.0,  
          "overnight_quantity": 20,  
          "day_buy_value": 0.0,  
          "day_buy_price": 0.0,  
          "overnight_buy_amount": 58300.0,  
          "overnight_buy_quantity": 20,  
          "day_buy_quantity": 0,  
          "day_sell_value": 0.0,  
          "day_sell_price": 0.0,  
          "overnight_sell_amount": 0.0,  
          "overnight_sell_quantity": 0,  
          "day_sell_quantity": 0,  
          "quantity": 20,  
          "last_price": 2932.5,  
          "unrealised": 350.0,  
          "realised": 0.0,  
          "sell_value": 0.0,  
          "trading_symbol": "RELIANCE",  
          "close_price": 2920.75,  
          "buy_price": 2915.0,  
          "sell_price": 0.0  
        }  
      ]  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object[]| Response data for MTF position details  
data[].exchange| string| Exchange to which the order is associated. For MTF positions, valid exchange is NSE only.  
data[].multiplier| float| The quantity/lot size multiplier used for calculating P&Ls  
data[].value| float| Net value of the position  
data[].pnl| float| Profit and loss - net returns on the position  
data[].product| string| For MTF positions, this will always be 'MTF'  
data[].instrument_token| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
data[].average_price| float| Average price at which the net position quantity was acquired  
data[].buy_value| float| Net value of the bought quantities  
data[].overnight_quantity| int32| Quantity held previously and carried forward over night  
data[].day_buy_value| float| Amount at which the quantity is bought during the day  
data[].day_buy_price| float| Average price at which the day qty was bought. Default is empty string  
data[].overnight_buy_amount| float| Amount at which the quantity was bought in the previous session  
data[].overnight_buy_quantity| int32| Quantity bought in the previous session  
data[].day_buy_quantity| int32| Quantity bought during the day  
data[].day_sell_value| float| Amount at which the quantity is sold during the day  
data[].day_sell_price| float| Average price at which the day quantity was sold  
data[].overnight_sell_amount| float| Amount at which the quantity was sold in the previous session  
data[].overnight_sell_quantity| int32| Quantity sold short in the previous session  
data[].day_sell_quantity| int32| Quantity sold during the day  
data[].quantity| int32| Quantity left after nullifying Day and CF buy quantity towards Day and CF sell quantity  
data[].last_price| float| Last traded market price of the instrument  
data[].unrealised| float| Day PnL generated against open positions  
data[].realised| float| Day PnL generated against closed positions  
data[].sell_value| float| Net value of the sold quantities  
data[].trading_symbol| string| Shows the trading symbol of the instrument  
data[].close_price| float| Closing price of the instrument from the last trading day  
data[].buy_price| float| Average price at which quantities were bought  
data[].sell_price| float| Average price at which quantities were sold  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-mtf-positions/#sample-code> "Direct link to heading")

### Get MTF Positions[â€‹](<https://upstox.com/developer/api-documentation/get-mtf-positions/#get-mtf-positions-1> "Direct link to heading")

  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/portfolio/mtf-positions'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.json())  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/portfolio/mtf-positions';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/portfolio/mtf-positions";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient client = HttpClient.newHttpClient();  
      
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            try {  
                HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
                System.out.println(response.body());  
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/portfolio/mtf-positions';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if (curl_errno($ch)) {  
        echo 'Curl error: ' . curl_error($ch);  
    }  
      
    curl_close($ch);  
      
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    apiInstance = upstox_client.PortfolioApi(upstox_client.ApiClient(configuration))  
      
    try:  
        response = apiInstance.get_mtf_positions()  
        print("MTF positions:", response)  
    except ApiException as e:  
        print("Exception when calling PortfolioApi->get_mtf_positions: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.PortfolioApi();  
    apiInstance.getMtfPositions((error, data, response) => {  
        if (error) {  
            console.error(error.response.text);  
        } else {  
            console.log('API called successfully. Returned data:', data);  
        }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            defaultClient.setAccessToken("{your_access_token}");  
              
            PortfolioApi portfolioApi = new PortfolioApi();  
            try {  
                GetPositionResponse result = portfolioApi.getMtfPositions();  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling PortfolioApi->getMtfPositions: " + e.getMessage());  
            }  
        }  
    }  
    
    
    
    GET /portfolio/mtf-positions

#### Request

Live URLhttps://api.upstox.com/v3

`Authorization`

Bearer


---
# Source: https://upstox.com/developer/api-documentation/convert-positions
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Portfolio](<https://upstox.com/developer/api-documentation/portfolio>)
  * Convert Positions



## Convert Positions[â€‹](<https://upstox.com/developer/api-documentation/convert-positions/#convert-positions> "Direct link to heading")

API to convert your intraday positions into delivery trades or your margin trades into cash and carry, and vice versa. Position would be converted only if the required margin is available. Delivery holdings can be converted to Intraday positions only if it is purchased on the same day before the [auto square off timing](<https://help.upstox.com/support/solutions/articles/252251-what-is-auto-square-off-and-what-is-the-auto-square-off-timings-for-different-segments->). Only simple order can be converted from Intraday to delivery, Special orders like CO cannot be converted from intraday to delivery.

### Request[â€‹](<https://upstox.com/developer/api-documentation/convert-positions/#request> "Direct link to heading")
    
    
    curl --location --request PUT 'https://api.upstox.com/v2/portfolio/convert-position' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "instrument_token": "NSE_EQ|INE528G01035",  
      "new_product": "D",  
      "old_product": "I",  
      "transaction_type": "BUY",  
      "quantity": 1  
    }'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/convert-positions/#sample-code>) on this page.

### Request Body[â€‹](<https://upstox.com/developer/api-documentation/convert-positions/#request-body> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
instrument_token| true| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
new_product| true| string| Indicates the new product to use for the convert positions.   
Possible values: `I`, `D`.  
old_product| true| string| Indicates the old product to use for the convert positions.   
Possible values: `I`, `D`.  
transaction_type| true| string| Indicates whether its a buy(b) or sell(s) order.   
Possible values: `BUY`, `SELL`.  
quantity| true| int32| Quantity with which the position to convert  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/convert-positions/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "status": "complete"  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Response data for convert position request  
data.status| string| Status message for convert position request  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/convert-positions/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1033| **Get position data failed** \- There was an issue retrieving the position data.  
UDAPI1034| **Positions unavailable for given user id** \- No positions were found for the specified user ID.  
UDAPI1035| **Positions unavailable for given instrument key or product** \- No positions match the provided instrument key or product details.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/convert-positions/#sample-code> "Direct link to heading")

### Convert a position from intraday to delivery[â€‹](<https://upstox.com/developer/api-documentation/convert-positions/#convert-a-position-from-intraday-to-delivery> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request PUT 'https://api.upstox.com/v2/portfolio/convert-position' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "instrument_token": "NSE_EQ|INE528G01035",  
      "new_product": "D",  
      "old_product": "I",  
      "transaction_type": "BUY",  
      "quantity": 1  
    }'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/portfolio/convert-position'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  # Replace {your_access_token} with your actual access token  
    }  
      
    data = {  
        "instrument_token": "NSE_EQ|INE528G01035",  
        "new_product": "D",  
        "old_product": "I",  
        "transaction_type": "BUY",  
        "quantity": 1  
    }  
      
    response = requests.put(url, headers=headers, json=data)  
      
    print(response.status_code)  
    print(response.json())  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/portfolio/convert-position';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}', // Replace {your_access_token} with your actual access token  
    };  
      
    const data = {  
        "instrument_token": "NSE_EQ|INE528G01035",  
        "new_product": "D",  
        "old_product": "I",  
        "transaction_type": "BUY",  
        "quantity": 1  
    };  
      
    axios.put(url, data, { headers })  
        .then(response => {  
            console.log('Status Code:', response.status);  
            console.log('Response Data:', response.data);  
        })  
        .catch(error => {  
            console.error('Error:', error.message);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.nio.charset.StandardCharsets;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            try {  
                String url = "https://api.upstox.com/v2/portfolio/convert-position";  
      
                // Building the request payload  
                String payload = "{\n" +  
                        "  \"instrument_token\": \"NSE_EQ|INE528G01035\",\n" +  
                        "  \"new_product\": \"D\",\n" +  
                        "  \"old_product\": \"I\",\n" +  
                        "  \"transaction_type\": \"BUY\",\n" +  
                        "  \"quantity\": 1\n" +  
                        "}";  
      
                // Replace {your_access_token} with your actual access token  
                String accessToken = "{your_access_token}";  
      
                HttpRequest request = HttpRequest.newBuilder()  
                        .uri(URI.create(url))  
                        .header("Content-Type", "application/json")  
                        .header("Accept", "application/json")  
                        .header("Authorization", "Bearer " + accessToken)  
                        .method("PUT", HttpRequest.BodyPublishers.ofString(payload, StandardCharsets.UTF_8))  
                        .build();  
      
                HttpClient client = HttpClient.newHttpClient();  
                HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Reading the response  
                int responseCode = response.statusCode();  
                System.out.println("Response Code: " + responseCode);  
      
                // Printing the response body  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/portfolio/convert-position';  
      
    // Replace {your_access_token} with your actual access token  
    $accessToken = '{your_access_token}';  
      
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer ' . $accessToken,  
    ];  
      
    $data = [  
        "instrument_token" => "NSE_EQ|INE528G01035",  
        "new_product" => "D",  
        "old_product" => "I",  
        "transaction_type" => "BUY",  
        "quantity" => 1  
    ];  
      
    $ch = curl_init();  
      
    curl_setopt($ch, CURLOPT_URL, $url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "PUT");  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    // Output the response code and body  
    echo "Response Code: " . $httpCode . PHP_EOL;  
    echo "Response Body: " . $response . PHP_EOL;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.PortfolioApi(upstox_client.ApiClient(configuration))  
    body = upstox_client.ConvertPositionRequest(instrument_token= "NSE_EQ|INE528G01035",quantity=1,new_product="D",old_product="I",transaction_type="BUY")  
    api_version = '2.0'  
      
    try:  
        # Convert Positions  
        api_response = api_instance.convert_positions(body, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling PortfolioApi->convert_positions: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
      
    // Configure OAuth2 access token for authorization: OAUTH2  
    let OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = '{your_access_token}';  
      
    let apiInstance = new UpstoxClient.PortfolioApi();  
    let body = new UpstoxClient.ConvertPositionRequest("NSE_EQ|INE528G01035",UpstoxClient.ConvertPositionRequest.NewProductEnum.D,UpstoxClient.ConvertPositionRequest.OldProductEnum.I,UpstoxClient.ConvertPositionRequest.TransactionTypeEnum.BUY,1); // ConvertPositionRequest |   
    let apiVersion = "2.0"; // String | API Version Header  
      
    apiInstance.convertPositions(body, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.ConvertPositionRequest;  
    import com.upstox.api.ConvertPositionResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.PortfolioApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            PortfolioApi apiInstance = new PortfolioApi();  
            ConvertPositionRequest body = new ConvertPositionRequest();  
            body.setInstrumentToken("NSE_EQ|INE528G01035");  
            body.setNewProduct(ConvertPositionRequest.NewProductEnum.D);  
            body.setOldProduct(ConvertPositionRequest.OldProductEnum.I);  
            body.setQuantity(2);  
            body.setTransactionType(ConvertPositionRequest.TransactionTypeEnum.BUY);  
            String apiVersion = "2.0";  
            try {  
                ConvertPositionResponse result = apiInstance.convertPositions(body, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling PortfolioApi#convertPositions");  
                e.printStackTrace();  
            }  
      
        }  
    }  
      
    

### Convert a position from delivery to intraday[â€‹](<https://upstox.com/developer/api-documentation/convert-positions/#convert-a-position-from-delivery-to-intraday> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request PUT 'https://api.upstox.com/v2/portfolio/convert-position' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "instrument_token": "NSE_EQ|INE528G01035",  
      "new_product": "I",  
      "old_product": "D",  
      "transaction_type": "BUY",  
      "quantity": 1  
    }'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/portfolio/convert-position'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  # Replace {your_access_token} with your actual access token  
    }  
      
    data = {  
        "instrument_token": "NSE_EQ|INE528G01035",  
        "new_product": "I",  
        "old_product": "D",  
        "transaction_type": "BUY",  
        "quantity": 1  
    }  
      
    response = requests.put(url, headers=headers, json=data)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/portfolio/convert-position';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}', // Replace {your_access_token} with your actual access token  
    };  
      
    const data = {  
        "instrument_token": "NSE_EQ|INE528G01035",  
        "new_product": "I",  
        "old_product": "D",  
        "transaction_type": "BUY",  
        "quantity": 1  
    };  
      
    axios.put(url, data, { headers })  
        .then(response => {  
            console.log('Status Code:', response.status);  
            console.log('Response Data:', response.data);  
        })  
        .catch(error => {  
            console.error('Error:', error.message);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.nio.charset.StandardCharsets;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            try {  
                String url = "https://api.upstox.com/v2/portfolio/convert-position";  
      
                // Building the request payload  
                String payload = "{\n" +  
                        "  \"instrument_token\": \"NSE_EQ|INE528G01035\",\n" +  
                        "  \"new_product\": \"I\",\n" +  
                        "  \"old_product\": \"D\",\n" +  
                        "  \"transaction_type\": \"BUY\",\n" +  
                        "  \"quantity\": 1\n" +  
                        "}";  
      
                // Replace {your_access_token} with your actual access token  
                String accessToken = "{your_access_token}";  
      
                HttpRequest request = HttpRequest.newBuilder()  
                        .uri(URI.create(url))  
                        .header("Content-Type", "application/json")  
                        .header("Accept", "application/json")  
                        .header("Authorization", "Bearer " + accessToken)  
                        .method("PUT", HttpRequest.BodyPublishers.ofString(payload, StandardCharsets.UTF_8))  
                        .build();  
      
                HttpClient client = HttpClient.newHttpClient();  
                HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Reading the response  
                int responseCode = response.statusCode();  
                System.out.println("Response Code: " + responseCode);  
      
                // Printing the response body  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/portfolio/convert-position';  
      
    // Replace {your_access_token} with your actual access token  
    $accessToken = '{your_access_token}';  
      
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer ' . $accessToken,  
    ];  
      
    $data = [  
        "instrument_token" => "NSE_EQ|INE528G01035",  
        "new_product" => "I",  
        "old_product" => "D",  
        "transaction_type" => "BUY",  
        "quantity" => 1  
    ];  
      
    $ch = curl_init();  
      
    curl_setopt($ch, CURLOPT_URL, $url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "PUT");  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    // Output the response code and body  
    echo "Response Code: " . $httpCode . PHP_EOL;  
    echo "Response Body: " . $response . PHP_EOL;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.PortfolioApi(upstox_client.ApiClient(configuration))  
    body = upstox_client.ConvertPositionRequest(instrument_token= "NSE_EQ|INE528G01035",quantity=1,new_product="I",old_product="D",transaction_type="BUY")  
    api_version = '2.0'  
      
    try:  
        # Convert Positions  
        api_response = api_instance.convert_positions(body, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling PortfolioApi->convert_positions: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
      
    // Configure OAuth2 access token for authorization: OAUTH2  
    let OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = '{your_access_token}';  
      
    let apiInstance = new UpstoxClient.PortfolioApi();  
    let body = new UpstoxClient.ConvertPositionRequest("NSE_EQ|INE528G01035",UpstoxClient.ConvertPositionRequest.NewProductEnum.I,UpstoxClient.ConvertPositionRequest.OldProductEnum.D,UpstoxClient.ConvertPositionRequest.TransactionTypeEnum.BUY,1); // ConvertPositionRequest |   
    let apiVersion = "2.0"; // String | API Version Header  
      
    apiInstance.convertPositions(body, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.ConvertPositionRequest;  
    import com.upstox.api.ConvertPositionResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.PortfolioApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            PortfolioApi apiInstance = new PortfolioApi();  
            ConvertPositionRequest body = new ConvertPositionRequest();  
            body.setInstrumentToken("NSE_EQ|INE528G01035");  
            body.setNewProduct(ConvertPositionRequest.NewProductEnum.I);  
            body.setOldProduct(ConvertPositionRequest.OldProductEnum.D);  
            body.setQuantity(2);  
            body.setTransactionType(ConvertPositionRequest.TransactionTypeEnum.BUY);  
            String apiVersion = "2.0";  
            try {  
                ConvertPositionResponse result = apiInstance.convertPositions(body, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling PortfolioApi#convertPositions");  
                e.printStackTrace();  
            }  
      
        }  
    }  
    
    
    
    PUT /portfolio/convert-position

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer


---
# Source: https://upstox.com/developer/api-documentation/get-holdings
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Portfolio](<https://upstox.com/developer/api-documentation/portfolio>)
  * Get Holdings



## Get Holdings[â€‹](<https://upstox.com/developer/api-documentation/get-holdings/#get-holdings> "Direct link to heading")

API to retrieve the long term holdings of the user. A Holding within a holdings portfolio remains in place without a predetermined time limit. It can only be withdrawn when it is divested, delisted, or subject to modifications dictated by the stock exchanges. In essence, the instruments housed in the portfolio are securely located within the user's DEMAT account, in strict compliance with the regulations.

### Request[â€‹](<https://upstox.com/developer/api-documentation/get-holdings/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/portfolio/long-term-holdings' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/get-holdings/#sample-code>) on this page.

**Responses**

  * 200



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-holdings/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": [  
        {  
          "isin": "INE528G01035",  
          "cnc_used_quantity": 0,  
          "collateral_type": "WC",  
          "company_name": "YES BANK LTD.",  
          "haircut": 0.2,  
          "product": "D",  
          "quantity": 36,  
          "trading_symbol": "YESBANK",  
          "tradingsymbol": "YESBANK",  
          "last_price": 17.05,  
          "close_price": 17.05,  
          "pnl": -61.2,  
          "day_change": 0,  
          "day_change_percentage": 0,  
          "instrument_token": "NSE_EQ|INE528G01035",  
          "average_price": 18.75,  
          "collateral_quantity": 0,  
          "collateral_update_quantity": 0,  
          "t1_quantity": 0,  
          "exchange": "NSE"  
        },  
        {  
          "isin": "INE036A01016",  
          "cnc_used_quantity": 0,  
          "collateral_type": "WC",  
          "company_name": "RELIANCE INFRASTRUCTURE LTD.",  
          "haircut": 1,  
          "product": "D",  
          "quantity": 1,  
          "trading_symbol": "RELINFRA",  
          "tradingsymbol": "RELINFRA",  
          "last_price": 174.85,  
          "close_price": 169.2,  
          "pnl": -17.7,  
          "day_change": 0,  
          "day_change_percentage": 0,  
          "instrument_token": "NSE_EQ|INE036A01016",  
          "average_price": 192.55,  
          "collateral_quantity": 0,  
          "collateral_update_quantity": 0,  
          "t1_quantity": 0,  
          "exchange": "NSE"  
        }  
      ]  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object[]| Response data for holdings  
data[].isin| string| The standard ISIN representing stocks listed on multiple exchanges  
data[].cnc_used_quantity| int32| Quantity either blocked towards open or completed order  
data[].collateral_type| string| Category of collateral assigned by RMS  
data[].company_name| string| Name of the company  
data[].haircut| float| This is the haircut percentage applied from RMS (applicable incase of collateral)  
data[].product| string| Signifies if the order was either Intraday, Delivery or CO.   
Possible values: `I`, `D`, `CO`, `MTF`.  
data[].quantity| int32| The total holding qty  
data[].trading_symbol| string| Shows the trading symbol of the instrument  
data[].last_price| float| The last traded price of the instrument  
data[].close_price| float| Closing price of the instrument from the last trading day  
data[].pnl| float| Profit and Loss  
data[].day_change| float| Day's change in absolute value for the stock  
data[].day_change_percentage| float| Day's change in percentage for the stock  
data[].instrument_token| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
data[].average_price| float| Average price at which the net holding quantity was acquired  
data[].collateral_quantity| int32| Quantity marked as collateral by RMS on users request  
data[].collateral_update_quantity| int32| Updated collateral quantity  
data[].t1_quantity| int32| Quantity on T+1 day after order execution  
data[].exchange| string| Exchange to which the order is associated. Valid exchanges can be found in the [Exchange Appendix](<https://upstox.com/developer/api-documentation/appendix/exchange>)  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-holdings/#sample-code> "Direct link to heading")

  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/portfolio/long-term-holdings'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.json())  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/portfolio/long-term-holdings';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/portfolio/long-term-holdings";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient client = HttpClient.newHttpClient();  
      
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            try {  
                HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
                System.out.println(response.body());  
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/portfolio/long-term-holdings';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if (curl_errno($ch)) {  
        echo 'Curl error: ' . curl_error($ch);  
    }  
      
    curl_close($ch);  
      
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    api_instance = upstox_client.PortfolioApi(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.get_holdings(api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling ChargeApi->get_brokerage: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.PortfolioApi();  
    let apiVersion = "2.0";  
    apiInstance.getHoldings(apiVersion,(error,data,response)=>{  
      if(error) {  
        console.log(error);  
      }  
      else{  
        console.log("API called=  "  + JSON.stringify(data))  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.ConvertPositionRequest;  
    import com.upstox.api.ConvertPositionResponse;  
    import com.upstox.api.GetHoldingsResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.PortfolioApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            PortfolioApi apiInstance = new PortfolioApi();  
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                GetHoldingsResponse result = apiInstance.getHoldings(apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling PortfolioApi#getHoldings");  
                e.printStackTrace();  
            }  
      
        }  
    }  
    
    
    
    GET /portfolio/long-term-holdings

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer


---
# Source: https://upstox.com/developer/api-documentation/trade-profit-and-loss
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * Trade Profit And Loss



# Trade Profit And Loss

## [description Get Report Meta DataGet report meta data.](<https://upstox.com/developer/api-documentation/get-report-meta-data>)## [description Get Profit Loss ReportGet profit and loss report.](<https://upstox.com/developer/api-documentation/get-profit-and-loss-report>)## [description Get Trades ChargesGet trade charges.](<https://upstox.com/developer/api-documentation/get-trade-charges>)


---
# Source: https://upstox.com/developer/api-documentation/get-report-meta-data
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Trade Profit And Loss](<https://upstox.com/developer/api-documentation/trade-profit-and-loss>)
  * Get Report Meta Data



## Get Report Meta Data[â€‹](<https://upstox.com/developer/api-documentation/get-report-meta-data/#get-report-meta-data> "Direct link to heading")

### Request[â€‹](<https://upstox.com/developer/api-documentation/get-report-meta-data/#request> "Direct link to heading")
    
    
    curl -X 'GET'  
       'https://api.upstox.com/v2/trade/profit-loss/metadata?start_date=01-04-2022&emd_date=30-03-2023&segment=EQ&financial_year=2223'  
     -H 'Content-Type: application/json'  
     -H 'accept: application/json'  
     -H 'Authorization: Bearer access_token'  
    

Additional samples in various languages are available in the [Sample Code section](<https://upstox.com/developer/api-documentation/get-report-meta-data/#sample-code>) on this page.

### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-report-meta-data/#query-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
from_date| false| string| Date from which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format  
to_date| false| string| Date till which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format  
segment| true| string| Segment for which data is requested can be from the following options EQ - Equity, FO - Futures and Options, COM - Commodity, CD - Currency Derivatives  
financial_year| true| string| Financial year for which data has been requested. Concatenation of last 2 digits of from year and to year Sample:for 2021-2022, financial_year will be 2122. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-report-meta-data/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "trades_count": 10,  
        "page_size_limit": 5000  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Response data for brokerage  
data.trades_count| integer| Total count of trades in the trade wise P and L report  
data.page_size_limit| integer| Maximum number of trades in a page of the trade wise P and L report API  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/get-report-meta-data/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1067| **The 'segment' is required** \- You must provide the 'segment' for this operation.  
UDAPI1066| **The 'segment' is invalid** \- The provided 'segment' value isn't recognized or accepted.  
UDAPI1070| **The financial_year is required** \- Please specify the 'financial_year' in your request.  
UDAPI1074| **The financial_year is invalid** \- The 'financial_year' you've provided isn't recognized or valid.  
UDAPI100051| **Invalid financial year** \- The financial year you've entered doesn't match any recognized formats or values.  
UDAPI1075| **to_date must be greater than or equal to from_date and Date should be in valid format: dd-mm-yyyy** \- Ensure your date ranges and formats are correct.  
UDAPI1105| **The provided dates do not fall within the specified financial year** \- The given dates are outside the specified financial year.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-report-meta-data/#sample-code> "Direct link to heading")

A comprehensive set of examples is provided to illustrate various use cases and implementation scenarios for this API.

  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/trade/profit-loss/metadata'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    params = {  
        'from_date': '05-11-2023',  
        'to_date': '19-12-2023',  
        'segment': 'EQ',  
        'financial_year': '2324'  
    }  
      
    response = requests.get(url, headers=headers, params=params)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/trade/profit-loss/metadata';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    const params = {  
      'from_date': '05-11-2023',  
      'to_date': '19-12-2023',  
      'segment': 'EQ',  
      'financial_year': '2324'  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message || error);  
      });  
      
    
    
    
    import java.io.BufferedReader;  
    import java.io.InputStreamReader;  
    import java.net.HttpURLConnection;  
    import java.net.URL;  
    import java.net.URLEncoder;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/trade/profit-loss/metadata";  
            String contentTypeHeader = "application/json";  
            String acceptHeader = "application/json";  
            String authToken = "Bearer {your_access_token}";  
      
            String fromDate = "05-11-2023";  
            String toDate = "19-12-2023";  
            String segment = "EQ";  
            String financialYear = "2324";  
      
            String encodedParams = String.format("from_date=%s&to_date=%s&segment=%s&financial_year=%s",  
                    URLEncoder.encode(fromDate, "UTF-8"),  
                    URLEncoder.encode(toDate, "UTF-8"),  
                    URLEncoder.encode(segment, "UTF-8"),  
                    URLEncoder.encode(financialYear, "UTF-8"));  
      
            String fullUrl = url + "?" + encodedParams;  
      
            URL obj = new URL(fullUrl);  
            HttpURLConnection connection = (HttpURLConnection) obj.openConnection();  
      
            // Set request method  
            connection.setRequestMethod("GET");  
      
            connection.setRequestProperty("Content-Type", contentTypeHeader);  
            connection.setRequestProperty("Accept", acceptHeader);  
            connection.setRequestProperty("Authorization", authToken);  
      
            int responseCode = connection.getResponseCode();  
      
            System.out.println("Sending 'GET' request to URL: " + fullUrl);  
            System.out.println("Response Code: " + responseCode);  
      
            BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));  
            String inputLine;  
            StringBuilder response = new StringBuilder();  
      
            while ((inputLine = in.readLine()) != null) {  
                response.append(inputLine);  
            }  
            in.close();  
      
            // Print the response  
            System.out.println("Response: " + response.toString());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/trade/profit-loss/metadata';  
    $contentTypeHeader = 'application/json';  
    $acceptHeader = 'application/json';  
    $authToken = 'Bearer {your_access_token}';  
      
    $fromDate = '05-11-2023';  
    $toDate = '19-12-2023';  
    $segment = 'EQ';  
    $financialYear = '2324';  
      
    $params = [  
        'from_date' => $fromDate,  
        'to_date' => $toDate,  
        'segment' => $segment,  
        'financial_year' => $financialYear  
    ];  
      
    $encodedParams = http_build_query($params);  
    $fullUrl = $url . '?' . $encodedParams;  
      
    $headers = [  
        'Content-Type: ' . $contentTypeHeader,  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authToken,  
    ];  
      
    $ch = curl_init($fullUrl);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'URL: ' . $fullUrl . PHP_EOL;  
    echo 'Response Code: ' . $httpCode . PHP_EOL;  
    echo 'Response: ' . $response . PHP_EOL;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.TradeProfitAndLossApi(upstox_client.ApiClient(configuration))  
    segment = 'EQ'  
    financial_year = '2324' # str | Financial year for which data has been requested. Concatenation of last 2 digits of from year and to year Sample:for 2021-2022, financial_year will be 2122  
    api_version = '2.0' # str | API Version Header  
    from_date = '02-04-2023' # str | Date from which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format (optional)  
    to_date = '20-03-2024' # str | Date till which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format (optional)  
      
    try:  
        # Get Trade-wise Profit and Loss Report Data  
        api_response = api_instance.get_trade_wise_profit_and_loss_meta_data(segment, financial_year, api_version, from_date=from_date, to_date=to_date)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling TradeProfitAndLossApi->get_trade_wise_profit_and_loss_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
      
    // Configure OAuth2 access token for authorization: OAUTH2  
    let OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = '{your_access_token}';  
      
    let apiInstance = new UpstoxClient.TradeProfitAndLossApi();  
    let segment = "EQ"; // String | Segment for which data is requested can be from the following options EQ - Equity,   FO - Futures and Options,   COM  - Commodity,   CD - Currency Derivatives  
    let financialYear = "2324"; // String | Financial year for which data has been requested. Concatenation of last 2 digits of from year and to year Sample:for 2021-2022, financial_year will be 2122  
    let apiVersion = "2.0"; // String | API Version Header  
    let opts = {   
      'fromDate': "02-04-2023", // String | Date from which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format  
      'toDate': "20-03-2024" // String | Date till which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format  
    };  
    apiInstance.getTradeWiseProfitAndLossMetaData(segment, financialYear, apiVersion, opts, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetTradeWiseProfitAndLossMetaDataResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.TradeProfitAndLossApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            TradeProfitAndLossApi apiInstance = new TradeProfitAndLossApi();  
            String segment = "EQ";  
            String financialYear = "2324";  
            String apiVersion = "2.0";  
            String fromDate = "02-04-2023";  
            String toDate = "20-03-2024";  
            try {  
                GetTradeWiseProfitAndLossMetaDataResponse result = apiInstance.getTradeWiseProfitAndLossMetaData(segment, financialYear, apiVersion, fromDate, toDate);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling TradeProfitAndLossApi#getTradeWiseProfitAndLossMetaData");  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    GET /trade/profit-loss/metadata

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

`segment` â€” query **required**

`financial_year` â€” query **required**

Show optional parameters

`from_date` â€” query

`to_date` â€” query


---
# Source: https://upstox.com/developer/api-documentation/get-profit-and-loss-report
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Trade Profit And Loss](<https://upstox.com/developer/api-documentation/trade-profit-and-loss>)
  * Get Profit Loss Report



## Get Profit Loss Report[â€‹](<https://upstox.com/developer/api-documentation/get-profit-and-loss-report/#get-profit-loss-report> "Direct link to heading")

### Request[â€‹](<https://upstox.com/developer/api-documentation/get-profit-and-loss-report/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/trade/profit-loss/data?from_date=05-11-2023&to_date=19-12-2023&segment=EQ&financial_year=2324&page_number=1&page_size=4' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

Additional samples in various languages are available in the [Sample Code section](<https://upstox.com/developer/api-documentation/get-profit-and-loss-report/#sample-code>) on this page.

### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-profit-and-loss-report/#query-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
from_date| false| string| Date from which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format  
to_date| false| string| Date till which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format  
segment| true| string| Segment for which data is requested can be from the following options EQ - Equity, FO - Futures and Options, COM - Commodity, CD - Currency Derivatives  
financial_year| true| string| Financial year for which data has been requested. Concatenation of last 2 digits of from year and to year Sample:for 2021-2022, financial_year will be 2122. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
page_number| true| integer (int32)| Page Number, the pages are starting from 1  
page_size| true| integer (int32)| Page size for pagination. The maximum page size value is obtained from P and L report metadata API.  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-profit-and-loss-report/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": [  
        {  
          "quantity": 100,  
          "isin": "INE256A01028",  
          "scrip_name": "ZEE ENTER",  
          "trade_type": "EQ",  
          "buy_date": "14-09-2021",  
          "buy_average": 12345.67,  
          "sell_date": "14-09-2021",  
          "sell_average": 12345.67,  
          "buy_amount": 12345.67,  
          "sell_amount": 12345.67  
        }  
      ],  
      "metadata": {  
        "page": {  
          "page_number": 1,  
          "page_size": 2  
        }  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object[]| Response data for trade wise data details  
data[].quantity| float| The quantity of stock traded  
data[].isin| string| ISIN of the stock  
data[].scrip_name| string| Name of the scrip traded  
data[].trade_type| string| FUT - Futures OPT - Options EQ - Equity  
data[].buy_date| string| The date on which the stock was bought  
data[].buy_average| float| The average rate at which each quantity of the stock was bought  
data[].sell_date| string| The date on which the stock was sold  
data[].sell_average| float| The average rate at which each quantity of the stock was sold  
data[].buy_amount| float| Total buy amount  
data[].sell_amount| float| Total sell amount  
metadata| object| Meta data for trade wise data details  
metadata.page| object| Meta data for page.  
metadata.page.page_number| int32| pageNumber for pagination  
metadata.page.page_size| int32| Page size  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/get-profit-and-loss-report/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1067| **The 'segment' is required** \- You must provide the 'segment' for this operation.  
UDAPI1066| **The 'segment' is invalid** \- The provided 'segment' value isn't recognized or accepted.  
UDAPI1070| **The financial_year is required** \- Please specify the 'financial_year' in your request.  
UDAPI1074| **The financial_year is invalid** \- The 'financial_year' you've provided isn't recognized or valid.  
UDAPI1071| **The page_number is required** \- You need to specify the page number for the data you're trying to retrieve.  
UDAPI1072| **The page_size is required** \- The page size, indicating the number of results per page, must be provided.  
UDAPI100051| **Invalid financial year** \- The financial year you've entered doesn't match any recognized formats or values.  
UDAPI1075| **to_date must be greater than or equal to from_date and Date should be in valid format: dd-mm-yyyy** \- Ensure your date ranges and formats are correct.  
UDAPI1105| **The provided dates do not fall within the specified financial year** \- The given dates are outside the specified financial year.  
UDAPI1106| **The page_size should be greater than or equal to 1** \- The page_size must be greater than 0.  
UDAPI1107| **The page_size should be less than or equal to 5000** \- The page_size must be no more than 5000.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-profit-and-loss-report/#sample-code> "Direct link to heading")

  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/trade/profit-loss/data'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    params = {  
        'from_date': '05-11-2023',  
        'to_date': '19-12-2023',  
        'segment': 'EQ',  
        'financial_year': '2324',  
        'page_number': '1',  
        'page_size': '4'  
    }  
      
    response = requests.get(url, headers=headers, params=params)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/trade/profit-loss/data';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    const params = {  
      'from_date': '05-11-2023',  
      'to_date': '19-12-2023',  
      'segment': 'EQ',  
      'financial_year': '2324',  
      'page_number': '1',  
      'page_size': '4'  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message || error);  
      });  
    
    
    
    import java.io.BufferedReader;  
    import java.io.InputStreamReader;  
    import java.net.HttpURLConnection;  
    import java.net.URL;  
    import java.net.URLEncoder;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/trade/profit-loss/data";  
            String acceptHeader = "application/json";  
            String authToken = "Bearer {your_access_token}";  
      
            String fromDate = "05-11-2023";  
            String toDate = "19-12-2023";  
            String segment = "EQ";  
            String financialYear = "2324";  
            String pageNumber = "1";  
            String pageSize = "4";  
      
            String encodedParams = String.format("from_date=%s&to_date=%s&segment=%s&financial_year=%s&page_number=%s&page_size=%s",  
                    URLEncoder.encode(fromDate, "UTF-8"),  
                    URLEncoder.encode(toDate, "UTF-8"),  
                    URLEncoder.encode(segment, "UTF-8"),  
                    URLEncoder.encode(financialYear, "UTF-8"),  
                    URLEncoder.encode(pageNumber, "UTF-8"),  
                    URLEncoder.encode(pageSize, "UTF-8"));  
      
            String fullUrl = url + "?" + encodedParams;  
      
            URL obj = new URL(fullUrl);  
            HttpURLConnection connection = (HttpURLConnection) obj.openConnection();  
      
            // Set request method  
            connection.setRequestMethod("GET");  
      
            connection.setRequestProperty("Content-Type", "application/json");  
            connection.setRequestProperty("Accept", acceptHeader);  
            connection.setRequestProperty("Authorization", authToken);  
      
            int responseCode = connection.getResponseCode();  
      
            System.out.println("Sending 'GET' request to URL: " + fullUrl);  
            System.out.println("Response Code: " + responseCode);  
      
            BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));  
            String inputLine;  
            StringBuilder response = new StringBuilder();  
      
            while ((inputLine = in.readLine()) != null) {  
                response.append(inputLine);  
            }  
            in.close();  
      
            // Print the response  
            System.out.println("Response: " + response.toString());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/trade/profit-loss/data';  
    $acceptHeader = 'application/json';  
    $authToken = 'Bearer {your_access_token}';  
      
    $fromDate = '05-11-2023';  
    $toDate = '19-12-2023';  
    $segment = 'EQ';  
    $financialYear = '2324';  
    $pageNumber = '1';  
    $pageSize = '4';  
      
    $params = [  
        'from_date' => $fromDate,  
        'to_date' => $toDate,  
        'segment' => $segment,  
        'financial_year' => $financialYear,  
        'page_number' => $pageNumber,  
        'page_size' => $pageSize,  
    ];  
      
    $encodedParams = http_build_query($params);  
    $fullUrl = $url . '?' . $encodedParams;  
      
    $headers = [  
        'Content-Type: application/json',  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authToken,  
    ];  
      
    $ch = curl_init($fullUrl);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'URL: ' . $fullUrl . PHP_EOL;  
    echo 'Response Code: ' . $httpCode . PHP_EOL;  
    echo 'Response: ' . $response . PHP_EOL;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.TradeProfitAndLossApi(upstox_client.ApiClient(configuration))  
    segment = 'EQ'  
    financial_year = '2324' # str | Financial year for which data has been requested. Concatenation of last 2 digits of from year and to year Sample:for 2021-2022, financial_year will be 2122  
    page_number = 1  
    page_size = 4  
    api_version = '2.0' # str | API Version Header  
    from_date = '02-04-2023' # str | Date from which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format (optional)  
    to_date = '20-03-2024' # str | Date till which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format (optional)  
      
    try:  
        # Get Trade-wise Profit and Loss Report Data  
        api_response = api_instance.get_trade_wise_profit_and_loss_data(segment, financial_year, page_number, page_size, api_version, from_date=from_date, to_date=to_date)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling TradeProfitAndLossApi->get_trade_wise_profit_and_loss_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
      
    // Configure OAuth2 access token for authorization: OAUTH2  
    let OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = '{your_access_token}';  
      
    let apiInstance = new UpstoxClient.TradeProfitAndLossApi();  
    let segment = "EQ"; // String | Segment for which data is requested can be from the following options EQ - Equity,   FO - Futures and Options,   COM  - Commodity,   CD - Currency Derivatives  
    let financialYear = "2324"; // String | Financial year for which data has been requested. Concatenation of last 2 digits of from year and to year Sample:for 2021-2022, financial_year will be 2122  
    let pageNumber = 1; // Number | Page Number, the pages are starting from 1  
    let pageSize = 40; // Number | Page size for pagination. The maximum page size value is obtained from P and L report metadata API.  
    let apiVersion = "2.0"; // String | API Version Header  
    let opts = {   
      'fromDate': "02-04-2023", // String | Date from which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format  
      'toDate': "20-03-2024" // String | Date till which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format  
    };  
    apiInstance.getTradeWiseProfitAndLossData(segment, financialYear, pageNumber, pageSize, apiVersion, opts, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetTradeWiseProfitAndLossDataResponse;  
    import com.upstox.api.GetTradeWiseProfitAndLossMetaDataResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.TradeProfitAndLossApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            TradeProfitAndLossApi apiInstance = new TradeProfitAndLossApi();  
            String segment = "EQ";  
            String financialYear = "2324";  
            String apiVersion = "2.0";  
            String fromDate = "02-04-2023";  
            String toDate = "20-03-2024";  
            Integer pageNumber = 1;  
            Integer pageSize = 5;  
            try {  
                GetTradeWiseProfitAndLossDataResponse result = apiInstance.getTradeWiseProfitAndLossData(segment, financialYear, pageNumber, pageSize, apiVersion, fromDate, toDate);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling TradeProfitAndLossApi#getTradeWiseProfitAndLossData");  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Get profit loss report for futures and options segment[â€‹](<https://upstox.com/developer/api-documentation/get-profit-and-loss-report/#get-profit-loss-report-for-futures-and-options-segment> "Direct link to heading")

  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/trade/profit-loss/data'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    params = {  
        'from_date': '05-11-2023',  
        'to_date': '19-12-2023',  
        'segment': 'FO',  
        'financial_year': '2324',  
        'page_number': '1',  
        'page_size': '4'  
    }  
      
    response = requests.get(url, headers=headers, params=params)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/trade/profit-loss/data';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    const params = {  
      'from_date': '05-11-2023',  
      'to_date': '19-12-2023',  
      'segment': 'FO',  
      'financial_year': '2324',  
      'page_number': '1',  
      'page_size': '4'  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message || error);  
      });  
    
    
    
    import java.io.BufferedReader;  
    import java.io.InputStreamReader;  
    import java.net.HttpURLConnection;  
    import java.net.URL;  
    import java.net.URLEncoder;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/trade/profit-loss/data";  
            String acceptHeader = "application/json";  
            String authToken = "Bearer {your_access_token}";  
      
            String fromDate = "05-11-2023";  
            String toDate = "19-12-2023";  
            String segment = "FO";  
            String financialYear = "2324";  
            String pageNumber = "1";  
            String pageSize = "4";  
      
            String encodedParams = String.format("from_date=%s&to_date=%s&segment=%s&financial_year=%s&page_number=%s&page_size=%s",  
                    URLEncoder.encode(fromDate, "UTF-8"),  
                    URLEncoder.encode(toDate, "UTF-8"),  
                    URLEncoder.encode(segment, "UTF-8"),  
                    URLEncoder.encode(financialYear, "UTF-8"),  
                    URLEncoder.encode(pageNumber, "UTF-8"),  
                    URLEncoder.encode(pageSize, "UTF-8"));  
      
            String fullUrl = url + "?" + encodedParams;  
      
            URL obj = new URL(fullUrl);  
            HttpURLConnection connection = (HttpURLConnection) obj.openConnection();  
      
            // Set request method  
            connection.setRequestMethod("GET");  
      
            connection.setRequestProperty("Content-Type", "application/json");  
            connection.setRequestProperty("Accept", acceptHeader);  
            connection.setRequestProperty("Authorization", authToken);  
      
            int responseCode = connection.getResponseCode();  
      
            System.out.println("Sending 'GET' request to URL: " + fullUrl);  
            System.out.println("Response Code: " + responseCode);  
      
            BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));  
            String inputLine;  
            StringBuilder response = new StringBuilder();  
      
            while ((inputLine = in.readLine()) != null) {  
                response.append(inputLine);  
            }  
            in.close();  
      
            // Print the response  
            System.out.println("Response: " + response.toString());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/trade/profit-loss/data';  
    $acceptHeader = 'application/json';  
    $authToken = 'Bearer {your_access_token}';  
      
    $fromDate = '05-11-2023';  
    $toDate = '19-12-2023';  
    $segment = 'FO';  
    $financialYear = '2324';  
    $pageNumber = '1';  
    $pageSize = '4';  
      
    $params = [  
        'from_date' => $fromDate,  
        'to_date' => $toDate,  
        'segment' => $segment,  
        'financial_year' => $financialYear,  
        'page_number' => $pageNumber,  
        'page_size' => $pageSize,  
    ];  
      
    $encodedParams = http_build_query($params);  
    $fullUrl = $url . '?' . $encodedParams;  
      
    $headers = [  
        'Content-Type: application/json',  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authToken,  
    ];  
      
    $ch = curl_init($fullUrl);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'URL: ' . $fullUrl . PHP_EOL;  
    echo 'Response Code: ' . $httpCode . PHP_EOL;  
    echo 'Response: ' . $response . PHP_EOL;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.TradeProfitAndLossApi(upstox_client.ApiClient(configuration))  
    segment = 'FO'  
    financial_year = '2324' # str | Financial year for which data has been requested. Concatenation of last 2 digits of from year and to year Sample:for 2021-2022, financial_year will be 2122  
    page_number = 1  
    page_size = 4  
    api_version = '2.0' # str | API Version Header  
    from_date = '02-04-2023' # str | Date from which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format (optional)  
    to_date = '20-03-2024' # str | Date till which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format (optional)  
      
    try:  
        # Get Trade-wise Profit and Loss Report Data  
        api_response = api_instance.get_trade_wise_profit_and_loss_data(segment, financial_year, page_number, page_size, api_version, from_date=from_date, to_date=to_date)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling TradeProfitAndLossApi->get_trade_wise_profit_and_loss_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
      
    // Configure OAuth2 access token for authorization: OAUTH2  
    let OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = '{your_access_token}';  
      
    let apiInstance = new UpstoxClient.TradeProfitAndLossApi();  
    let segment = "FO"; // String | Segment for which data is requested can be from the following options EQ - Equity,   FO - Futures and Options,   COM  - Commodity,   CD - Currency Derivatives  
    let financialYear = "2324"; // String | Financial year for which data has been requested. Concatenation of last 2 digits of from year and to year Sample:for 2021-2022, financial_year will be 2122  
    let pageNumber = 1; // Number | Page Number, the pages are starting from 1  
    let pageSize = 40; // Number | Page size for pagination. The maximum page size value is obtained from P and L report metadata API.  
    let apiVersion = "2.0"; // String | API Version Header  
    let opts = {   
      'fromDate': "02-04-2023", // String | Date from which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format  
      'toDate': "20-03-2024" // String | Date till which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format  
    };  
    apiInstance.getTradeWiseProfitAndLossData(segment, financialYear, pageNumber, pageSize, apiVersion, opts, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetTradeWiseProfitAndLossDataResponse;  
    import com.upstox.api.GetTradeWiseProfitAndLossMetaDataResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.TradeProfitAndLossApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            TradeProfitAndLossApi apiInstance = new TradeProfitAndLossApi();  
            String segment = "FO";  
            String financialYear = "2324";  
            String apiVersion = "2.0";  
            String fromDate = "02-04-2023";  
            String toDate = "20-03-2024";  
            Integer pageNumber = 1;  
            Integer pageSize = 5;  
            try {  
                GetTradeWiseProfitAndLossDataResponse result = apiInstance.getTradeWiseProfitAndLossData(segment, financialYear, pageNumber, pageSize, apiVersion, fromDate, toDate);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling TradeProfitAndLossApi#getTradeWiseProfitAndLossData");  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    GET /trade/profit-loss/data

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

`segment` â€” query **required**

`financial_year` â€” query **required**

`page_number` â€” query **required**

`page_size` â€” query **required**

Show optional parameters

`from_date` â€” query

`to_date` â€” query


---
# Source: https://upstox.com/developer/api-documentation/get-trade-charges
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Trade Profit And Loss](<https://upstox.com/developer/api-documentation/trade-profit-and-loss>)
  * Get Trades Charges



## Get Trades Charges[â€‹](<https://upstox.com/developer/api-documentation/get-trade-charges/#get-trades-charges> "Direct link to heading")

### Request[â€‹](<https://upstox.com/developer/api-documentation/get-trade-charges/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/trade/profit-loss/charges?from_date=05-11-2023&to_date=19-12-2023&segment=EQ&financial_year=2324' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

Additional samples in various languages are available in the [Sample Code section](<https://upstox.com/developer/api-documentation/get-trade-charges/#sample-code>) on this page.

### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-trade-charges/#query-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
from_date| false| string| Date from which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format  
to_date| false| string| Date till which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format  
segment| true| string| Segment for which data is requested can be from the following options EQ - Equity, FO - Futures and Options, COM - Commodity, CD - Currency Derivatives  
financial_year| true| string| Financial year for which data has been requested. Concatenation of last 2 digits of from year and to year Sample:for 2021-2022, financial_year will be 2122. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-trade-charges/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "charges_breakdown": {  
          "total": 154.23,  
          "brokerage": 97.23,  
          "taxes": {  
            "gst": 20.93,  
            "stt": 15,  
            "stamp_duty": 2  
          },  
          "charges": {  
            "transaction": 0.56,  
            "clearing": 0,  
            "ipft": null,  
            "others": 0,  
            "sebi_turnover": 0.01,  
            "demat_transaction": 18.5  
          }  
        }  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Response data for brokerage  
data.charges_breakdown| object| Response data for charges details  
data.charges_breakdown.total| float| Total charges for the user  
data.charges_breakdown.brokerage| float| Brokerage charges for the order  
data.charges_breakdown.taxes| object| Taxes levied on order  
data.charges_breakdown.taxes.gst| float| GST charges  
data.charges_breakdown.taxes.stt| float| STT charges  
data.charges_breakdown.taxes.stamp_duty| float| Stamp duty charges  
data.charges_breakdown.charges| object| Other charges levied  
data.charges_breakdown.charges.transaction| float| transaction charges  
data.charges_breakdown.charges.clearing| float| clearing charges  
data.charges_breakdown.charges.ipft| float| IPF charges  
data.charges_breakdown.charges.others| float| others charges  
data.charges_breakdown.charges.sebi_turnover| float| SEBI turnover  
data.charges_breakdown.charges.demat_transaction| float| demat transaction charges  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/get-trade-charges/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1067| **The 'segment' is required** \- You must provide the 'segment' for this operation.  
UDAPI1066| **The 'segment' is invalid** \- The provided 'segment' value isn't recognized or accepted.  
UDAPI1070| **The financial_year is required** \- Please specify the 'financial_year' in your request.  
UDAPI1074| **The financial_year is invalid** \- The 'financial_year' you've provided isn't recognized or valid.  
UDAPI100051| **Invalid financial year** \- The financial year you've entered doesn't match any recognized formats or values.  
UDAPI1075| **to_date must be greater than or equal to from_date and Date should be in valid format: dd-mm-yyyy** \- Ensure your date ranges and formats are correct.  
UDAPI1105| **The provided dates do not fall within the specified financial year** \- The given dates are outside the specified financial year.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-trade-charges/#sample-code> "Direct link to heading")

  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/trade/profit-loss/charges'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    params = {  
        'from_date': '05-11-2023',  
        'to_date': '19-12-2023',  
        'segment': 'EQ',  
        'financial_year': '2324'  
    }  
      
    response = requests.get(url, headers=headers, params=params)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/trade/profit-loss/charges';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    const params = {  
      'from_date': '05-11-2023',  
      'to_date': '19-12-2023',  
      'segment': 'EQ',  
      'financial_year': '2324'  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message || error);  
      });  
    
    
    
    import java.io.BufferedReader;  
    import java.io.InputStreamReader;  
    import java.net.HttpURLConnection;  
    import java.net.URL;  
    import java.net.URLEncoder;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/trade/profit-loss/charges";  
            String contentTypeHeader = "application/json";  
            String acceptHeader = "application/json";  
            String authToken = "Bearer {your_access_token}";  
      
            String fromDate = "05-11-2023";  
            String toDate = "19-12-2023";  
            String segment = "EQ";  
            String financialYear = "2324";  
      
            String encodedParams = String.format("from_date=%s&to_date=%s&segment=%s&financial_year=%s",  
                    URLEncoder.encode(fromDate, "UTF-8"),  
                    URLEncoder.encode(toDate, "UTF-8"),  
                    URLEncoder.encode(segment, "UTF-8"),  
                    URLEncoder.encode(financialYear, "UTF-8"));  
      
            String fullUrl = url + "?" + encodedParams;  
      
            URL obj = new URL(fullUrl);  
            HttpURLConnection connection = (HttpURLConnection) obj.openConnection();  
      
            // Set request method  
            connection.setRequestMethod("GET");  
      
            connection.setRequestProperty("Content-Type", contentTypeHeader);  
            connection.setRequestProperty("Accept", acceptHeader);  
            connection.setRequestProperty("Authorization", authToken);  
      
            int responseCode = connection.getResponseCode();  
      
            System.out.println("Sending 'GET' request to URL: " + fullUrl);  
            System.out.println("Response Code: " + responseCode);  
      
            BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));  
            String inputLine;  
            StringBuilder response = new StringBuilder();  
      
            while ((inputLine = in.readLine()) != null) {  
                response.append(inputLine);  
            }  
            in.close();  
      
            // Print the response  
            System.out.println("Response: " + response.toString());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/trade/profit-loss/charges';  
    $contentTypeHeader = 'application/json';  
    $acceptHeader = 'application/json';  
    $authToken = 'Bearer {your_access_token}';  
      
    $fromDate = '05-11-2023';  
    $toDate = '19-12-2023';  
    $segment = 'EQ';  
    $financialYear = '2324';  
      
    $params = [  
        'from_date' => $fromDate,  
        'to_date' => $toDate,  
        'segment' => $segment,  
        'financial_year' => $financialYear  
    ];  
      
    $encodedParams = http_build_query($params);  
    $fullUrl = $url . '?' . $encodedParams;  
      
    $headers = [  
        'Content-Type: ' . $contentTypeHeader,  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authToken,  
    ];  
      
    $ch = curl_init($fullUrl);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'URL: ' . $fullUrl . PHP_EOL;  
    echo 'Response Code: ' . $httpCode . PHP_EOL;  
    echo 'Response: ' . $response . PHP_EOL;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.TradeProfitAndLossApi(upstox_client.ApiClient(configuration))  
    segment = 'EQ'  
    financial_year = '2324' # str | Financial year for which data has been requested. Concatenation of last 2 digits of from year and to year Sample:for 2021-2022, financial_year will be 2122  
    api_version = '2.0' # str | API Version Header  
    from_date = '02-04-2023' # str | Date from which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format (optional)  
    to_date = '20-03-2024' # str | Date till which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format (optional)  
      
    try:  
        # Get Trade-wise Profit and Loss Report Data  
        api_response = api_instance.get_profit_and_loss_charges(segment, financial_year, api_version, from_date=from_date, to_date=to_date)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling TradeProfitAndLossApi->get_trade_wise_profit_and_loss_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
      
    // Configure OAuth2 access token for authorization: OAUTH2  
    let OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = '{your_access_token}';  
      
    let apiInstance = new UpstoxClient.TradeProfitAndLossApi();  
    let segment = "EQ"; // String | Segment for which data is requested can be from the following options EQ - Equity,   FO - Futures and Options,   COM  - Commodity,   CD - Currency Derivatives  
    let financialYear = "2324"; // String | Financial year for which data has been requested. Concatenation of last 2 digits of from year and to year Sample:for 2021-2022, financial_year will be 2122  
    let apiVersion = "2.0"; // String | API Version Header  
    let opts = {   
      'fromDate': "02-04-2023", // String | Date from which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format  
      'toDate': "20-03-2024" // String | Date till which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format  
    };  
    apiInstance.getProfitAndLossCharges(segment, financialYear, apiVersion, opts, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetProfitAndLossChargesResponse;  
    import com.upstox.api.GetTradeWiseProfitAndLossDataResponse;  
    import com.upstox.api.GetTradeWiseProfitAndLossMetaDataResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.TradeProfitAndLossApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            TradeProfitAndLossApi apiInstance = new TradeProfitAndLossApi();  
            String segment = "EQ";  
            String financialYear = "2324";  
            String apiVersion = "2.0";  
            String fromDate = "02-04-2023";  
            String toDate = "20-03-2024";  
            try {  
                GetProfitAndLossChargesResponse result = apiInstance.getProfitAndLossCharges(segment, financialYear, apiVersion, fromDate, toDate);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling TradeProfitAndLossApi#getProfitAndLossCharges");  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    GET /trade/profit-loss/charges

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

`segment` â€” query **required**

`financial_year` â€” query **required**

Show optional parameters

`from_date` â€” query

`to_date` â€” query


---
# Source: https://upstox.com/developer/api-documentation/historical-data
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * Historical Data



# Historical Data

## [description Historical Candle Data V3Get historical OHLC values for the given instrument with expanded units and interval options.](<https://upstox.com/developer/api-documentation/v3/get-historical-candle-data>)## [description Intraday Candle Data V3Get present trading day OHLC values for the given instrument with expanded interval options.](<https://upstox.com/developer/api-documentation/v3/get-intra-day-candle-data>)## [description Historical Candle DataGet historical OHLC values for the given instrument.](<https://upstox.com/developer/api-documentation/get-historical-candle-data>)## [description Intraday Candle DataGet present trading day OHLC values for the given instrument.](<https://upstox.com/developer/api-documentation/get-intra-day-candle-data>)


---
# Source: https://upstox.com/developer/api-documentation/v3/get-historical-candle-data
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Historical Data](<https://upstox.com/developer/api-documentation/historical-data>)
  * Historical Candle Data V3



## Historical Candle Data V3[â€‹](<https://upstox.com/developer/api-documentation/v3/get-historical-candle-data/#historical-candle-data-v3> "Direct link to heading")

Compared to the standard [Historical Candle Data API](<https://upstox.com/developer/api-documentation/get-historical-candle-data>), API V3 allows users to retrieve data in custom time intervals for each unit (`minutes`, `hours`, `days`, `weeks`, and `months`), enabling more granular data control and improved flexibility for analysis. The response structure maintains consistency with the standard Historical Candle Data API format, facilitating seamless integration with existing applications and systems.

The API is designed to handle large volumes of data efficiently, ensuring quick response times even for extensive historical queries.

This API is particularly useful for traders and analysts who need to analyze historical price movements and trends in the financial markets.

The API offers OHLC (Open, High, Low, Close) data for instruments across multiple timeframes, with different historical availability and retrieval constraints based on the selected unit and interval as per the below table:

Unit| Interval Options| Historical Availability| Max retrieval record limit  
---|---|---|---  
minutes| 1, 2, ... 300| Available from January, 2022| `1 month` \- Applicable for intervals ranging from 1 to 15 minutes.   
  
`1 quarter` \- Used for intervals greater than 15 minutes, up to the specified to_date.  
hours| 1, 2, ... 5| Available from January, 2022| `1 quarter` leading up to the to_date.  
days| 1| Available from January, 2000| `1 decade` leading up to the to_date.  
weeks| 1| Available from January, 2000| No limit.  
months| 1| Available from January, 2000| No limit.  
  
### Request[â€‹](<https://upstox.com/developer/api-documentation/v3/get-historical-candle-data/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/1/2025-01-02/2025-01-01' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

Additional samples in various languages are available in the [Sample Code section](<https://upstox.com/developer/api-documentation/v3/get-historical-candle-data/#sample-code>) on this page.

  


### Path Parameters[â€‹](<https://upstox.com/developer/api-documentation/v3/get-historical-candle-data/#path-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
instrument_key| true| string| The unique identifier for the financial instrument for which historical data is being queried. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
unit| true| string| Specifies the unit for the candles.  
Possible values: `minutes`, `hours`, `days`, `weeks`, `months`.  
interval| true| string| Specifies the interval for the candles.  
Possible values:   
`1`, `2`, `3`, ..., `300` for minutes.   
`1`, `2`, ..., `5` for hours.   
`1` for days, weeks, and months.  
to_date| true| string| The ending date (inclusive) for the historical data range. Format: 'YYYY-MM-DD'.  
from_date| false| string| The starting date for the historical data range. Format: 'YYYY-MM-DD'.  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/v3/get-historical-candle-data/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "candles": [  
          [  
            "2025-01-01T00:00:00+05:30",  
            53.1,  
            53.95,  
            51.6,  
            52.05,  
            235519861,  
            0  
          ],  
          [  
            "2025-02-01T00:00:00+05:30",  
            50.35,  
            56.85,  
            49.35,  
            52.8,  
            1004998611,  
            0  
          ]  
        ]  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Contains OHLC values for all instruments across various timeframes.  
data.candles| array[]| Array of candle data, each presented as an array with sequential elements representing trading activity.  
data.candle[0]| number| `Timestamp`: Indicating the start time of the candle's timeframe.  
data.candle[1]| number| `Open`: The opening price of the asset for the given timeframe.  
data.candle[2]| number| `High`: The highest price at which the asset traded during the timeframe.  
data.candle[3]| number| `Low`: The lowest price at which the asset traded during the timeframe.  
data.candle[4]| number| `Close`: The closing price of the asset for the given timeframe.  
data.candle[5]| number| `Volume`: The total amount of the asset that was traded during the timeframe.  
data.candle[6]| number| `Open Interest`: The total number of outstanding derivative contracts, such as options or futures.  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/v3/get-historical-candle-data/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1021| **Instrument key is of invalid format** \- The provided instrument key doesn't conform to the expected format.  
UDAPI1022| **to_date is required** \- You must specify the `to_date` in your request.  
UDAPI100011| **Invalid Instrument key** \- The instrument key you provided doesn't match any of the recognized keys in the system.  
UDAPI1015| **to_date must be greater than or equal to from_date and Date should be in valid format: yyyy-mm-dd** \- Ensure that `to_date` is greater than or equal to `from_date` and both are in the correct format.  
UDAPI1146| **Invalid unit** \- The unit you provided is not recognized. Valid options are `minutes`, `hours`, `days`, `weeks`, or `months`.  
UDAPI1147| **Invalid interval** \- The interval you provided is not valid for the specified unit. For example, if the unit is `minutes`, valid intervals are `1` to `300`.  
UDAPI1148| **Invalid date range** \- The date range specified in the request is not valid. Ensure that the `from_date` and `to_date` are within the acceptable limits for the selected interval.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/v3/get-historical-candle-data/#sample-code> "Direct link to heading")

### Get data with a 1-minute interval[â€‹](<https://upstox.com/developer/api-documentation/v3/get-historical-candle-data/#get-data-with-a-1-minute-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/1/2025-01-02/2025-01-01' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/1/2025-01-02/2025-01-01'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/1/2025-01-02/2025-01-01';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/1/2025-01-02/2025-01-01";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/1/2025-01-02/2025-01-01';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\n" .  
                       "Accept: application/json\r\n" .  
                       "Authorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
      
    
    
    
    import upstox_client  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    apiInstance = upstox_client.HistoryV3Api(upstox_client.ApiClient(configuration))  
    try:  
        response = apiInstance.get_historical_candle_data1("NSE_EQ|INE848E01016", "minutes", "1", "2025-01-02", "2025-01-01")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_historical_candle_data1: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getHistoricalCandleData1("NSE_EQ|INE848E01016", "minutes", "1", "2025-01-02", "2025-01-01", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.HistoryV3Api;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetHistoricalCandleResponse result = historyV3Api.getHistoricalCandleData1("NSE_EQ|INE848E01016", "minutes", 1, "2025-01-02", "2025-01-01");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Get data with a 3-minute interval[â€‹](<https://upstox.com/developer/api-documentation/v3/get-historical-candle-data/#get-data-with-a-3-minute-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/3/2025-01-02/2025-01-01' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/3/2025-01-02/2025-01-01'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/3/2025-01-02/2025-01-01';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/3/2025-01-02/2025-01-01";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/3/2025-01-02/2025-01-01';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\n" .  
                       "Accept: application/json\r\n" .  
                       "Authorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    apiInstance = upstox_client.HistoryV3Api(upstox_client.ApiClient(configuration))  
    try:  
        response = apiInstance.get_historical_candle_data1("NSE_EQ|INE848E01016", "minutes", "3", "2025-01-02", "2025-01-01")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_historical_candle_data1: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getHistoricalCandleData1("NSE_EQ|INE848E01016", "minutes", "3", "2025-01-02", "2025-01-01", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.HistoryV3Api;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetHistoricalCandleResponse result = historyV3Api.getHistoricalCandleData1("NSE_EQ|INE848E01016", "minutes", 3, "2025-01-02", "2025-01-01");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Get data with a 15-minute interval[â€‹](<https://upstox.com/developer/api-documentation/v3/get-historical-candle-data/#get-data-with-a-15-minute-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/15/2025-01-04/2025-01-01' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/15/2025-01-04/2025-01-01'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/15/2025-01-04/2025-01-01';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/15/2025-01-04/2025-01-01";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/15/2025-01-04/2025-01-01';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\n" .  
                       "Accept: application/json\r\n" .  
                       "Authorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    apiInstance = upstox_client.HistoryV3Api(upstox_client.ApiClient(configuration))  
    try:  
        response = apiInstance.get_historical_candle_data1("NSE_EQ|INE848E01016", "minutes", "15", "2025-01-04", "2025-01-01")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_historical_candle_data1: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getHistoricalCandleData1("NSE_EQ|INE848E01016", "minutes", "15", "2025-01-04", "2025-01-01", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.HistoryV3Api;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetHistoricalCandleResponse result = historyV3Api.getHistoricalCandleData1("NSE_EQ|INE848E01016", "minutes", 15, "2025-01-04", "2025-01-01");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Get data with a 1-hour interval[â€‹](<https://upstox.com/developer/api-documentation/v3/get-historical-candle-data/#get-data-with-a-1-hour-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/hours/1/2025-02-01/2025-01-01' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/hours/1/2025-02-01/2025-01-01'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/hours/1/2025-02-01/2025-01-01';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/hours/1/2025-02-01/2025-01-01";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/hours/1/2025-02-01/2025-01-01';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\n" .  
                       "Accept: application/json\r\n" .  
                       "Authorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    apiInstance = upstox_client.HistoryV3Api(upstox_client.ApiClient(configuration))  
    try:  
        response = apiInstance.get_historical_candle_data1("NSE_EQ|INE848E01016", "hours", "1", "2025-02-01", "2025-01-01")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_historical_candle_data1: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getHistoricalCandleData1("NSE_EQ|INE848E01016", "hours", "1", "2025-02-01", "2025-01-01", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.HistoryV3Api;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetHistoricalCandleResponse result = historyV3Api.getHistoricalCandleData1("NSE_EQ|INE848E01016", "hours", 1, "2025-02-01", "2025-01-01");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Get data with a 4-hour interval[â€‹](<https://upstox.com/developer/api-documentation/v3/get-historical-candle-data/#get-data-with-a-4-hour-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/hours/4/2025-02-01/2025-01-01' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/hours/4/2025-02-01/2025-01-01'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/hours/4/2025-02-01/2025-01-01';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/hours/4/2025-02-01/2025-01-01";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/hours/4/2025-02-01/2025-01-01';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\n" .  
                       "Accept: application/json\r\n" .  
                       "Authorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    apiInstance = upstox_client.HistoryV3Api(upstox_client.ApiClient(configuration))  
    try:  
        response = apiInstance.get_historical_candle_data1("NSE_EQ|INE848E01016", "hours", "4", "2025-02-01", "2025-01-01")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_historical_candle_data1: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getHistoricalCandleData1("NSE_EQ|INE848E01016", "hours", "4", "2025-02-01", "2025-01-01", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.HistoryV3Api;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetHistoricalCandleResponse result = historyV3Api.getHistoricalCandleData1("NSE_EQ|INE848E01016", "hours", 4, "2025-02-01", "2025-01-01");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Get data with a daily interval[â€‹](<https://upstox.com/developer/api-documentation/v3/get-historical-candle-data/#get-data-with-a-daily-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/days/1/2025-03-01/2025-01-01' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/days/1/2025-03-01/2025-01-01'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/days/1/2025-03-01/2025-01-01';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/days/1/2025-03-01/2025-01-01";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/days/1/2025-03-01/2025-01-01';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\n" .  
                       "Accept: application/json\r\n" .  
                       "Authorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
      
    
    
    
    import upstox_client  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    apiInstance = upstox_client.HistoryV3Api(upstox_client.ApiClient(configuration))  
    try:  
        response = apiInstance.get_historical_candle_data1("NSE_EQ|INE848E01016", "days", "1", "2025-03-01", "2025-01-01")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_historical_candle_data1: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getHistoricalCandleData1("NSE_EQ|INE848E01016", "days", "1", "2025-03-01", "2025-01-01", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.HistoryV3Api;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetHistoricalCandleResponse result = historyV3Api.getHistoricalCandleData1("NSE_EQ|INE848E01016", "days", 1, "2025-03-01", "2025-01-01");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Get data with a weekly interval[â€‹](<https://upstox.com/developer/api-documentation/v3/get-historical-candle-data/#get-data-with-a-weekly-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/weeks/1/2025-01-01/2024-01-01' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/weeks/1/2025-01-01/2024-01-01'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/weeks/1/2025-01-01/2024-01-01';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/weeks/1/2025-01-01/2024-01-01";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/weeks/1/2025-01-01/2024-01-01';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\n" .  
                       "Accept: application/json\r\n" .  
                       "Authorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
      
    
    
    
    import upstox_client  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    apiInstance = upstox_client.HistoryV3Api(upstox_client.ApiClient(configuration))  
    try:  
        response = apiInstance.get_historical_candle_data1("NSE_EQ|INE848E01016", "weeks", "1", "2025-01-01", "2024-01-01")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_historical_candle_data1: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getHistoricalCandleData1("NSE_EQ|INE848E01016", "weeks", "1", "2025-01-01", "2024-01-01", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.HistoryV3Api;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetHistoricalCandleResponse result = historyV3Api.getHistoricalCandleData1("NSE_EQ|INE848E01016", "weeks", 1, "2025-01-01", "2024-01-01");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Get data with a monthly interval[â€‹](<https://upstox.com/developer/api-documentation/v3/get-historical-candle-data/#get-data-with-a-monthly-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/months/1/2025-01-01/2010-01-01' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/months/1/2025-01-01/2010-01-01'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/months/1/2025-01-01/2010-01-01';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/months/1/2025-01-01/2010-01-01";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/months/1/2025-01-01/2010-01-01';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\n" .  
                       "Accept: application/json\r\n" .  
                       "Authorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    apiInstance = upstox_client.HistoryV3Api(upstox_client.ApiClient(configuration))  
    try:  
        response = apiInstance.get_historical_candle_data1("NSE_EQ|INE848E01016", "months", "1", "2025-01-01", "2010-01-01")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_historical_candle_data1: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getHistoricalCandleData1("NSE_EQ|INE848E01016", "months", "1", "2025-01-01", "2010-01-01", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.HistoryV3Api;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetHistoricalCandleResponse result = historyV3Api.getHistoricalCandleData1("NSE_EQ|INE848E01016", "months", 1, "2025-01-01", "2010-01-01");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
    

  

    
    
    GET /historical-candle/:instrument_key/:unit/:interval/:to_date/:from_date

#### Request

Live URLhttps://api.upstox.com/v3

`Authorization`

Bearer

`instrument_key` â€” path **required**

`unit` â€” path **required**

`interval` â€” path **required**

`to_date` â€” path **required**

Show optional parameters

`from_date` â€” path

NOTE

  * Use the [Intraday Candle Data API V3](<https://upstox.com/developer/api-documentation/v3/get-intra-day-candle-data>) to retrieve data specific to the current trading day with the wide range of units and intervals
  * It's important to note that if the retrieval record limit is exceeded, then the API will throw an error indicating that the request is invalid.
  * This V3 API provides additional custom interval options that are not available in the standard Historical Candle Data API




---
# Source: https://upstox.com/developer/api-documentation/v3/get-intra-day-candle-data
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Historical Data](<https://upstox.com/developer/api-documentation/historical-data>)
  * Intraday Candle Data V3



## Intraday Candle Data V3[â€‹](<https://upstox.com/developer/api-documentation/v3/get-intra-day-candle-data/#intraday-candle-data-v3> "Direct link to heading")

This API is an extended version of standard [Intraday Candle Data API](<https://upstox.com/developer/api-documentation/get-intra-day-candle-data>), which allows you to retrieve Open, High, Low, and Close (OHLC) values for the current trading day. It supports customizable time intervals across various units such as `minutes`, `hours`, `days`.

This API is particularly useful for traders and analysts who require detailed intraday data for technical analysis, backtesting, or algorithmic trading strategies. This V3 API provides additional custom interval options that are not available in the standard Intraday Candle Data API.

This API provides the following unit and interval options for intraday data:

Unit| Interval Options  
---|---  
minutes| 1, 2, 3, ... 300  
hours| 1, 2, ... 5  
days| 1  
  
### Request[â€‹](<https://upstox.com/developer/api-documentation/v3/get-intra-day-candle-data/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/1' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

Additional samples in various languages are available in the [Sample Code section](<https://upstox.com/developer/api-documentation/v3/get-intra-day-candle-data/#sample-code>) on this page.

### Path Parameters[â€‹](<https://upstox.com/developer/api-documentation/v3/get-intra-day-candle-data/#path-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
instrument_key| true| string| The unique identifier for the financial instrument for which historical data is being queried. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
unit| true| string| Specifies the unit for the candles.  
Possible values: `minutes`, `hours`, `days`.  
interval| true| string| Specifies the interval for the candles.  
Possible values:   
`1`, `2`, `3`, ..., `300` for minutes.   
`1`, `2`, ..., `5` for hours.   
`1` for days.  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/v3/get-intra-day-candle-data/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "candles": [  
          [  
            "2025-01-12T15:15:00+05:30",  
            2305.3,  
            2307.05,  
            2301,  
            2304.65,  
            559982,  
            0  
          ],  
          [  
            "2025-01-12T14:45:00+05:30",  
            2309.1,  
            2310.75,  
            2305.25,  
            2305.3,  
            740124,  
            0  
          ]  
        ]  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Contains OHLC values for all instruments across various timeframes.  
data.candles| array[]| Array of candle data, each presented as an array with sequential elements representing trading activity.  
data.candle[0]| number| `Timestamp`: Indicating the start time of the candle's timeframe.  
data.candle[1]| number| `Open`: The opening price of the asset for the given timeframe.  
data.candle[2]| number| `High`: The highest price at which the asset traded during the timeframe.  
data.candle[3]| number| `Low`: The lowest price at which the asset traded during the timeframe.  
data.candle[4]| number| `Close`: The closing price of the asset for the given timeframe.  
data.candle[5]| number| `Volume`: The total amount of the asset that was traded during the timeframe.  
data.candle[6]| number| `Open Interest`: The total number of outstanding derivative contracts, such as options or futures.  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/v3/get-intra-day-candle-data/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1021| **Instrument key is of invalid format** \- The provided instrument key doesn't conform to the expected format.  
UDAPI100011| **Invalid Instrument key** \- The instrument key you provided doesn't match any of the recognized keys in the system.  
UDAPI1146| **Invalid unit** \- The unit you provided is not recognized. Valid options are `minutes`, `hours`, `days`, `weeks`, or `months`.  
UDAPI1147| **Invalid interval** \- The interval you provided is not valid for the specified unit. For example, if the unit is `minutes`, valid intervals are `1` to `300`.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/v3/get-intra-day-candle-data/#sample-code> "Direct link to heading")

### Get data with a 1-minute interval[â€‹](<https://upstox.com/developer/api-documentation/v3/get-intra-day-candle-data/#get-data-with-a-1-minute-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/1' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/1'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/1';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/1";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/1';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\n" .  
                       "Accept: application/json\r\n" .  
                       "Authorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
      
    
    
    
    import upstox_client  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.HistoryV3Api(upstox_client.ApiClient(configuration))  
    try:  
        response = api_instance.get_intra_day_candle_data("NSE_EQ|INE848E01016", "minutes", "1")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_intra_day_candle_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getIntraDayCandleData("NSE_EQ|INE848E01016", "minutes", "1", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetIntraDayCandleResponse result = historyV3Api.getIntraDayCandleData("NSE_EQ|INE848E01016", "minutes", 1);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getIntraDayCandleData");  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Get data with a 3-minute interval[â€‹](<https://upstox.com/developer/api-documentation/v3/get-intra-day-candle-data/#get-data-with-a-3-minute-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/3' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/3'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/3';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/3";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/3';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\n" .  
                       "Accept: application/json\r\n" .  
                       "Authorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.HistoryV3Api(upstox_client.ApiClient(configuration))  
    try:  
        response = api_instance.get_intra_day_candle_data("NSE_EQ|INE848E01016", "minutes", "3")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_intra_day_candle_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getIntraDayCandleData("NSE_EQ|INE848E01016", "minutes", "3", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetIntraDayCandleResponse result = historyV3Api.getIntraDayCandleData("NSE_EQ|INE848E01016", "minutes", 3);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getIntraDayCandleData");  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Get data with a 5-minute interval[â€‹](<https://upstox.com/developer/api-documentation/v3/get-intra-day-candle-data/#get-data-with-a-5-minute-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/5' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/5'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/5';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/5";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/5';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\n" .  
                       "Accept: application/json\r\n" .  
                       "Authorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.HistoryV3Api(upstox_client.ApiClient(configuration))  
    try:  
        response = api_instance.get_intra_day_candle_data("NSE_EQ|INE848E01016", "minutes", "5")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_intra_day_candle_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getIntraDayCandleData("NSE_EQ|INE848E01016", "minutes", "5", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetIntraDayCandleResponse result = historyV3Api.getIntraDayCandleData("NSE_EQ|INE848E01016", "minutes", 5);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getIntraDayCandleData");  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Get data with a 15-minute interval[â€‹](<https://upstox.com/developer/api-documentation/v3/get-intra-day-candle-data/#get-data-with-a-15-minute-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/15' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/15'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/15';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/15";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/15';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\n" .  
                       "Accept: application/json\r\n" .  
                       "Authorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.HistoryV3Api(upstox_client.ApiClient(configuration))  
    try:  
        response = api_instance.get_intra_day_candle_data("NSE_EQ|INE848E01016", "minutes", "15")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_intra_day_candle_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getIntraDayCandleData("NSE_EQ|INE848E01016", "minutes", "15", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetIntraDayCandleResponse result = historyV3Api.getIntraDayCandleData("NSE_EQ|INE848E01016", "minutes", 15);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getIntraDayCandleData");  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Get data with a 30-minute interval[â€‹](<https://upstox.com/developer/api-documentation/v3/get-intra-day-candle-data/#get-data-with-a-30-minute-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/30' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/30'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/30';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/30";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/30';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\n" .  
                       "Accept: application/json\r\n" .  
                       "Authorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.HistoryV3Api(upstox_client.ApiClient(configuration))  
    try:  
        response = api_instance.get_intra_day_candle_data("NSE_EQ|INE848E01016", "minutes", "30")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_intra_day_candle_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getIntraDayCandleData("NSE_EQ|INE848E01016", "minutes", "30", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetIntraDayCandleResponse result = historyV3Api.getIntraDayCandleData("NSE_EQ|INE848E01016", "minutes", 30);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getIntraDayCandleData");  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Get data with a 1-hour interval[â€‹](<https://upstox.com/developer/api-documentation/v3/get-intra-day-candle-data/#get-data-with-a-1-hour-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/hours/1' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/hours/1'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/hours/1';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/hours/1";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/hours/1';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\n" .  
                       "Accept: application/json\r\n" .  
                       "Authorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.HistoryV3Api(upstox_client.ApiClient(configuration))  
    try:  
        response = api_instance.get_intra_day_candle_data("NSE_EQ|INE848E01016", "hours", "1")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_intra_day_candle_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getIntraDayCandleData("NSE_EQ|INE848E01016", "hours", "1", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetIntraDayCandleResponse result = historyV3Api.getIntraDayCandleData("NSE_EQ|INE848E01016", "hours", 1);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getIntraDayCandleData");  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Get data with a 2-hour interval[â€‹](<https://upstox.com/developer/api-documentation/v3/get-intra-day-candle-data/#get-data-with-a-2-hour-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/hours/2' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/hours/2'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/hours/2';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/hours/2";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/hours/2';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\n" .  
                       "Accept: application/json\r\n" .  
                       "Authorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.HistoryV3Api(upstox_client.ApiClient(configuration))  
    try:  
        response = api_instance.get_intra_day_candle_data("NSE_EQ|INE848E01016", "hours", "2")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_intra_day_candle_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getIntraDayCandleData("NSE_EQ|INE848E01016", "hours", "2", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetIntraDayCandleResponse result = historyV3Api.getIntraDayCandleData("NSE_EQ|INE848E01016", "hours", 2);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getIntraDayCandleData");  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Get current day data[â€‹](<https://upstox.com/developer/api-documentation/v3/get-intra-day-candle-data/#get-current-day-data> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/days/1' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/days/1'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/days/1';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/days/1";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/days/1';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\n" .  
                       "Accept: application/json\r\n" .  
                       "Authorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
      
    
    
    
    import upstox_client  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.HistoryV3Api(upstox_client.ApiClient(configuration))  
    try:  
        response = api_instance.get_intra_day_candle_data("NSE_EQ|INE848E01016", "days", "1")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_intra_day_candle_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getIntraDayCandleData("NSE_EQ|INE848E01016", "days", "1", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetIntraDayCandleResponse result = historyV3Api.getIntraDayCandleData("NSE_EQ|INE848E01016", "days", 1);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getIntraDayCandleData");  
                e.printStackTrace();  
            }  
        }  
    }  
    

  

    
    
    GET /historical-candle/intraday/:instrument_key/:unit/:interval

#### Request

Live URLhttps://api.upstox.com/v3

`Authorization`

Bearer

`instrument_key` â€” path **required**

`unit` â€” path **required**

`interval` â€” path **required**


---
# Source: https://upstox.com/developer/api-documentation/get-historical-candle-data
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [ Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Historical Data](<https://upstox.com/developer/api-documentation/historical-data>)
  * Historical Candle Data



## Historical Candle Data Deprecated[â€‹](<https://upstox.com/developer/api-documentation/get-historical-candle-data/#historical-candle-data-deprecated> "Direct link to heading")

API to retrieve OHLC (Open, High, Low, Close) data for instruments spanning multiple timeframes. Historical data is available for the following time durations:

  * 1-minute: Retrieve the candles from the final month leading up to the endDate.
  * 30-minute: Retrieve the candles from the past year up to the endDate.
  * Daily: Retrieve data for the past year, concluding on the endDate.
  * Weekly: Retrieve data from the previous ten years, ending on the endDate.
  * Monthly: Retrieve data spanning the last ten years, up to the specified endDate.



### Request[â€‹](<https://upstox.com/developer/api-documentation/get-historical-candle-data/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/1minute/2023-11-13/2023-11-12' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

Additional samples in various languages are available in the [Sample Code section](<https://upstox.com/developer/api-documentation/get-historical-candle-data/#sample-code>) on this page.

  


### Path Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-historical-candle-data/#path-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
instrument_key| true| string| The unique identifier for the financial instrument for which historical data is being queried. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
interval| true| string| Specifies the time frame of the candles.  
Possible values: `1minute`, `30minute`, `day`, `week`, `month`.  
to_date| true| string| The ending date (inclusive) for the historical data range. Format: 'YYYY-MM-DD'.  
from_date| false| string| The starting date for the historical data range. Format: 'YYYY-MM-DD'.  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-historical-candle-data/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "candles": [  
          [  
            "2023-10-01T00:00:00+05:30",  
            53.1,  
            53.95,  
            51.6,  
            52.05,  
            235519861,  
            0  
          ],  
          [  
            "2023-09-01T00:00:00+05:30",  
            50.35,  
            56.85,  
            49.35,  
            52.8,  
            1004998611,  
            0  
          ]  
        ]  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Contains OHLC values for all instruments across various timeframes.  
data.candles| array[]| Array of candle data, each presented as an array with sequential elements representing trading activity.  
data.candle[0]| number| `Timestamp`: Indicating the start time of the candle's timeframe.  
data.candle[1]| number| `Open`: The opening price of the asset for the given timeframe.  
data.candle[2]| number| `High`: The highest price at which the asset traded during the timeframe.  
data.candle[3]| number| `Low`: The lowest price at which the asset traded during the timeframe.  
data.candle[4]| number| `Close`: The closing price of the asset for the given timeframe.  
data.candle[5]| number| `Volume`: The total amount of the asset that was traded during the timeframe.  
data.candle[6]| number| `Open Interest`: The total number of outstanding derivative contracts, such as options or futures.  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/get-historical-candle-data/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1021| **Instrument key is of invalid format** \- The provided instrument key doesn't conform to the expected format.  
UDAPI1020| **Interval accepts one of (1minute,30minute,day,week,month)** \- Ensure the 'interval' is one of the specified values.  
UDAPI1022| **to_date is required** \- You must specify the 'to_date' in your request.  
UDAPI100011| **Invalid Instrument key** \- The instrument key you provided doesn't match any of the recognized keys in the system.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-historical-candle-data/#sample-code> "Direct link to heading")

### Get historical candle data with a 1-minute interval[â€‹](<https://upstox.com/developer/api-documentation/get-historical-candle-data/#get-historical-candle-data-with-a-1-minute-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/1minute/2023-11-13/2023-11-12' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/1minute/2023-11-13/2023-11-12'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/1minute/2023-11-13/2023-11-12';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/1minute/2023-11-13/2023-11-12";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/1minute/2023-11-12/2023-11-12';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\nAccept: application/json\r\nAuthorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
      
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    api_instance = upstox_client.HistoryApi(upstox_client.ApiClient(configuration))  
    instrument_key = 'NSE_EQ|INE669E01016'  
    interval = '1minute'  
    to_date = '2023-11-13'  
    from_date = '2023-11-12'  
    try:  
        api_response = api_instance.get_historical_candle_data1(instrument_key, interval, to_date,from_date, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling HistoryApi->get_historical_candle_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.HistoryApi();  
      
    let apiVersion = "2.0";   
    let instrumentKey = "NSE_EQ|INE669E01016";   
    let interval = "1minute";   
    let toDate = "2023-11-13";  
    let fromDate = "2023-11-12";  
      
    apiInstance.getHistoricalCandleData1(instrumentKey, interval, toDate, fromDate,apiVersion, (error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
    });  
      
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.HistoryApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryApi apiInstance = new HistoryApi();  
            String apiVersion = "2.0";  
            String instrumentKey = "NSE_EQ|INE669E01016";  
            String interval = "1minute";  
            String toDate = "2023-11-13";  
            String fromDate = "2023-11-12";  
            try {  
                GetHistoricalCandleResponse result = apiInstance.getHistoricalCandleData1(instrumentKey, interval, toDate, fromDate, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryApi#getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Get data with a 30-minute interval[â€‹](<https://upstox.com/developer/api-documentation/get-historical-candle-data/#get-data-with-a-30-minute-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/30minute/2023-11-13/2023-11-12' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/30minute/2023-11-13/2023-11-12'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/30minute/2023-11-13/2023-11-12';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/30minute/2023-11-13/2023-11-12";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/30minute/2023-11-13/2023-11-12';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\nAccept: application/json\r\nAuthorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    api_instance = upstox_client.HistoryApi(upstox_client.ApiClient(configuration))  
    instrument_key = 'NSE_EQ|INE669E01016'  
    interval = '30minute'  
    to_date = '2023-11-13'  
    from_date = '2023-11-12'  
    try:  
        api_response = api_instance.get_historical_candle_data1(instrument_key, interval, to_date,from_date, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling HistoryApi->get_historical_candle_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.HistoryApi();  
      
    let apiVersion = "2.0";   
    let instrumentKey = "NSE_EQ|INE669E01016";   
    let interval = "30minute";   
    let toDate = "2023-11-13";  
    let fromDate = "2023-11-12";  
    apiInstance.getHistoricalCandleData1(instrumentKey, interval, toDate, fromDate,apiVersion, (error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
    });  
      
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.HistoryApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryApi apiInstance = new HistoryApi();  
            String apiVersion = "2.0";  
            String instrumentKey = "NSE_EQ|INE669E01016";  
            String interval = "30minute";  
            String toDate = "2023-11-13";  
            String fromDate = "2023-11-12";  
            try {  
                GetHistoricalCandleResponse result = apiInstance.getHistoricalCandleData1(instrumentKey, interval, toDate, fromDate, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryApi#getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

### Get data with a daily interval[â€‹](<https://upstox.com/developer/api-documentation/get-historical-candle-data/#get-data-with-a-daily-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/day/2023-11-19/2023-11-12' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/day/2023-11-19/2023-11-12'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/day/2023-11-19/2023-11-12';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/day/2023-11-19/2023-11-12";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/day/2023-11-19/2023-11-12';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\nAccept: application/json\r\nAuthorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
      
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    api_instance = upstox_client.HistoryApi(upstox_client.ApiClient(configuration))  
    instrument_key = 'NSE_EQ|INE669E01016'  
    interval = 'day'  
    to_date = '2023-11-13'  
    from_date = '2023-11-12'  
    try:  
        api_response = api_instance.get_historical_candle_data1(instrument_key, interval, to_date,from_date, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling HistoryApi->get_historical_candle_data: %s\n" % e)  
    
    
    
    let apiVersion = "2.0";   
    let instrumentKey = "NSE_EQ|INE669E01016";   
    let interval = "day";   
    let toDate = "2023-11-13";  
    let fromDate = "2023-11-07";  
      
    apiInstance.getHistoricalCandleData1(instrumentKey, interval, toDate, fromDate,apiVersion, (error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
    });  
      
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.HistoryApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryApi apiInstance = new HistoryApi();  
            String apiVersion = "2.0";  
            String instrumentKey = "NSE_EQ|INE669E01016";  
            String interval = "day";  
            String toDate = "2023-11-13";  
            String fromDate = "2023-11-12";  
            try {  
                GetHistoricalCandleResponse result = apiInstance.getHistoricalCandleData1(instrumentKey, interval, toDate, fromDate, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryApi#getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

### Get data with a weekly interval[â€‹](<https://upstox.com/developer/api-documentation/get-historical-candle-data/#get-data-with-a-weekly-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/week/2023-11-19/2023-07-12' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/week/2023-11-19/2023-07-12'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/week/2023-11-19/2023-07-12';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/week/2023-11-19/2023-07-12";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/week/2023-11-19/2023-07-12';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\nAccept: application/json\r\nAuthorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    api_instance = upstox_client.HistoryApi(upstox_client.ApiClient(configuration))  
    instrument_key = 'NSE_EQ|INE669E01016'  
    interval = 'week'  
    to_date = '2023-11-13'  
    from_date = '2023-10-13'  
    try:  
        # Historical candle data  
        api_response = api_instance.get_historical_candle_data1(instrument_key, interval, to_date,from_date, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling HistoryApi->get_historical_candle_data: %s\n" % e)  
    
    
    
    let apiVersion = "2.0";   
    let instrumentKey = "NSE_EQ|INE669E01016";   
    let interval = "week";   
    let toDate = "2023-11-13";  
    let fromDate = "2023-10-07";  
      
    apiInstance.getHistoricalCandleData1(instrumentKey, interval, toDate, fromDate,apiVersion, (error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.HistoryApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryApi apiInstance = new HistoryApi();  
            String apiVersion = "2.0";  
            String instrumentKey = "NSE_EQ|INE669E01016";  
            String interval = "week";  
            String toDate = "2023-11-13";  
            String fromDate = "2023-10-13";  
            try {  
                GetHistoricalCandleResponse result = apiInstance.getHistoricalCandleData1(instrumentKey, interval, toDate, fromDate, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryApi#getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

### Get data with a monthly interval[â€‹](<https://upstox.com/developer/api-documentation/get-historical-candle-data/#get-data-with-a-monthly-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/month/2023-11-19/2022-11-12' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/month/2023-11-19/2022-11-12'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/month/2023-11-19/2022-11-12';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/month/2023-11-19/2022-11-12";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/month/2023-11-19/2022-11-12';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\nAccept: application/json\r\nAuthorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    api_instance = upstox_client.HistoryApi(upstox_client.ApiClient(configuration))  
    instrument_key = 'NSE_EQ|INE669E01016'  
    interval = 'month'  
    to_date = '2023-11-13'  
    from_date = '2022-10-13'  
    try:  
        api_response = api_instance.get_historical_candle_data1(instrument_key, interval, to_date,from_date, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling HistoryApi->get_historical_candle_data: %s\n" % e)  
    
    
    
    let apiVersion = "2.0";   
    let instrumentKey = "NSE_EQ|INE669E01016";   
    let interval = "month";   
    let toDate = "2023-11-13";  
    let fromDate = "2022-10-07";  
      
    apiInstance.getHistoricalCandleData1(instrumentKey, interval, toDate, fromDate,apiVersion, (error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.HistoryApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryApi apiInstance = new HistoryApi();  
            String apiVersion = "2.0";  
            String instrumentKey = "NSE_EQ|INE669E01016";  
            String interval = "month";  
            String toDate = "2023-11-13";  
            String fromDate = "2022-10-13";  
            try {  
                GetHistoricalCandleResponse result = apiInstance.getHistoricalCandleData1(instrumentKey, interval, toDate, fromDate, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryApi#getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

  


### Get historical candle data with a 1-minute interval[â€‹](<https://upstox.com/developer/api-documentation/get-historical-candle-data/#get-historical-candle-data-with-a-1-minute-interval-1> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/1minute/2023-11-13' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/1minute/2023-11-13'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/1minute/2023-11-13';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/1minute/2023-11-13";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/1minute/2023-11-12';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\nAccept: application/json\r\nAuthorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
      
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    api_instance = upstox_client.HistoryApi(upstox_client.ApiClient(configuration))  
    instrument_key = 'NSE_EQ|INE669E01016'  
    interval = '1minute'  
    to_date = '2023-11-13'  
    try:  
        api_response = api_instance.get_historical_candle_data(instrument_key, interval, to_date, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling HistoryApi->get_historical_candle_data: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.HistoryApi();  
      
    let apiVersion = "2.0";   
    let instrumentKey = "NSE_EQ|INE669E01016";   
    let interval = "1minute";   
    let toDate = "2023-11-13";  
    apiInstance.getHistoricalCandleData(instrumentKey, interval, toDate, apiVersion, (error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.HistoryApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryApi apiInstance = new HistoryApi();  
            String apiVersion = "2.0";  
            String instrumentKey = "NSE_EQ|INE669E01016";  
            String interval = "1minute";  
            String toDate = "2023-11-13";  
            try {  
                GetHistoricalCandleResponse result = apiInstance.getHistoricalCandleData(instrumentKey, interval, toDate, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryApi#getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Get data with a 30-minute interval[â€‹](<https://upstox.com/developer/api-documentation/get-historical-candle-data/#get-data-with-a-30-minute-interval-1> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/30minute/2023-11-13' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/30minute/2023-11-13'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/30minute/2023-11-13';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/30minute/2023-11-13";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/30minute/2023-11-13';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\nAccept: application/json\r\nAuthorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    api_instance = upstox_client.HistoryApi(upstox_client.ApiClient(configuration))  
    instrument_key = 'NSE_EQ|INE669E01016'  
    interval = '30minute'  
    to_date = '2023-11-13'  
    try:  
        api_response = api_instance.get_historical_candle_data(instrument_key, interval, to_date, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling HistoryApi->get_historical_candle_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.HistoryApi();  
      
    let apiVersion = "2.0";   
    let instrumentKey = "NSE_EQ|INE669E01016";   
    let interval = "30minute";   
    let toDate = "2023-11-13";  
      
    apiInstance.getHistoricalCandleData(instrumentKey, interval, toDate, apiVersion, (error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.HistoryApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryApi apiInstance = new HistoryApi();  
            String apiVersion = "2.0";  
            String instrumentKey = "NSE_EQ|INE669E01016";  
            String interval = "30minute";  
            String toDate = "2023-11-13";  
            try {  
                GetHistoricalCandleResponse result = apiInstance.getHistoricalCandleData(instrumentKey, interval, toDate, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryApi#getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

### Get data with a daily interval[â€‹](<https://upstox.com/developer/api-documentation/get-historical-candle-data/#get-data-with-a-daily-interval-1> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/day/2023-11-19' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/day/2023-11-19'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/day/2023-11-19';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/day/2023-11-19";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/day/2023-11-19';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\nAccept: application/json\r\nAuthorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
      
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    api_instance = upstox_client.HistoryApi(upstox_client.ApiClient(configuration))  
    instrument_key = 'NSE_EQ|INE669E01016'  
    interval = 'day'  
    to_date = '2023-11-13'  
    try:  
        api_response = api_instance.get_historical_candle_data(instrument_key, interval, to_date, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling HistoryApi->get_historical_candle_data: %s\n" % e)  
      
    
    
    
    let apiVersion = "2.0";   
    let instrumentKey = "NSE_EQ|INE669E01016";   
    let interval = "day";   
    let toDate = "2023-11-13";  
      
    apiInstance.getHistoricalCandleData(instrumentKey, interval, toDate, apiVersion, (error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
    });  
      
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.HistoryApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryApi apiInstance = new HistoryApi();  
            String apiVersion = "2.0";  
            String instrumentKey = "NSE_EQ|INE669E01016";  
            String interval = "day";  
            String toDate = "2023-11-13";  
            try {  
                GetHistoricalCandleResponse result = apiInstance.getHistoricalCandleData(instrumentKey, interval, toDate, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryApi#getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

### Get data with a weekly interval[â€‹](<https://upstox.com/developer/api-documentation/get-historical-candle-data/#get-data-with-a-weekly-interval-1> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/week/2023-11-19' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/week/2023-11-19'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/week/2023-11-19';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/week/2023-11-19";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/week/2023-11-19';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\nAccept: application/json\r\nAuthorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    api_instance = upstox_client.HistoryApi(upstox_client.ApiClient(configuration))  
    instrument_key = 'NSE_EQ|INE669E01016'  
    interval = 'week'  
    to_date = '2023-11-13'  
    try:  
        api_response = api_instance.get_historical_candle_data(instrument_key, interval, to_date, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling HistoryApi->get_historical_candle_data: %s\n" % e)  
      
    
    
    
    let apiVersion = "2.0";   
    let instrumentKey = "NSE_EQ|INE669E01016";   
    let interval = "week";   
    let toDate = "2023-11-13";  
      
    apiInstance.getHistoricalCandleData(instrumentKey, interval, toDate, apiVersion, (error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
    });  
      
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.HistoryApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryApi apiInstance = new HistoryApi();  
            String apiVersion = "2.0";  
            String instrumentKey = "NSE_EQ|INE669E01016";  
            String interval = "week";  
            String toDate = "2023-11-13";  
            try {  
                GetHistoricalCandleResponse result = apiInstance.getHistoricalCandleData(instrumentKey, interval, toDate, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryApi#getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

### Get data with a monthly interval[â€‹](<https://upstox.com/developer/api-documentation/get-historical-candle-data/#get-data-with-a-monthly-interval-1> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/month/2023-11-19' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/month/2023-11-19'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/month/2023-11-19';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/month/2023-11-19";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/month/2023-11-19';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\nAccept: application/json\r\nAuthorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    api_instance = upstox_client.HistoryApi(upstox_client.ApiClient(configuration))  
    instrument_key = 'NSE_EQ|INE669E01016'  
    interval = 'month'  
    to_date = '2023-11-13'  
    try:  
        api_response = api_instance.get_historical_candle_data(instrument_key, interval, to_date, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling HistoryApi->get_historical_candle_data: %s\n" % e)  
    
    
    
    let apiVersion = "2.0";   
    let instrumentKey = "NSE_EQ|INE669E01016";   
    let interval = "month";   
    let toDate = "2023-11-13";  
      
    apiInstance.getHistoricalCandleData(instrumentKey, interval, toDate, apiVersion, (error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
    });  
      
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.HistoryApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryApi apiInstance = new HistoryApi();  
            String apiVersion = "2.0";  
            String instrumentKey = "NSE_EQ|INE669E01016";  
            String interval = "month";  
            String toDate = "2023-11-13";  
            try {  
                GetHistoricalCandleResponse result = apiInstance.getHistoricalCandleData(instrumentKey, interval, toDate, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryApi#getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    GET /historical-candle/:instrument_key/:interval/:to_date/:from_date

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

`instrument_key` â€” path **required**

`interval` â€” path **required**

`to_date` â€” path **required**

Show optional parameters

`from_date` â€” path

NOTE

  * Use the [Intraday API](<https://upstox.com/developer/api-documentation/get-intra-day-candle-data>) to retrieve data specific to the current trading day.
  * One-minute and 30-minute candle data are accessible solely for the preceding six months.
  * It's important to note that `instrument_key` parameter accepts only a single identifier per request; comma-separated values or multiple identifiers are not supported.




---
# Source: https://upstox.com/developer/api-documentation/get-intra-day-candle-data
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Historical Data](<https://upstox.com/developer/api-documentation/historical-data>)
  * Intraday Candle Data



## Intraday Candle Data Deprecated[â€‹](<https://upstox.com/developer/api-documentation/get-intra-day-candle-data/#intraday-candle-data-deprecated> "Direct link to heading")

API to retrieve OHLC (Open, High, Low, Close) values for instruments during the current trading day. Data is accessible for 1-minute and 30-minute intervals from the beginning of the market session. For real-time candlestick updates, it is advisable to utilize the [Market Update Stream](<https://upstox.com/developer/api-documentation/get-market-data-feed>).

### Request[â€‹](<https://upstox.com/developer/api-documentation/get-intra-day-candle-data/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/historical-candle/intraday/NSE_EQ%7CINE848E01016/1minute' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/get-intra-day-candle-data/#sample-code>) on this page.

### Path Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-intra-day-candle-data/#path-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
instrument_key| true| string| The unique identifier for the financial instrument for which historical data is being queried. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
interval| true| string| Specifies the time frame of the candles.  
Possible values: `1minute`, `30minute`.  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-intra-day-candle-data/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "candles": [  
          [  
            "2023-10-19T15:15:00+05:30",  
            2305.3,  
            2307.05,  
            2301,  
            2304.65,  
            559982,  
            0  
          ],  
          [  
            "2023-10-19T14:45:00+05:30",  
            2309.1,  
            2310.75,  
            2305.25,  
            2305.3,  
            740124,  
            0  
          ]  
        ]  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Contains OHLC values for all instruments across various timeframes.  
data.candles| array[]| Array of candle data, each presented as an array with sequential elements representing trading activity.  
data.candle[0]| number| `Timestamp`: Indicating the start time of the candle's timeframe.  
data.candle[1]| number| `Open`: The opening price of the asset for the given timeframe.  
data.candle[2]| number| `High`: The highest price at which the asset traded during the timeframe.  
data.candle[3]| number| `Low`: The lowest price at which the asset traded during the timeframe.  
data.candle[4]| number| `Close`: The closing price of the asset for the given timeframe.  
data.candle[5]| number| `Volume`: The total amount of the asset that was traded during the timeframe.  
data.candle[6]| number| `Open Interest`: The total number of outstanding derivative contracts, such as options or futures.  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/get-intra-day-candle-data/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1021| **Instrument key is of invalid format** \- The provided instrument key doesn't conform to the expected format.  
UDAPI1020| **Interval accepts one of (1minute,30minute,day,week,month)** \- Ensure the 'interval' is one of the specified values.  
UDAPI100011| **Invalid Instrument key** \- The instrument key you provided doesn't match any of the recognized keys in the system.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-intra-day-candle-data/#sample-code> "Direct link to heading")

### Get intraday candle data with a 1-minute interval[â€‹](<https://upstox.com/developer/api-documentation/get-intra-day-candle-data/#get-intraday-candle-data-with-a-1-minute-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/historical-candle/intraday/NSE_EQ%7CINE848E01016/1minute' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/historical-candle/intraday/NSE_EQ%7CINE848E01016/1minute'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/historical-candle/intraday/NSE_EQ%7CINE848E01016/1minute';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/historical-candle/intraday/NSE_EQ%7CINE848E01016/1minute";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v2/historical-candle/intraday/NSE_EQ%7CINE848E01016/1minute';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\n" .  
                       "Accept: application/json\r\n" .  
                       "Authorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    api_instance = upstox_client.HistoryApi()  
    instrument_key = 'NSE_EQ|INE669E01016'  
    interval = '1minute'  
    try:  
      
        api_response = api_instance.get_intra_day_candle_data(instrument_key,interval,api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling HistoryApi->get_historical_candle_data: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    let OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.HistoryApi();  
      
    let apiVersion = "2.0";  
    let instrumentKey = "NSE_EQ|INE669E01016";  
    let interval = "1minute";   
      
    apiInstance.getIntraDayCandleData(instrumentKey, interval, apiVersion, (error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
    });  
    
    
    
    import com.upstox.ApiException;  
    import com.upstox.api.GetIntraDayCandleResponse;  
    import io.swagger.client.api.HistoryApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryApi apiInstance = new HistoryApi();  
            String apiVersion = "2.0";  
            String instrumentKey = "NSE_EQ|INE669E01016";  
            String interval = "1minute";  
            try {  
                GetIntraDayCandleResponse result = apiInstance.getIntraDayCandleData(instrumentKey, interval, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryApi#getIntraDayCandleData");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

### Get intraday candle data with a 30-minute interval[â€‹](<https://upstox.com/developer/api-documentation/get-intra-day-candle-data/#get-intraday-candle-data-with-a-30-minute-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/historical-candle/intraday/NSE_EQ%7CINE848E01016/30minute' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/historical-candle/intraday/NSE_EQ%7CINE848E01016/30minute'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/historical-candle/intraday/NSE_EQ%7CINE848E01016/30minute';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/historical-candle/intraday/NSE_EQ%7CINE848E01016/30minute";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v2/historical-candle/intraday/NSE_EQ%7CINE848E01016/30minute';  
      
    $options = [  
        'http' => [  
            'header' => "Content-Type: application/json\r\n" .  
                       "Accept: application/json\r\n" .  
                       "Authorization: Bearer {your_access_token}\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    api_instance = upstox_client.HistoryApi()  
    instrument_key = 'NSE_EQ|INE669E01016'  
    interval = '30minute'  
    try:  
      
        api_response = api_instance.get_intra_day_candle_data(instrument_key,interval,api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling HistoryApi->get_historical_candle_data: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    let OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.HistoryApi();  
      
    let apiVersion = "2.0";  
    let instrumentKey = "NSE_EQ|INE669E01016";  
    let interval = "30minute";   
      
    apiInstance.getIntraDayCandleData(instrumentKey, interval, apiVersion, (error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
    });  
    
    
    
    import com.upstox.ApiException;  
    import com.upstox.api.GetIntraDayCandleResponse;  
    import io.swagger.client.api.HistoryApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            HistoryApi apiInstance = new HistoryApi();  
            String apiVersion = "2.0";  
            String instrumentKey = "NSE_EQ|INE669E01016";  
            String interval = "30minute";  
            try {  
                GetIntraDayCandleResponse result = apiInstance.getIntraDayCandleData(instrumentKey, interval, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryApi#getIntraDayCandleData");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    GET /historical-candle/intraday/:instrument_key/:interval

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

`instrument_key` â€” path **required**

`interval` â€” path **required**

NOTE

  * It's important to note that `instrument_key` parameter accepts only a single identifier per request; comma-separated values or multiple identifiers are not supported.
  * A minor delay may be experienced in the delivery of the most recent candle data, attributable to CDN caching. For immediate access to the latest data, it is advisable to connect to the websocket endpoints.




---
# Source: https://upstox.com/developer/api-documentation/market-quote
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * Market Quote



# Market Quote

## [description Full Market QuotesGet full market quotes for one or more instruments.](<https://upstox.com/developer/api-documentation/get-full-market-quote>)## [description OHLC Quotes V3Get OHLC quotes for one or more instruments (V3).](<https://upstox.com/developer/api-documentation/get-market-quote-ohlc-v3>)## [description LTP Quotes V3Get the LTP quotes for one or more instruments (v3).](<https://upstox.com/developer/api-documentation/ltp-v3>)## [description Option GreeksGet option greek fields for one or more instruments.](<https://upstox.com/developer/api-documentation/option-greek>)## [description OHLC QuotesGet OHLC quotes for one or more instruments.](<https://upstox.com/developer/api-documentation/get-market-quote-ohlc>)## [description LTP QuotesGet the LTP quotes for one or more instruments.](<https://upstox.com/developer/api-documentation/ltp>)


---
# Source: https://upstox.com/developer/api-documentation/get-full-market-quote
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Market Quote](<https://upstox.com/developer/api-documentation/market-quote>)
  * Full Market Quotes



## Full Market Quotes[â€‹](<https://upstox.com/developer/api-documentation/get-full-market-quote/#full-market-quotes> "Direct link to heading")

API to retrieve the full market quotes for one or more instruments. Provides the complete market data snapshot of up to 500 instruments in one go. These snapshots are obtained directly from the exchanges at the time of request.

### Request[â€‹](<https://upstox.com/developer/api-documentation/get-full-market-quote/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/market-quote/quotes?instrument_key=NSE_EQ%7CINE848E01016' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/get-full-market-quote/#sample-code>) on this page.

### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-full-market-quote/#query-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
instrument_key| true| string| Comma separated list of instrument keys. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-full-market-quote/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "NSE_EQ:NHPC": {  
          "ohlc": {  
            "open": 53.4,  
            "high": 53.8,  
            "low": 51.75,  
            "close": 52.05  
          },  
          "depth": {  
            "buy": [  
              {  
                "quantity": 6917,  
                "price": 52.05,  
                "orders": 20  
              },  
              {  
                "quantity": 0,  
                "price": 0,  
                "orders": 0  
              },  
              {  
                "quantity": 0,  
                "price": 0,  
                "orders": 0  
              },  
              {  
                "quantity": 0,  
                "price": 0,  
                "orders": 0  
              },  
              {  
                "quantity": 0,  
                "price": 0,  
                "orders": 0  
              }  
            ],  
            "sell": [  
              {  
                "quantity": 0,  
                "price": 0,  
                "orders": 0  
              },  
              {  
                "quantity": 0,  
                "price": 0,  
                "orders": 0  
              },  
              {  
                "quantity": 0,  
                "price": 0,  
                "orders": 0  
              },  
              {  
                "quantity": 0,  
                "price": 0,  
                "orders": 0  
              },  
              {  
                "quantity": 0,  
                "price": 0,  
                "orders": 0  
              }  
            ]  
          },  
          "timestamp": "2023-10-19T05:21:51.099+05:30",  
          "instrument_token": "NSE_EQ|INE848E01016",  
          "symbol": "NHPC",  
          "last_price": 52.04999923706055,  
          "volume": 24123697,  
          "average_price": 52.56,  
          "oi": 0,  
          "net_change": -1.0500000000000043,  
          "total_buy_quantity": 6917,  
          "total_sell_quantity": 0,  
          "lower_circuit_limit": 42.5,  
          "upper_circuit_limit": 63.7,  
          "last_trade_time": "1697624972130",  
          "oi_day_high": 0,  
          "oi_day_low": 0  
        }  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Data object holding full market quote information  
data.ohlc| object| Data object with OHLC information  
data.ohlc.open| number| The open price of the trading session  
data.ohlc.high| number| The high price of the trading session  
data.ohlc.low| number| The low price of the trading session  
data.ohlc.close| number| The most recent closing price of the symbol  
data.depth| object| Data object with top 5 buy and sell depth information  
data.depth.buy| object[]| Bids  
data.depth.buy[].quantity| integer| quantity  
data.depth.buy[].price| number| price  
data.depth.buy[].orders| integer| orders  
data.depth.sell| object[]| Asks  
data.depth.sell[].quantity| integer| quantity  
data.depth.sell[].price| number| price  
data.depth.sell[].orders| integer| orders  
data.timestamp| string| Time in milliseconds at which the feeds was updated  
data.instrument_token| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
data.symbol| string| Shows the trading symbol of the instrument  
data.last_price| number| The last traded price of symbol  
data.volume| integer| The volume traded today on symbol  
data.average_price| number| Average price  
data.oi| number| Total number of outstanding contracts held by market participants exchange-wide (only F&O)  
data.net_change| number| The absolute change from yesterday's close to last traded price  
data.total_buy_quantity| number| The total number of bid quantity available for trading  
data.total_sell_quantity| number| The total number of ask quantity available for trading  
data.lower_circuit_limit| number| The lower circuit of symbol  
data.upper_circuit_limit| number| The upper circuit of symbol  
data.last_trade_time| string| Time in milliseconds at which last trade happened  
data.oi_day_high| number| Open interest day high  
data.oi_day_low| number| Open interest day low  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/get-full-market-quote/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1087| **One of either symbol or instrument_key is invalid** \- The provided symbol or instrument_key does not confirm to the accepted format.  
UDAPI100042| **Data of only 500 instrument keys can be requested in single API call** \- Limit your request to 500 instrument keys at a time.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-full-market-quote/#sample-code> "Direct link to heading")

### Get full market quote[â€‹](<https://upstox.com/developer/api-documentation/get-full-market-quote/#get-full-market-quote> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/market-quote/quotes?instrument_key=NSE_EQ%7CINE848E01016' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/market-quote/quotes?instrument_key=NSE_EQ%7CINE848E01016'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.text)  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/market-quote/quotes?instrument_key=NSE_EQ%7CINE848E01016';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpHeaders;  
      
    public class Main {  
      
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/market-quote/quotes?instrument_key=NSE_EQ%7CINE848E01016";  
            String contentTypeHeader = "application/json";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", contentTypeHeader)  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            HttpResponse<String> response = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
            int statusCode = response.statusCode();  
            HttpHeaders headers = response.headers();  
            String responseBody = response.body();  
      
            System.out.println("Status Code: " + statusCode);  
            System.out.println("Response Headers: " + headers);  
            System.out.println("Response Body: " + responseBody);  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/market-quote/quotes?instrument_key=NSE_EQ%7CINE848E01016';  
    $contentTypeHeader = 'application/json';  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
      
    // Set cURL options  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, [  
        'Content-Type: ' . $contentTypeHeader,  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader,  
    ]);  
      
    // Execute cURL session and get the response  
    $response = curl_exec($ch);  
      
    // Check for cURL errors  
    if (curl_errno($ch)) {  
        echo 'Curl error: ' . curl_error($ch);  
    }  
      
    // Close cURL session  
    curl_close($ch);  
      
    // Output the response  
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    symbol = 'NSE_EQ|INE669E01016'  
    api_instance = upstox_client.MarketQuoteApi(upstox_client.ApiClient(configuration))  
      
      
    try:  
        api_response = api_instance.get_full_market_quote(symbol, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling MarketQuoteApi->get_full_market_quote: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.MarketQuoteApi();  
      
      
    let apiVersion = "2.0";   
    let symbol = "NSE_EQ|INE669E01016";   
      
    apiInstance.getFullMarketQuote(symbol, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetFullMarketQuoteResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.MarketQuoteApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            MarketQuoteApi apiInstance = new MarketQuoteApi();  
            String symbol = "NSE_EQ|INE669E01016"; // String | Comma separated list of symbols  
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                GetFullMarketQuoteResponse result = apiInstance.getFullMarketQuote(symbol, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling MarketQuoteApi#getFullMarketQuote");  
                e.printStackTrace();  
            }  
      
        }  
    }  
    

### Get full market quote for multiple instrument keys[â€‹](<https://upstox.com/developer/api-documentation/get-full-market-quote/#get-full-market-quote-for-multiple-instrument-keys> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/market-quote/quotes?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/market-quote/quotes?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.text)  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/market-quote/quotes?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpHeaders;  
      
    public class Main {  
      
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/market-quote/quotes?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016";  
            String contentTypeHeader = "application/json";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", contentTypeHeader)  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            HttpResponse<String> response = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
            int statusCode = response.statusCode();  
            HttpHeaders headers = response.headers();  
            String responseBody = response.body();  
      
            System.out.println("Status Code: " + statusCode);  
            System.out.println("Response Headers: " + headers);  
            System.out.println("Response Body: " + responseBody);  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/market-quote/quotes?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016';  
    $contentTypeHeader = 'application/json';  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
      
    // Set cURL options  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, [  
        'Content-Type: ' . $contentTypeHeader,  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader,  
    ]);  
      
    // Execute cURL session and get the response  
    $response = curl_exec($ch);  
      
    // Check for cURL errors  
    if (curl_errno($ch)) {  
        echo 'Curl error: ' . curl_error($ch);  
    }  
      
    // Close cURL session  
    curl_close($ch);  
      
    // Output the response  
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    symbol = 'NSE_EQ|INE669E01016,NSE_EQ|INE848E01016'  
    api_instance = upstox_client.MarketQuoteApi(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.get_full_market_quote(symbol, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling MarketQuoteApi->get_full_market_quote: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.MarketQuoteApi();  
      
      
    let apiVersion = "2.0";   
    let symbol = "NSE_EQ|INE669E01016,NSE_EQ|INE848E01016";   
      
    apiInstance.getFullMarketQuote(symbol, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetFullMarketQuoteResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.MarketQuoteApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            MarketQuoteApi apiInstance = new MarketQuoteApi();  
            String symbol = "NSE_EQ|INE669E01016,NSE_EQ|INE848E01016"; // String | Comma separated list of symbols  
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                GetFullMarketQuoteResponse result = apiInstance.getFullMarketQuote(symbol, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling MarketQuoteApi#getFullMarketQuote");  
                e.printStackTrace();  
            }  
      
        }  
    }  
    
    
    
    GET /market-quote/quotes

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

`instrument_key` â€” query **required**


---
# Source: https://upstox.com/developer/api-documentation/get-market-quote-ohlc-v3
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [ Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Market Quote](<https://upstox.com/developer/api-documentation/market-quote>)
  * OHLC Quotes V3



## OHLC Quotes V3[â€‹](<https://upstox.com/developer/api-documentation/get-market-quote-ohlc-v3/#ohlc-quotes-v3> "Direct link to heading")

This API retrieves Open, High, Low, Close (OHLC) quotes for one or more instruments. V3 introduces the following enhancements:

  * `live_ohlc`: Provides the current OHLC candle.
  * `prev_ohlc`: Delivers the previous minute's OHLC candle.
  * `volume`: Includes trading volume data.
  * `ts`: Returns the OHLC candle's start time.



### Request[â€‹](<https://upstox.com/developer/api-documentation/get-market-quote-ohlc-v3/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v3/market-quote/ohlc?instrument_key=NSE_EQ%7CINE669E01016&interval=1d' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/get-market-quote-ohlc-v3/#sample-code>) on this page.

### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-market-quote-ohlc-v3/#query-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
instrument_key| true| string| Comma separated list of instrument keys. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
interval| true| string| Interval to get ohlc data.   
Possible values: `1d`, `I1`, `I30`.   
Here `1d` is 1 day, `I1` and `I30` are 1-minute and 30-minute intervals respectively.  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-market-quote-ohlc-v3/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "NSE_FO:NIFTY2543021600PE": {  
          "last_price": 303.9,  
          "instrument_token": "NSE_FO|51834",  
          "prev_ohlc": {  
            "open": 303.9,  
            "high": 304.3,  
            "low": 303.85,  
            "close": 304.3,  
            "volume": 300,  
            "ts": 1744019880000  
          },  
          "live_ohlc": {  
            "open": 304.45,  
            "high": 304.45,  
            "low": 302.75,  
            "close": 303.9,  
            "volume": 2250,  
            "ts": 1744019940000  
          }  
        }  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Data object holding OHLC information  
data.last_price| number| The last traded price of symbol  
data.instrument_token| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
data.prev_ohlc.open| number| Previous trading session open price  
data.prev_ohlc.high| number| Previous trading session high price  
data.prev_ohlc.low| number| Previous trading session low price  
data.prev_ohlc.close| number| Previous trading session close price  
data.prev_ohlc.volume| number| Total volume traded in previous trading session  
data.prev_ohlc.ts| number| Start time of previous trading session  
data.live_ohlc.open| number| Current trading session open price  
data.live_ohlc.high| number| Current trading session high price  
data.live_ohlc.low| number| Current trading session low price  
data.live_ohlc.close| number| Current trading session close price  
data.live_ohlc.volume| number| Total volume traded in current trading session  
data.live_ohlc.ts| number| Start time of current trading session  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/get-market-quote-ohlc-v3/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1009| **symbol is required** \- The symbol parameter is missing.  
UDAPI1011| **symbol is of invalid format** \- The provided symbol does not conform to the accepted format.  
UDAPI1028| **Invalid interval** \- The specified interval doesn't match any of the recognized values.  
UDAPI1027| **interval is required** \- You must specify the 'interval' for this operation.  
UDAPI1087| **Invalid Instrument key** \- The provided `instrument_key` is invalid.  
UDAPI100043| **Maximum instrument key limit exceeded** \- The request exceeds the maximum number of instrument keys allowed.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-market-quote-ohlc-v3/#sample-code> "Direct link to heading")

### Get ohlc (open, high, low, close) market quotes[â€‹](<https://upstox.com/developer/api-documentation/get-market-quote-ohlc-v3/#get-ohlc-open-high-low-close-market-quotes> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/market-quote/ohlc?instrument_key=NSE_EQ%7CINE669E01016&interval=1d' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/market-quote/ohlc'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        "instrument_key": "NSE_EQ|INE669E01016",  
        "interval": "1d"  
    }  
      
    response = requests.get(url, headers=headers, params=data)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/market-quote/ohlc';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const params = {  
      instrument_key: 'NSE_EQ|INE669E01016',  
      interval: '1d',  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log('Response Status Code:', response.status);  
        console.log('Response Data:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            // Set the API endpoint URL  
            String apiUrl = "https://api.upstox.com/v3/market-quote/ohlc?instrument_key=NSE_EQ%7CINE669E01016&interval=1d";  
      
            // Set the request headers  
            String contentTypeHeader = "application/json";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            // Build the URI  
            URI uri = URI.create(apiUrl);  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Build the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(uri)  
                    .header("Content-Type", contentTypeHeader)  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            // Send the request and retrieve the response  
            HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
            // Print the response  
            System.out.println("Response Code: " + response.statusCode());  
            System.out.println("Response Body: " + response.body());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/market-quote/ohlc';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'instrument_key' => 'NSE_EQ|INE669E01016',  
        'interval' => '1d',  
    ];  
      
    $ch = curl_init($url . '?' . http_build_query($data));  
      
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
    $status_code = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'Response Status Code: ' . $status_code . PHP_EOL;  
    echo 'Response Data: ' . $response . PHP_EOL;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    apiInstance = upstox_client.MarketQuoteV3Api(upstox_client.ApiClient(configuration))  
    try:  
        # For a single instrument  
        response = apiInstance.get_market_quote_ohlc("1d", instrument_key="NSE_EQ|INE669E01016")  
        print(response)  
    except ApiException as e:  
        print("Exception when calling MarketQuoteV3Api->get_market_quote_ohlc: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let marketQuoteApiInstance = new UpstoxClient.MarketQuoteV3Api();  
    marketQuoteApiInstance.getMarketQuoteOHLC("1d", {instrumentKey: "NSE_EQ|INE669E01016"}, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.MarketQuoteV3Api;  
    import com.upstox.model.GetMarketQuoteOHLCResponseV3;  
    import com.upstox.auth.*;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            MarketQuoteV3Api marketQuoteV3Api = new MarketQuoteV3Api();  
      
            try {  
                GetMarketQuoteOHLCResponseV3 result = marketQuoteV3Api.getMarketQuoteOHLC("1d", "NSE_EQ|INE669E01016");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling MarketQuoteV3Api#getMarketQuoteOHLC");  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Get ohlc (open, high, low, close) market quotes for multiple instrument keys[â€‹](<https://upstox.com/developer/api-documentation/get-market-quote-ohlc-v3/#get-ohlc-open-high-low-close-market-quotes-for-multiple-instrument-keys> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/market-quote/ohlc?instrument_key=NSE_EQ%7CINE669E01016%2CNSE_EQ%7CINE848E01016&interval=1d' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/market-quote/ohlc'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        "instrument_key": "NSE_EQ|INE669E01016,NSE_EQ|INE848E01016",  
        "interval": "1d"  
    }  
      
    response = requests.get(url, headers=headers, params=data)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/market-quote/ohlc';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const params = {  
      instrument_key: 'NSE_EQ|INE669E01016,NSE_EQ|INE848E01016',  
      interval: '1d',  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log('Response Status Code:', response.status);  
        console.log('Response Data:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            // Set the API endpoint URL  
            String apiUrl = "https://api.upstox.com/v3/market-quote/ohlc?instrument_key=NSE_EQ%7CINE669E01016%2CNSE_EQ%7CINE848E01016&interval=1d";  
      
            // Set the request headers  
            String contentTypeHeader = "application/json";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            // Build the URI  
            URI uri = URI.create(apiUrl);  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Build the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(uri)  
                    .header("Content-Type", contentTypeHeader)  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            // Send the request and retrieve the response  
            HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
            // Print the response  
            System.out.println("Response Code: " + response.statusCode());  
            System.out.println("Response Body: " + response.body());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/market-quote/ohlc';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'instrument_key' => 'NSE_EQ|INE669E01016,NSE_EQ|INE848E01016',  
        'interval' => '1d',  
    ];  
      
    $ch = curl_init($url . '?' . http_build_query($data));  
      
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
    $status_code = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'Response Status Code: ' . $status_code . PHP_EOL;  
    echo 'Response Data: ' . $response . PHP_EOL;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    apiInstance = upstox_client.MarketQuoteV3Api(upstox_client.ApiClient(configuration))  
    try:  
        # For multiple instruments  
        response = apiInstance.get_market_quote_ohlc("1d", instrument_key="NSE_EQ|INE669E01016,NSE_EQ|INE848E01016")  
        print(response)  
    except ApiException as e:  
        print("Exception when calling MarketQuoteV3Api->get_market_quote_ohlc: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let marketQuoteApiInstance = new UpstoxClient.MarketQuoteV3Api();  
    marketQuoteApiInstance.getMarketQuoteOHLC("1d", {instrumentKey: "NSE_EQ|INE669E01016,NSE_EQ|INE848E01016"}, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.MarketQuoteV3Api;  
    import com.upstox.model.GetMarketQuoteOHLCResponseV3;  
    import com.upstox.auth.*;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            MarketQuoteV3Api marketQuoteV3Api = new MarketQuoteV3Api();  
      
            try {  
                GetMarketQuoteOHLCResponseV3 result = marketQuoteV3Api.getMarketQuoteOHLC("1d", "NSE_EQ|INE669E01016,NSE_EQ|INE848E01016");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling MarketQuoteV3Api#getMarketQuoteOHLC");  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    GET /market-quote/ohlc

#### Request

Live URLhttps://api.upstox.com/v3

`Authorization`

Bearer

`instrument_key` â€” query **required**

`interval` â€” query **required**


---
# Source: https://upstox.com/developer/api-documentation/ltp-v3
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [ Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Market Quote](<https://upstox.com/developer/api-documentation/market-quote>)
  * LTP Quotes V3



## LTP Quotes V3[â€‹](<https://upstox.com/developer/api-documentation/ltp-v3/#ltp-quotes-v3> "Direct link to heading")

API provides LTP quotes for specified instruments. In V3, the response has been enhanced to include:

  * `ltq`: The quantity of the last traded transaction.
  * `volume`: The cumulative trading volume for the current day.
  * `cp`: The closing price from the previous trading day.



### Request[â€‹](<https://upstox.com/developer/api-documentation/ltp-v3/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v3/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

Additional samples in various languages are available in the [Sample Code section](<https://upstox.com/developer/api-documentation/ltp-v3/#sample-code>) on this page.

  


### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/ltp-v3/#query-parameters> "Direct link to heading")

Name| Required| Description  
---|---|---  
instrument_key| true| Comma separated list of instrument keys. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
  
**Responses**

  * 200
  * 4XX



* * *

### Response body[â€‹](<https://upstox.com/developer/api-documentation/ltp-v3/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "NSE_FO:NIFTY2543021600PE": {  
          "last_price": 303.9,  
          "instrument_token": "NSE_FO|51834",  
          "ltq": 75,  
          "volume": 170325,  
          "cp": 29.0  
        }  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Data object holding LTP information  
data.last_price| number| The last traded price of symbol  
data.instrument_token| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
data.ltq| number| Last traded quantity  
data.volume| number| Volume traded today till current time  
data.cp| number| Previous day's closing price  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/ltp-v3/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1009| **instrument_key is required** \- The `instrument_key` parameter is missing.  
UDAPI1011| **instrument_key is of invalid format** \- The provided `instrument_key` does not conform to the accepted format.  
UDAPI1087| **Invalid Instrument key** \- The provided `instrument_key` is invalid.  
UDAPI100043| **Maximum instrument key limit exceeded** \- The request exceeds the maximum number of instrument keys allowed.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/ltp-v3/#sample-code> "Direct link to heading")

### Get ltp (last traded price) market quotes[â€‹](<https://upstox.com/developer/api-documentation/ltp-v3/#get-ltp-last-traded-price-market-quotes> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpHeaders;  
      
    public class Main {  
      
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v3/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016";  
            String contentTypeHeader = "application/json";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", contentTypeHeader)  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            HttpResponse<String> response = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
            int statusCode = response.statusCode();  
            HttpHeaders headers = response.headers();  
            String responseBody = response.body();  
      
            System.out.println("Status Code: " + statusCode);  
            System.out.println("Response Headers: " + headers);  
            System.out.println("Response Body: " + responseBody);  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016';  
    $contentTypeHeader = 'application/json';  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
      
    // Set cURL options  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, [  
        'Content-Type: ' . $contentTypeHeader,  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader,  
    ]);  
      
    // Execute cURL session and get the response  
    $response = curl_exec($ch);  
      
    // Check for cURL errors  
    if (curl_errno($ch)) {  
        echo 'Curl error: ' . curl_error($ch);  
    }  
      
    // Close cURL session  
    curl_close($ch);  
      
    // Output the response  
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    apiInstance = upstox_client.MarketQuoteV3Api(upstox_client.ApiClient(configuration))  
    try:  
        # For a single instrument  
        response = apiInstance.get_ltp(instrument_key="NSE_EQ|INE848E01016")  
        print(response)  
    except ApiException as e:  
        print("Exception when calling MarketQuoteV3Api->get_ltp: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let marketQuoteApiInstance = new UpstoxClient.MarketQuoteV3Api();  
    marketQuoteApiInstance.getLtp({instrumentKey: "NSE_EQ|INE848E01016"}, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.MarketQuoteV3Api;  
    import com.upstox.model.GetMarketQuoteLastTradedPriceResponseV3;  
    import com.upstox.auth.*;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            MarketQuoteV3Api marketQuoteV3Api = new MarketQuoteV3Api();  
      
            try {  
                GetMarketQuoteLastTradedPriceResponseV3 result = marketQuoteV3Api.getLtp("NSE_EQ|INE848E01016");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling MarketQuoteV3Api#getLtp");  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Get ltp (last traded price) market quotes for multiple instruments keys[â€‹](<https://upstox.com/developer/api-documentation/ltp-v3/#get-ltp-last-traded-price-market-quotes-for-multiple-instruments-keys> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpHeaders;  
      
    public class Main {  
      
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v3/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016";  
            String contentTypeHeader = "application/json";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", contentTypeHeader)  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            HttpResponse<String> response = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
            int statusCode = response.statusCode();  
            HttpHeaders headers = response.headers();  
            String responseBody = response.body();  
      
            System.out.println("Status Code: " + statusCode);  
            System.out.println("Response Headers: " + headers);  
            System.out.println("Response Body: " + responseBody);  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016';  
    $contentTypeHeader = 'application/json';  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
      
    // Set cURL options  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, [  
        'Content-Type: ' . $contentTypeHeader,  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader,  
    ]);  
      
    // Execute cURL session and get the response  
    $response = curl_exec($ch);  
      
    // Check for cURL errors  
    if (curl_errno($ch)) {  
        echo 'Curl error: ' . curl_error($ch);  
    }  
      
    // Close cURL session  
    curl_close($ch);  
      
    // Output the response  
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    apiInstance = upstox_client.MarketQuoteV3Api(upstox_client.ApiClient(configuration))  
    try:  
        # For multiple instruments  
        response = apiInstance.get_ltp(instrument_key="NSE_EQ|INE848E01016,NSE_EQ|INE669E01016")  
        print(response)  
    except ApiException as e:  
        print("Exception when calling MarketQuoteV3Api->get_ltp: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let marketQuoteApiInstance = new UpstoxClient.MarketQuoteV3Api();  
    marketQuoteApiInstance.getLtp({instrumentKey: "NSE_EQ|INE848E01016,NSE_EQ|INE669E01016"}, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.MarketQuoteV3Api;  
    import com.upstox.model.GetMarketQuoteLastTradedPriceResponseV3;  
    import com.upstox.auth.*;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            MarketQuoteV3Api marketQuoteV3Api = new MarketQuoteV3Api();  
      
            try {  
                GetMarketQuoteLastTradedPriceResponseV3 result = marketQuoteV3Api.getLtp("NSE_EQ|INE848E01016,NSE_EQ|INE669E01016");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling MarketQuoteV3Api#getLtp");  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    GET /market-quote/ltp

#### Request

Live URLhttps://api.upstox.com/v3

`Authorization`

Bearer

`instrument_key` â€” query **required**


---
# Source: https://upstox.com/developer/api-documentation/option-greek
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [ Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Market Quote](<https://upstox.com/developer/api-documentation/market-quote>)
  * Option Greeks



## Option Greek Fields[â€‹](<https://upstox.com/developer/api-documentation/option-greek/#option-greek-fields> "Direct link to heading")

This API endpoint provides option Greek data for specified instruments. The response contains all fields required to construct an option chain, as well as the current day's total trading volume. This API supports a maximum of 50 instrument keys in a single request.

### Request[â€‹](<https://upstox.com/developer/api-documentation/option-greek/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v3/market-quote/option-greek?instrument_key=NSE_FO%7C43885' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/option-greek/#sample-code>) on this page.

  


### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/option-greek/#query-parameters> "Direct link to heading")

Name| Required| Description  
---|---|---  
instrument_key| true| Comma separated list of instrument keys. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
  
**Responses**

  * 200
  * 4XX



* * *

### Response body[â€‹](<https://upstox.com/developer/api-documentation/option-greek/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "NSE_FO:NIFTY2540923000PE": {  
          "last_price": 412.2,  
          "instrument_token": "NSE_FO|43885",  
          "ltq": 75,  
          "volume": 3609600,  
          "cp": 831.2,  
          "iv": 0.33599853515625,  
          "vega": 3.3899,  
          "gamma": 0.0005,  
          "theta": -51.848,  
          "delta": -0.8081,  
          "oi": 2476650  
        }  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Data object holding option greek information  
data.last_price| number| The last traded price of symbol  
data.instrument_token| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
data.ltq| number| Last traded quantity  
data.volume| number| Volume traded today till current time  
data.cp| number| Previous day's closing price  
data.iv| number| Implied Volatility  
data.vega| number| Sensitivity of the option's price to changes in volatility.  
data.gamma| number| Rate of change of delta with respect to changes in the underlying asset's price.  
data.theta| number| Rate of decline in the option's value due to the passage of time.  
data.delta| number| Sensitivity of the option's price to changes in the underlying asset's price.  
data.oi| number| Open interest for the instrument.  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/option-greek/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1009| **instrument_key is required** \- The `instrument_key` parameter is missing.  
UDAPI1011| **instrument_key is of invalid format** \- The provided `instrument_key` does not conform to the accepted format.  
UDAPI1087| **Invalid Instrument key** \- The provided `instrument_key` is invalid.  
UDAPI100076| **Maximum instrument key limit exceeded** \- The request exceeds the maximum number of instrument keys allowed.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/option-greek/#sample-code> "Direct link to heading")

### Get Option Greek fields[â€‹](<https://upstox.com/developer/api-documentation/option-greek/#get-option-greek-fields> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/market-quote/option-greek?instrument_key=NSE_FO%7C43885' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/market-quote/option-greek?instrument_key=NSE_FO%7C43885'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/market-quote/option-greek?instrument_key=NSE_FO%7C43885';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpHeaders;  
      
    public class Main {  
      
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v3/market-quote/option-greek?instrument_key=NSE_FO%7C43885";  
            String contentTypeHeader = "application/json";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", contentTypeHeader)  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            HttpResponse<String> response = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
            int statusCode = response.statusCode();  
            HttpHeaders headers = response.headers();  
            String responseBody = response.body();  
      
            System.out.println("Status Code: " + statusCode);  
            System.out.println("Response Headers: " + headers);  
            System.out.println("Response Body: " + responseBody);  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/market-quote/option-greek?instrument_key=NSE_FO%7C43885';  
    $contentTypeHeader = 'application/json';  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
      
    // Set cURL options  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, [  
        'Content-Type: ' . $contentTypeHeader,  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader,  
    ]);  
      
    // Execute cURL session and get the response  
    $response = curl_exec($ch);  
      
    // Check for cURL errors  
    if (curl_errno($ch)) {  
        echo 'Curl error: ' . curl_error($ch);  
    }  
      
    // Close cURL session  
    curl_close($ch);  
      
    // Output the response  
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    apiInstance = upstox_client.MarketQuoteV3Api(upstox_client.ApiClient(configuration))  
    try:  
        # For a single instrument  
        response = apiInstance.get_market_quote_option_greek(instrument_key="NSE_FO|43885")  
        print(response)  
    except ApiException as e:  
        print("Exception when calling MarketQuoteV3Api->get_market_quote_option_greek: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let marketQuoteApiInstance = new UpstoxClient.MarketQuoteV3Api();  
    marketQuoteApiInstance.getMarketQuoteOptionGreek({instrumentKey: "NSE_FO|43885"}, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.MarketQuoteV3Api;  
    import com.upstox.model.GetMarketQuoteOptionGreekResponseV3;  
    import com.upstox.auth.*;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            MarketQuoteV3Api marketQuoteV3Api = new MarketQuoteV3Api();  
      
            try {  
                GetMarketQuoteOptionGreekResponseV3 response = marketQuoteV3Api.getMarketQuoteOptionGreek("NSE_FO|43885");  
                System.out.println(response);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling MarketQuoteV3Api#getMarketQuoteOptionGreek");  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Get Option Greek fields for multiple instruments keys[â€‹](<https://upstox.com/developer/api-documentation/option-greek/#get-option-greek-fields-for-multiple-instruments-keys> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/market-quote/option-greek?instrument_key=NSE_FO%7C43885,NSE_FO|43886' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/market-quote/option-greek?instrument_key=NSE_FO%7C43885,NSE_FO|43886'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/market-quote/option-greek?instrument_key=NSE_FO%7C43885,NSE_FO|43886';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpHeaders;  
      
    public class Main {  
      
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v3/market-quote/option-greek?instrument_key=NSE_FO%7C43885,NSE_FO|43886";  
            String contentTypeHeader = "application/json";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", contentTypeHeader)  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            HttpResponse<String> response = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
            int statusCode = response.statusCode();  
            HttpHeaders headers = response.headers();  
            String responseBody = response.body();  
      
            System.out.println("Status Code: " + statusCode);  
            System.out.println("Response Headers: " + headers);  
            System.out.println("Response Body: " + responseBody);  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/market-quote/option-greek?instrument_key=NSE_FO%7C43885,NSE_FO|43886';  
    $contentTypeHeader = 'application/json';  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
      
    // Set cURL options  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, [  
        'Content-Type: ' . $contentTypeHeader,  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader,  
    ]);  
      
    // Execute cURL session and get the response  
    $response = curl_exec($ch);  
      
    // Check for cURL errors  
    if (curl_errno($ch)) {  
        echo 'Curl error: ' . curl_error($ch);  
    }  
      
    // Close cURL session  
    curl_close($ch);  
      
    // Output the response  
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    apiInstance = upstox_client.MarketQuoteV3Api(upstox_client.ApiClient(configuration))  
    try:  
        # For multiple instruments  
        response = apiInstance.get_market_quote_option_greek(instrument_key="NSE_FO|38604,NSE_FO|49210")  
        print(response)  
    except ApiException as e:  
        print("Exception when calling MarketQuoteV3Api->get_market_quote_option_greek: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let marketQuoteApiInstance = new UpstoxClient.MarketQuoteV3Api();  
    marketQuoteApiInstance.getMarketQuoteOptionGreek({instrumentKey: "NSE_FO|38604,NSE_FO|49210"}, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.MarketQuoteV3Api;  
    import com.upstox.model.GetMarketQuoteOptionGreekResponseV3;  
    import com.upstox.auth.*;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            MarketQuoteV3Api marketQuoteV3Api = new MarketQuoteV3Api();  
      
            try {  
                GetMarketQuoteOptionGreekResponseV3 response = marketQuoteV3Api.getMarketQuoteOptionGreek("NSE_FO|38604,NSE_FO|49210");  
                System.out.println(response);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling MarketQuoteV3Api#getMarketQuoteOptionGreek");  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    GET /market-quote/option-greek

#### Request

Live URLhttps://api.upstox.com/v3

`Authorization`

Bearer

`instrument_key` â€” query **required**

Show optional parameters

`interval` â€” query

\---I1I5I15I30I60D1


---
# Source: https://upstox.com/developer/api-documentation/get-market-quote-ohlc
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Market Quote](<https://upstox.com/developer/api-documentation/market-quote>)
  * OHLC Quotes



## OHLC Quotes Deprecated[â€‹](<https://upstox.com/developer/api-documentation/get-market-quote-ohlc/#ohlc-quotes-deprecated> "Direct link to heading")

API to retrieve the OHLC (Open, High, Low, Close) quotes for one or more instruments. Provides OHLC snapshots of up to 500 instruments in one go.   
This API supports a maximum of 500 instrument keys in a single request. For a time interval of `1d`, the API returns only the `live_ohlc`. Previous day OHLC data is available in [Historical Candle Data](<https://upstox.com/developer/api-documentation/get-historical-candle-data>).

### Request[â€‹](<https://upstox.com/developer/api-documentation/get-market-quote-ohlc/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/market-quote/ohlc?instrument_key=NSE_EQ%7CINE669E01016&interval=1d' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

Additional samples in various languages are available in the [Sample Code section](<https://upstox.com/developer/api-documentation/get-market-quote-ohlc/#sample-code>) on this page.

### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-market-quote-ohlc/#query-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
instrument_key| true| string| Comma separated list of instrument keys. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
interval| true| string| Interval to get ohlc data.   
Possible values: `1d`, `I1`, `I30`.   
Here `1d` is 1 day, `I1` and `I30` are 1-minute and 30-minute intervals respectively.  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-market-quote-ohlc/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "NSE_EQ:NHPC": {  
          "ohlc": {  
            "open": 53.4,  
            "high": 53.8,  
            "low": 51.75,  
            "close": 52.05  
          },  
          "last_price": 52.05,  
          "instrument_token": "NSE_EQ|INE848E01016"  
        }  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Data object holding OHLC information  
data.ohlc| object| Data object with OHLC information  
data.ohlc.open| number| The open price of the trading session  
data.ohlc.high| number| The high price of the trading session  
data.ohlc.low| number| The low price of the trading session  
data.ohlc.close| number| The most recent closing price of the symbol  
data.last_price| number| The last traded price of symbol  
data.instrument_token| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/get-market-quote-ohlc/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1087| **One of either symbol or instrument_key is invalid** \- The provided symbol or instrument_key does not confirm to the accepted format.  
UDAPI1028| **Invalid interval** \- The specified interval doesn't match any of the recognized values.  
UDAPI1027| **interval is required** \- You must specify the 'interval' for this operation.  
UDAPI100043| **Data of only 500 instrument keys can be requested in single API call** \- Limit your request to 500 instrument keys at a time.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-market-quote-ohlc/#sample-code> "Direct link to heading")

### Get ohlc (open, high, low, close) market quotes[â€‹](<https://upstox.com/developer/api-documentation/get-market-quote-ohlc/#get-ohlc-open-high-low-close-market-quotes> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/market-quote/ohlc?instrument_key=NSE_EQ%7CINE669E01016&interval=1d' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/market-quote/ohlc'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        "instrument_key": "NSE_EQ|INE669E01016",  
        "interval": "1d"  
    }  
      
    response = requests.get(url, headers=headers, params=data)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/market-quote/ohlc';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const params = {  
      instrument_key: 'NSE_EQ|INE669E01016',  
      interval: '1d',  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log('Response Status Code:', response.status);  
        console.log('Response Data:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            // Set the API endpoint URL  
            String apiUrl = "https://api.upstox.com/v2/market-quote/ohlc?instrument_key=NSE_EQ%7CINE669E01016&interval=1d";  
      
            // Set the request headers  
            String contentTypeHeader = "application/json";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            // Build the URI  
            URI uri = URI.create(apiUrl);  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Build the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(uri)  
                    .header("Content-Type", contentTypeHeader)  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            // Send the request and retrieve the response  
            HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
            // Print the response  
            System.out.println("Response Code: " + response.statusCode());  
            System.out.println("Response Body: " + response.body());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/market-quote/ohlc';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'instrument_key' => 'NSE_EQ|INE669E01016',  
        'interval' => '1d',  
    ];  
      
    $ch = curl_init($url . '?' . http_build_query($data));  
      
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
    $status_code = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'Response Status Code: ' . $status_code . PHP_EOL;  
    echo 'Response Data: ' . $response . PHP_EOL;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    symbol = 'NSE_EQ|INE669E01016'  
    api_instance = upstox_client.MarketQuoteApi(upstox_client.ApiClient(configuration))  
    interval='1d'  
      
    try:  
        api_response = api_instance.get_market_quote_ohlc(symbol,interval,api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling MarketQuoteApi->get_full_market_quote: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.MarketQuoteApi();  
      
    let apiVersion = "2.0";   
    let symbol = "NSE_EQ|INE669E01016";   
    let interval = "1d";  
    apiInstance.getMarketQuoteOHLC(symbol, interval,apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetMarketQuoteOHLCResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.MarketQuoteApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            MarketQuoteApi apiInstance = new MarketQuoteApi();  
            String apiVersion = "2.0";  
            String symbol = "NSE_EQ|INE669E01016";  
            String interval = "1d";  
            try {  
                GetMarketQuoteOHLCResponse result = apiInstance.getMarketQuoteOHLC(symbol, interval, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling MarketQuoteApi#getMarketQuoteOHLC");  
                e.printStackTrace();  
            }  
      
        }  
    }  
    

### Get ohlc (open, high, low, close) market quotes for multiple instrument keys[â€‹](<https://upstox.com/developer/api-documentation/get-market-quote-ohlc/#get-ohlc-open-high-low-close-market-quotes-for-multiple-instrument-keys> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/market-quote/ohlc?instrument_key=NSE_EQ%7CINE669E01016%2CNSE_EQ%7CINE848E01016&interval=1d' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/market-quote/ohlc'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        "instrument_key": "NSE_EQ|INE669E01016,NSE_EQ|INE848E01016",  
        "interval": "1d"  
    }  
      
    response = requests.get(url, headers=headers, params=data)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/market-quote/ohlc';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const params = {  
      instrument_key: 'NSE_EQ|INE669E01016,NSE_EQ|INE848E01016',  
      interval: '1d',  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log('Response Status Code:', response.status);  
        console.log('Response Data:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            // Set the API endpoint URL  
            String apiUrl = "https://api.upstox.com/v2/market-quote/ohlc?instrument_key=NSE_EQ%7CINE669E01016%2CNSE_EQ%7CINE848E01016&interval=1d";  
      
            // Set the request headers  
            String contentTypeHeader = "application/json";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            // Build the URI  
            URI uri = URI.create(apiUrl);  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Build the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(uri)  
                    .header("Content-Type", contentTypeHeader)  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            // Send the request and retrieve the response  
            HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
            // Print the response  
            System.out.println("Response Code: " + response.statusCode());  
            System.out.println("Response Body: " + response.body());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/market-quote/ohlc';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'instrument_key' => 'NSE_EQ|INE669E01016,NSE_EQ|INE848E01016',  
        'interval' => '1d',  
    ];  
      
    $ch = curl_init($url . '?' . http_build_query($data));  
      
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
    $status_code = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'Response Status Code: ' . $status_code . PHP_EOL;  
    echo 'Response Data: ' . $response . PHP_EOL;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    symbol = 'NSE_EQ|INE669E01016,NSE_EQ|INE848E01016'  
    api_instance = upstox_client.MarketQuoteApi(upstox_client.ApiClient(configuration))  
    interval='1d'  
      
    try:  
        api_response = api_instance.get_market_quote_ohlc(symbol,interval,api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling MarketQuoteApi->get_full_market_quote: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.MarketQuoteApi();  
      
    let apiVersion = "2.0";   
    let symbol = "NSE_EQ|INE669E01016,NSE_EQ|INE848E01016";   
    let interval = "1d";  
    apiInstance.getMarketQuoteOHLC(symbol, interval,apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetMarketQuoteOHLCResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.MarketQuoteApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            MarketQuoteApi apiInstance = new MarketQuoteApi();  
            String apiVersion = "2.0";  
            String symbol = "NSE_EQ|INE669E01016,NSE_EQ|INE848E01016";  
            String interval = "1d";  
            try {  
                GetMarketQuoteOHLCResponse result = apiInstance.getMarketQuoteOHLC(symbol, interval, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling MarketQuoteApi#getMarketQuoteOHLC");  
                e.printStackTrace();  
            }  
      
        }  
    }  
    
    
    
    GET /market-quote/ohlc

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

`instrument_key` â€” query **required**

`interval` â€” query **required**


---
# Source: https://upstox.com/developer/api-documentation/ltp
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [ Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Market Quote](<https://upstox.com/developer/api-documentation/market-quote>)
  * LTP Quotes



## LTP Quotes Deprecated[â€‹](<https://upstox.com/developer/api-documentation/ltp/#ltp-quotes-deprecated> "Direct link to heading")

API to retrieve the LTP quotes for one or more instruments. Provides LTPs of up to 500 instruments in one go. This API supports a maximum of 500 instrument keys in a single request.

### Request[â€‹](<https://upstox.com/developer/api-documentation/ltp/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

Additional samples in various languages are available in the [Sample Code section](<https://upstox.com/developer/api-documentation/ltp/#sample-code>) on this page.

### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/ltp/#query-parameters> "Direct link to heading")

Name| Required| Description  
---|---|---  
instrument_key| true| Comma separated list of instrument keys. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
  
**Responses**

  * 200
  * 4XX



* * *

### Response body[â€‹](<https://upstox.com/developer/api-documentation/ltp/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "NSE_EQ:NHPC": {  
          "last_price": 52.05,  
          "instrument_token": "NSE_EQ|INE848E01016"  
        }  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Data object holding LTP information  
data.last_price| number| The last traded price of symbol  
data.instrument_token| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/ltp/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1087| **One of either symbol or instrument_key is invalid** \- The provided symbol or instrument_key does not confirm to the accepted format.  
UDAPI100043| **Data of only 500 instrument keys can be requested in single API call** \- Limit your request to 500 instrument keys at a time.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/ltp/#sample-code> "Direct link to heading")

### Get ltp (last traded price) market quotes[â€‹](<https://upstox.com/developer/api-documentation/ltp/#get-ltp-last-traded-price-market-quotes> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpHeaders;  
      
    public class Main {  
      
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            HttpResponse<String> response = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
            int statusCode = response.statusCode();  
            HttpHeaders headers = response.headers();  
            String responseBody = response.body();  
      
            System.out.println("Status Code: " + statusCode);  
            System.out.println("Response Headers: " + headers);  
            System.out.println("Response Body: " + responseBody);  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016';  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
      
    // Set cURL options  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, [  
        'Content-Type: application/json',  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader,  
    ]);  
      
    // Execute cURL session and get the response  
    $response = curl_exec($ch);  
      
    // Check for cURL errors  
    if (curl_errno($ch)) {  
        echo 'Curl error: ' . curl_error($ch);  
    }  
      
    // Close cURL session  
    curl_close($ch);  
      
    // Output the response  
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    symbol = 'NSE_EQ|INE669E01016'  
    api_instance = upstox_client.MarketQuoteApi(upstox_client.ApiClient(configuration))  
      
      
    try:  
        api_response = api_instance.ltp(symbol,api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling MarketQuoteApi->get_full_market_quote: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.MarketQuoteApi();  
      
      
    let apiVersion = "2.0";   
    let symbol = "NSE_EQ|INE669E01016";   
    apiInstance.ltp(symbol,apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetMarketQuoteLastTradedPriceResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.MarketQuoteApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            MarketQuoteApi apiInstance = new MarketQuoteApi();  
            String symbol = "NSE_EQ|INE669E01016"; // String | Comma separated list of symbols  
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                GetMarketQuoteLastTradedPriceResponse result = apiInstance.ltp(symbol, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling MarketQuoteApi#ltp");  
                e.printStackTrace();  
            }  
      
        }  
    }  
    

### Get ltp (last traded price) market quotes for multiple instruments keys[â€‹](<https://upstox.com/developer/api-documentation/ltp/#get-ltp-last-traded-price-market-quotes-for-multiple-instruments-keys> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpHeaders;  
      
    public class Main {  
      
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            HttpResponse<String> response = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
            int statusCode = response.statusCode();  
            HttpHeaders headers = response.headers();  
            String responseBody = response.body();  
      
            System.out.println("Status Code: " + statusCode);  
            System.out.println("Response Headers: " + headers);  
            System.out.println("Response Body: " + responseBody);  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016';  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
      
    // Set cURL options  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, [  
        'Content-Type: application/json',  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader,  
    ]);  
      
    // Execute cURL session and get the response  
    $response = curl_exec($ch);  
      
    // Check for cURL errors  
    if (curl_errno($ch)) {  
        echo 'Curl error: ' . curl_error($ch);  
    }  
      
    // Close cURL session  
    curl_close($ch);  
      
    // Output the response  
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    symbol = 'NSE_EQ|INE669E01016,NSE_EQ|INE848E01016'  
    api_instance = upstox_client.MarketQuoteApi(upstox_client.ApiClient(configuration))  
      
      
    try:  
        api_response = api_instance.ltp(symbol,api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling MarketQuoteApi->get_full_market_quote: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.MarketQuoteApi();  
      
      
    let apiVersion = "2.0";   
    let symbol = 'NSE_EQ|INE669E01016,NSE_EQ|INE848E01016';   
    apiInstance.ltp(symbol,apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetMarketQuoteLastTradedPriceResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.MarketQuoteApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            MarketQuoteApi apiInstance = new MarketQuoteApi();  
            String symbol = "NSE_EQ|INE669E01016,NSE_EQ|INE848E01016"; // String | Comma separated list of symbols  
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                GetMarketQuoteLastTradedPriceResponse result = apiInstance.ltp(symbol, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling MarketQuoteApi#ltp");  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    GET /market-quote/ltp

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

`instrument_key` â€” query **required**


---
# Source: https://upstox.com/developer/api-documentation/market-information
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [ Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * Market Information



# Market Information

## [description Market HolidaysGet holiday list for the current year](<https://upstox.com/developer/api-documentation/get-market-holidays>)## [description Market TimingsGet market timing list for particular date](<https://upstox.com/developer/api-documentation/get-market-timings>)## [description Exchange StatusGet market status for particular exchange.](<https://upstox.com/developer/api-documentation/get-market-status>)


---
# Source: https://upstox.com/developer/api-documentation/get-market-holidays
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Market Information](<https://upstox.com/developer/api-documentation/market-information>)
  * Market Holidays



## Market Holidays[â€‹](<https://upstox.com/developer/api-documentation/get-market-holidays/#market-holidays> "Direct link to heading")

API to retrieve holidays for the current year. It also supports an optional parameter to fetch holiday details for a specific date.

### Path Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-market-holidays/#path-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
date| false| string| The date for retrieving holiday information. Format: 'YYYY-MM-DD'.  
  
### Request[â€‹](<https://upstox.com/developer/api-documentation/get-market-holidays/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/market/holidays' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/get-market-holidays/#sample-code>) on this page.

**Responses**

  * 200



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-market-holidays/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": [  
        {  
          "date": "2024-01-01",  
          "description": "New Year Day",  
          "holiday_type": "TRADING_HOLIDAY",  
          "closed_exchanges": [],  
          "open_exchanges": [  
            {  
              "exchange": "MCX",  
              "start_time": 1704079800000,  
              "end_time": 1704108600000  
            },  
            {  
              "exchange": "NSE",  
              "start_time": 1704080700000,  
              "end_time": 1704103200000  
            },  
            {  
              "exchange": "NFO",  
              "start_time": 1704080700000,  
              "end_time": 1704103200000  
            },  
            {  
              "exchange": "CDS",  
              "start_time": 1704079800000,  
              "end_time": 1704108600000  
            },  
            {  
              "exchange": "BSE",  
              "start_time": 1704080700000,  
              "end_time": 1704103200000  
            },  
            {  
              "exchange": "BCD",  
              "start_time": 1704079800000,  
              "end_time": 1704108600000  
            },  
            {  
              "exchange": "BFO",  
              "start_time": 1704080700000,  
              "end_time": 1704103200000  
            }  
          ]  
        },  
        {  
          "date": "2024-01-20",  
          "description": "Special DR Trading",  
          "holiday_type": "TRADING_HOLIDAY",  
          "closed_exchanges": ["MCX", "CDS", "BCD"],  
          "open_exchanges": [  
            {  
              "exchange": "NSE",  
              "start_time": 1705722300000,  
              "end_time": 1705734000000  
            },  
            {  
              "exchange": "NFO",  
              "start_time": 1705722300000,  
              "end_time": 1705734000000  
            },  
            {  
              "exchange": "BSE",  
              "start_time": 1705722300000,  
              "end_time": 1705734000000  
            },  
            {  
              "exchange": "BFO",  
              "start_time": 1705722300000,  
              "end_time": 1705734000000  
            }  
          ]  
        },  
        {  
          "date": "2024-01-26",  
          "description": "Republic Day",  
          "holiday_type": "TRADING_HOLIDAY",  
          "closed_exchanges": ["NFO", "CDS", "BSE", "BCD", "MCX", "NSE", "BFO"],  
          "open_exchanges": []  
        }  
      ]  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Data object holding holidays information in the current year  
data[].date| string| Date of the holiday in particular format `YYYY-MM-DD`  
data[].description| string| Description about the holiday  
data[].holiday_type| string| Type of the holiday.   
Possible values: `SETTLEMENT_HOLIDAY`, `TRADING_HOLIDAY`, `SPECIAL_TIMING`  
data[].closed_exchanges| string[]| List of exchanges for which market is close.  
data[].open_exchanges| string[]| List of exchanges for which market is open.  
data[].open_exchanges[].exchange| string| Exchange for which the market is open  
data[].open_exchanges[].start_time| number| Timestamp at which market will start.  
data[].open_exchanges[].end_time| number| Timestamp at which market will end.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-market-holidays/#sample-code> "Direct link to heading")

### Get market holidays for current year[â€‹](<https://upstox.com/developer/api-documentation/get-market-holidays/#get-market-holidays-for-current-year> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/market/holidays' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/market/holidays'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    if response.status_code == 200:  
        data = response.json()  
        # Process the JSON response  
        print(data)  
    else:  
        print("Failed to retrieve data. Status code:", response.status_code)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/market/holidays';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        // Process the JSON response  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error);  
      });  
    
    
    
    import java.io.IOException;  
    import java.net.URI;  
    import java.net.URISyntaxException;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Hello {  
        public static void main(String[] args) throws URISyntaxException, IOException, InterruptedException {  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(new URI("https://api.upstox.com/v2/market/holidays"))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .GET()  
                    .build();  
            HttpClient client = HttpClient.newHttpClient();  
            HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
            System.out.println(response.body());  
        }  
    }  
    
    
    
    <?php  
    $url = 'https://api.upstox.com/v2/market/holidays';  
    $headers = array(  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}'  
    );  
      
    $curl = curl_init($url);  
    curl_setopt($curl, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($curl);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($curl);  
    } else {  
        // Process the response  
        echo $response;  
    }  
      
    curl_close($curl);  
    ?>  
      
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
      
    api_instance = upstox_client.MarketHolidaysAndTimingsApi(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.get_holidays()  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling MarketHolidaysAndTimingsApi: %s\n" %e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
      
    let apiInstance = new UpstoxClient.MarketHolidaysAndTimingsApi();  
    apiInstance.getHolidays((error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
      });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetHolidayResponse;  
    import io.swagger.client.api.MarketHolidaysAndTimingsApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            MarketHolidaysAndTimingsApi apiInstance = new MarketHolidaysAndTimingsApi();  
      
            try {  
                GetHolidayResponse result = apiInstance.getHolidays();  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling API= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Get market holiday status of a date[â€‹](<https://upstox.com/developer/api-documentation/get-market-holidays/#get-market-holiday-status-of-a-date> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/market/holidays/2024-01-22' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/market/holidays/2024-01-22'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    if response.status_code == 200:  
        data = response.json()  
        # Process the JSON response  
        print(data)  
    else:  
        print("Failed to retrieve data. Status code:", response.status_code)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/market/holidays/2024-01-22';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        // Process the JSON response  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error);  
      });  
    
    
    
    import java.io.IOException;  
    import java.net.URI;  
    import java.net.URISyntaxException;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Hello {  
        public static void main(String[] args) throws URISyntaxException, IOException, InterruptedException {  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(new URI("https://api.upstox.com/v2/market/holidays/2024-01-22"))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .GET()  
                    .build();  
            HttpClient client = HttpClient.newHttpClient();  
            HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
            System.out.println(response.body());  
        }  
    }  
    
    
    
    <?php  
    $url = 'https://api.upstox.com/v2/market/holidays/2024-01-22';  
    $headers = array(  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}'  
    );  
      
    $curl = curl_init($url);  
    curl_setopt($curl, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($curl);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($curl);  
    } else {  
        // Process the response  
        echo $response;  
    }  
      
    curl_close($curl);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
      
    api_instance = upstox_client.MarketHolidaysAndTimingsApi(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.get_holiday("2024-01-22")  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling MarketHolidaysAndTimingsApi: %s\n" %e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
      
    let apiInstance = new UpstoxClient.MarketHolidaysAndTimingsApi();  
      
    apiInstance.getHoliday("2024-01-22",(error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
      });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetHolidayResponse;  
    import io.swagger.client.api.MarketHolidaysAndTimingsApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            MarketHolidaysAndTimingsApi apiInstance = new MarketHolidaysAndTimingsApi();  
      
            try {  
                GetHolidayResponse result = apiInstance.getHoliday("2024-01-22");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling API= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    GET /market/holidays

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

Show optional parameters

`date` â€” path


---
# Source: https://upstox.com/developer/api-documentation/get-market-timings
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Market Information](<https://upstox.com/developer/api-documentation/market-information>)
  * Market Timings



## Market Timings[â€‹](<https://upstox.com/developer/api-documentation/get-market-timings/#market-timings> "Direct link to heading")

API to retrieve the market timings for each exchange for a particular date.

### Request[â€‹](<https://upstox.com/developer/api-documentation/get-market-timings/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/market/timings/2024-01-22' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/get-market-timings/#sample-code>) on this page.

### Path Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-market-timings/#path-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
date| true| string| The date for retrieving market timing information. Format: 'YYYY-MM-DD'.  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-market-timings/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": [  
        {  
          "exchange": "MCX",  
          "start_time": 1704079800000,  
          "end_time": 1704108600000  
        },  
        {  
          "exchange": "NSE",  
          "start_time": 1704080700000,  
          "end_time": 1704103200000  
        },  
        {  
          "exchange": "NFO",  
          "start_time": 1704080700000,  
          "end_time": 1704103200000  
        },  
        {  
          "exchange": "CDS",  
          "start_time": 1704079800000,  
          "end_time": 1704108600000  
        },  
        {  
          "exchange": "BSE",  
          "start_time": 1704080700000,  
          "end_time": 1704103200000  
        },  
        {  
          "exchange": "BCD",  
          "start_time": 1704079800000,  
          "end_time": 1704108600000  
        },  
        {  
          "exchange": "BFO",  
          "start_time": 1704080700000,  
          "end_time": 1704103200000  
        }  
      ]  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Data object holding information about the market timings  
data[].exchange| string| Exchange for which the market is open. Valid exchanges can be found in the [Exchange Appendix](<https://upstox.com/developer/api-documentation/appendix/exchange>)  
data[].start_time| number| Timestamp at which market will start.  
data[].end_time| number| Timestamp at which market will end.  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/get-market-timings/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1088| **Invalid date** \- The provided date does not confirm to the accepted format.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-market-timings/#sample-code> "Direct link to heading")

### Get market timings of a date[â€‹](<https://upstox.com/developer/api-documentation/get-market-timings/#get-market-timings-of-a-date> "Direct link to heading")

  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/market/timings/2024-01-22'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    if response.status_code == 200:  
        data = response.json()  
        # Process the JSON response  
        print(data)  
    else:  
        print("Failed to retrieve data. Status code:", response.status_code)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/market/timings/2024-01-22';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        // Process the JSON response  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error);  
      });  
    
    
    
    import java.io.IOException;  
    import java.net.URI;  
    import java.net.URISyntaxException;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Hello {  
        public static void main(String[] args) throws URISyntaxException, IOException, InterruptedException {  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(new URI("https://api.upstox.com/v2/market/timings/2024-01-22"))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .GET()  
                    .build();  
            HttpClient client = HttpClient.newHttpClient();  
            HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
            System.out.println(response.body());  
        }  
    }  
    
    
    
    <?php  
    $url = 'https://api.upstox.com/v2/market/timings/2024-01-22';  
    $headers = array(  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}'  
    );  
      
    $curl = curl_init($url);  
    curl_setopt($curl, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($curl);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($curl);  
    } else {  
        // Process the response  
        echo $response;  
    }  
      
    curl_close($curl);  
    ?>  
      
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
      
    api_instance = upstox_client.MarketHolidaysAndTimingsApi(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.get_exchange_timings("2024-01-22")  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling MarketHolidaysAndTimingsApi: %s\n" %e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
      
    let apiInstance = new UpstoxClient.MarketHolidaysAndTimingsApi();  
      
    apiInstance.getExchangeTimings("2024-01-22",(error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
      });  
    
    
    
    import com.upstox.ApiException;  
    import com.upstox.api.GetExchangeTimingResponse;  
    import io.swagger.client.api.MarketHolidaysAndTimingsApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            MarketHolidaysAndTimingsApi apiInstance = new MarketHolidaysAndTimingsApi();  
      
            try {  
                GetExchangeTimingResponse result = apiInstance.getExchangeTimings("2024-01-22");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling API= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    GET /market/timings/:date

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

`date` â€” path **required**


---
# Source: https://upstox.com/developer/api-documentation/get-market-status
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [ Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Market Information](<https://upstox.com/developer/api-documentation/market-information>)
  * Exchange Status



## Exchange Status[â€‹](<https://upstox.com/developer/api-documentation/get-market-status/#exchange-status> "Direct link to heading")

API to retrieve the market status for a particular exchange.

### Path Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-market-status/#path-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
exchange| true| string| The unique identifier for an exchange for which market status data is being queried. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
  
### Request[â€‹](<https://upstox.com/developer/api-documentation/get-market-status/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/market/status/NSE' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

For additional samples in various languages, please refer to the [Sample code section](<https://upstox.com/developer/api-documentation/get-market-status/#sample-code>) on this page.

**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-market-status/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "exchange": "NSE",  
        "status": "NORMAL_OPEN",  
        "last_updated": 1705549500000  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Data object holding market status information for an exchange.  
data.exchange| string| Exchange to which the market status is associated. Valid exchanges can be found in the [Exchange Appendix](<https://upstox.com/developer/api-documentation/appendix/exchange>)  
data.status| string| Current exchange status. Valid market statuses can be found in the [Market Status Appendix](<https://upstox.com/developer/api-documentation/appendix/market-status>)  
data.last_updated| number| The timestamp at which the market status was last updated.  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/get-market-status/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI1089| **Invalid exchange** \- The provided exchange does not confirm to the accepted format.  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-market-status/#sample-code> "Direct link to heading")

### Get market status for a particular exchange[â€‹](<https://upstox.com/developer/api-documentation/get-market-status/#get-market-status-for-a-particular-exchange> "Direct link to heading")

  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/market/status/NSE'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/market/status/NSE';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error);  
      });  
    
    
    
    import java.io.IOException;  
    import java.net.URI;  
    import java.net.URISyntaxException;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Hello {  
        public static void main(String[] args) throws URISyntaxException, IOException, InterruptedException {  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(new URI("https://api.upstox.com/v2/market/status/NSE"))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .GET()  
                    .build();  
            HttpClient client = HttpClient.newHttpClient();  
            HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
            System.out.println(response.body());  
        }  
    }  
    
    
    
    <?php  
    $url = 'https://api.upstox.com/v2/market/status/NSE';  
      
    $headers = array(  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}'  
    );  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
      
    if(curl_errno($ch)) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = "{your_access_token}"  
    api_instance = upstox_client.MarketHolidaysAndTimingsApi(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.get_market_status("NSE")  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling MarketHolidaysAndTimingsApi: %s\n" %e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.MarketHolidaysAndTimingsApi();  
    apiInstance.getMarketStatus("NSE",(error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
      });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetMarketStatusResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.MarketHolidaysAndTimingsApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            MarketHolidaysAndTimingsApi apiInstance = new MarketHolidaysAndTimingsApi();  
      
            try {  
                GetMarketStatusResponse result = apiInstance.getMarketStatus("NSE");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling API= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    GET /market/status/:exchange

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

`exchange` â€” path **required**


---
# Source: https://upstox.com/developer/api-documentation/option-chain
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [ Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * Option Chain



# Option Chain

## [description Option ContractsGet option contracts](<https://upstox.com/developer/api-documentation/get-option-contracts>)## [description Put/Call Option chainGet Put/Call option chain](<https://upstox.com/developer/api-documentation/get-pc-option-chain>)


---
# Source: https://upstox.com/developer/api-documentation/get-option-contracts
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Option Chain](<https://upstox.com/developer/api-documentation/option-chain>)
  * Option Contracts



## Option Contracts[â€‹](<https://upstox.com/developer/api-documentation/get-option-contracts/#option-contracts> "Direct link to heading")

API to retrieve option contracts for an underlying symbol. It also supports an optional parameter to fetch option contracts for a specific expiry date.

### Request[â€‹](<https://upstox.com/developer/api-documentation/get-option-contracts/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/option/contract?instrument_key=NSE_INDEX%7CNifty%2050' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

Additional samples in various languages are available in the [Sample Code section](<https://upstox.com/developer/api-documentation/get-option-contracts/#sample-code>) on this page.

### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-option-contracts/#query-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
instrument_key| true| string| Key of an underlying symbol. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
expiry_date| false| string| Expiry date in format: `YYYY-MM-DD`.  
  
**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-option-contracts/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": [  
        {  
          "name": "NIFTY",  
          "segment": "NSE_FO",  
          "exchange": "NSE",  
          "expiry": "2024-02-15",  
          "instrument_key": "NSE_FO|37590",  
          "exchange_token": "37590",  
          "trading_symbol": "NIFTY 19650 CE 15 FEB 24",  
          "tick_size": 5,  
          "lot_size": 50,  
          "instrument_type": "CE",  
          "freeze_quantity": 1800,  
          "underlying_key": "NSE_INDEX|Nifty 50",  
          "underlying_type": "INDEX",  
          "underlying_symbol": "NIFTY",  
          "strike_price": 19650,  
          "minimum_lot": 50,  
          "weekly": true  
        },  
        {  
          "name": "NIFTY",  
          "segment": "NSE_FO",  
          "exchange": "NSE",  
          "expiry": "2024-02-15",  
          "instrument_key": "NSE_FO|37668",  
          "exchange_token": "37668",  
          "trading_symbol": "NIFTY 19700 CE 15 FEB 24",  
          "tick_size": 5,  
          "lot_size": 50,  
          "instrument_type": "CE",  
          "freeze_quantity": 1800,  
          "underlying_key": "NSE_INDEX|Nifty 50",  
          "underlying_type": "INDEX",  
          "underlying_symbol": "NIFTY",  
          "strike_price": 19700,  
          "minimum_lot": 50,  
          "weekly": true  
        }  
      ]  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Data object for option contracts.  
data[].name| string| The name of the option.  
data[].segment| string| The market segment of the option.   
Possible values: `NSE_EQ`, `NSE_INDEX`, `NSE_FO`, `NCD_FO`, `BSE_EQ`, `BSE_INDEX`, `BSE_FO`, `BCD_FO`, `MCX_FO`, `NSE_COM`  
data[].exchange| string| Exchange to which the instrument is associated.   
Possible values: `NSE`, `BSE`, `MCX`.  
data[].expiry| string| Expiry date (for derivatives). Date format is `YYYY-MM-dd`.  
data[].instrument_key| string| The unique identifier used across Upstox APIs for instrument identification. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
data[].exchange_token| string| The exchange-specific token for the option.  
data[].trading_symbol| string| The symbol used for trading the option.   
Format: `<underlying_symbol> <strike_price> <CE/PE> <expiry in dd MMM yy>`  
data[].tick_size| number| The minimum price movement of the option.  
data[].lot_size| number| The size of one lot of the option.  
data[].instrument_type| string| The type of the option instrument,   
Possible values: `CE`, `PE`  
data[].freeze_quantity| number| The maximum quantity that can be frozen.  
data[].underlying_key| string| The `instrument_key` for the underlying asset.  
data[].underlying_type| string| The type of the underlying asset, Possible values: `COM`, `INDEX`, `EQUITY`, `CUR`, `IRD`.  
data[].underlying_symbol| string| The symbol of the underlying asset.  
data[].strike_price| number| The strike price for the option.  
data[].minimum_lot| number| The minimum lot size for the option.  
data[].weekly| boolean| Indicates if the option is weekly.  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/get-option-contracts/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI100011| **Invalid Instrument key** \- You need to provide proper instrument key for this operation.  
UDAPI1088| **Invalid date** \- You need to provide the expiry_date in proper format: `YYYY-MM-DD`  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-option-contracts/#sample-code> "Direct link to heading")

### Get option contracts of an instrument key[â€‹](<https://upstox.com/developer/api-documentation/get-option-contracts/#get-option-contracts-of-an-instrument-key> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/option/contract?instrument_key=NSE_INDEX%7CNifty%2050' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/option/contract?instrument_key=NSE_INDEX%7CNifty%2050'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Print the response content  
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/option/contract?instrument_key=NSE_INDEX%7CNifty%2050';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error);  
      });  
    
    
    
    import java.io.IOException;  
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
        public static void main(String[] args) throws IOException, InterruptedException {  
            String url = "https://api.upstox.com/v2/option/contract?instrument_key=NSE_INDEX%7CNifty%2050";  
            String token = "{your_access_token}";  
            HttpClient client = HttpClient.newHttpClient();  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer " + token)  
                    .build();  
      
            HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
      
            System.out.println("Response Code: " + response.statusCode());  
            System.out.println("Response Content: " + response.body());  
        }  
    }  
    
    
    
    <?php  
    $url = 'https://api.upstox.com/v2/option/contract?instrument_key=NSE_INDEX%7CNifty%2050';  
    $token = '{your_access_token}';  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer ' . $token  
    ]);  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Response Code: $httpCode\n";  
    echo "Response Content: $response\n";  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = "{your_access_token}"  
      
    api_instance = upstox_client.OptionsApi(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.get_option_contracts("NSE_INDEX|Nifty 50")  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->options apis: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OptionsApi();  
    apiInstance.getOptionContracts("NSE_INDEX|Nifty 50",null,(error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
      });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetOptionContractResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OptionsApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OptionsApi apiInstance = new OptionsApi();  
      
            try {  
                GetOptionContractResponse result = apiInstance.getOptionContracts("NSE_INDEX|Nifty 50", null);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling API= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    

### Get option contracts of an instrument key with expiry date[â€‹](<https://upstox.com/developer/api-documentation/get-option-contracts/#get-option-contracts-of-an-instrument-key-with-expiry-date> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/option/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-03-28' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/option/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-03-28'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Print the response content  
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/option/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-03-28';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error);  
      });  
    
    
    
    import java.io.IOException;  
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
        public static void main(String[] args) throws IOException, InterruptedException {  
            String url = "https://api.upstox.com/v2/option/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-03-28";  
            String token = "{your_access_token}";  
            HttpClient client = HttpClient.newHttpClient();  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer " + token)  
                    .build();  
      
            HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
      
            System.out.println("Response Code: " + response.statusCode());  
            System.out.println("Response Content: " + response.body());  
        }  
    }  
    
    
    
    <?php  
    $url = 'https://api.upstox.com/v2/option/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-03-28';  
    $token = '{your_access_token}';  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer ' . $token  
    ]);  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Response Code: $httpCode\n";  
    echo "Response Content: $response\n";  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = "{your_access_token}"  
      
    api_instance = upstox_client.OptionsApi(upstox_client.ApiClient(configuration))  
      
    param = {  
        'expiry_date': "2024-10-31"  
    }  
    try:  
        api_response = api_instance.get_option_contracts("NSE_INDEX|Nifty 50", **param)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->options apis: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let opts = {  
      'expiryDate': "2024-10-31"  
    }  
    let apiInstance = new UpstoxClient.OptionsApi();  
    apiInstance.getOptionContracts("NSE_INDEX|Nifty 50",opts,(error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
      });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetOptionContractResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OptionsApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OptionsApi apiInstance = new OptionsApi();  
      
            try {  
                GetOptionContractResponse result = apiInstance.getOptionContracts("NSE_INDEX|Nifty 50", "2024-10-31");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling API= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    GET /option/contract

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

`instrument_key` â€” query **required**

Show optional parameters

`expiry_date` â€” query


---
# Source: https://upstox.com/developer/api-documentation/get-pc-option-chain
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Option Chain](<https://upstox.com/developer/api-documentation/option-chain>)
  * Put/Call Option chain



## Put/Call Option Chain[â€‹](<https://upstox.com/developer/api-documentation/get-pc-option-chain/#putcall-option-chain> "Direct link to heading")

API to retrieve put/call option chain for an underlying symbol for a specific expiry date. The Put/Call Option chain is currently not available for the MCX Exchange.

### Request[â€‹](<https://upstox.com/developer/api-documentation/get-pc-option-chain/#request> "Direct link to heading")
    
    
    curl --location 'https://api.upstox.com/v2/option/chain?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-03-28' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    

Additional samples in various languages are available in the [Sample Code section](<https://upstox.com/developer/api-documentation/get-pc-option-chain/#sample-code>) on this page.

### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-pc-option-chain/#query-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
instrument_key| true| string| Key of an underlying symbol. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
expiry_date| true| string| Expiry date in format: `YYYY-MM-DD`.  
  


**Responses**

  * 200
  * 4XX



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-pc-option-chain/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": [  
        {  
          "expiry": "2025-02-13",  
          "pcr": 7515.3,  
          "strike_price": 21100,  
          "underlying_key": "NSE_INDEX|Nifty 50",  
          "underlying_spot_price": 22976.2,  
          "call_options": {  
            "instrument_key": "NSE_FO|51059",  
            "market_data": {  
              "ltp": 2449.9,  
              "volume": 0,  
              "oi": 750,  
              "close_price": 2449.9,  
              "bid_price": 1856.65,  
              "bid_qty": 1125,  
              "ask_price": 1941.65,  
              "ask_qty": 1125,  
              "prev_oi": 1500  
            },  
            "option_greeks": {  
              "vega": 4.1731,  
              "theta": -472.8941,  
              "gamma": 0.0001,  
              "delta": 0.743,  
              "iv": 262.31,  
              "pop": 40.56  
            }  
          },  
          "put_options": {  
            "instrument_key": "NSE_FO|51060",  
            "market_data": {  
              "ltp": 0.3,  
              "volume": 22315725,  
              "oi": 5636475,  
              "close_price": 0.35,  
              "bid_price": 0.3,  
              "bid_qty": 1979400,  
              "ask_price": 0.35,  
              "ask_qty": 2152500,  
              "prev_oi": 5797500  
            },  
            "option_greeks": {  
              "vega": 0.0568,  
              "theta": -1.2461,  
              "gamma": 0,  
              "delta": -0.0013,  
              "iv": 50.78,  
              "pop": 0.15  
            }  
          }  
        }  
      ]  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Data object for put/call option chain.  
data[].expiry| string| Expiry date (for derivatives). Date format is `YYYY-MM-dd`.  
data[].pcr| number| Put Call Ratio.  
data[].strike_price| number| The strike price for the option.  
data[].underlying_key| string| The `instrument_key` for the underlying asset.  
data[].underlying_spot_price| number| The spot price for the underlying asset.  
data[].call_options| object| Data object for call options  
data[].call_options.instrument_key| string| The unique identifier used across Upstox APIs for instrument identification. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
data[].call_options.market_data| object| Call option market data  
data[].call_options.option_greeks| object| Call option greeks  
data[].put_options| object| Data object for call options  
data[].put_options.instrument_key| string| The unique identifier used across Upstox APIs for instrument identification. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
data[].put_options.market_data| object| Put option market data  
data[].put_options.option_greeks| object| Put option greeks  
  
#### Option Market Data[â€‹](<https://upstox.com/developer/api-documentation/get-pc-option-chain/#option-market-data> "Direct link to heading")

Name| Type| Description  
---|---|---  
market_data.ltp| number| Last traded price.  
market_data.close_price| number| Closed price.  
market_data.volume| number| The total amount of the asset that was traded during the timeframe.  
market_data.oi| number| Open interest.  
market_data.bid_price| number| Bid price.  
market_data.bid_qty| number| Bid quantity.  
market_data.ask_price| number| Ask price.  
market_data.ask_qty| number| Ask quantity.  
market_data.prev_oi| number| Previous Open interest.  
  
#### Option Greek Data[â€‹](<https://upstox.com/developer/api-documentation/get-pc-option-chain/#option-greek-data> "Direct link to heading")

Name| Type| Description  
---|---|---  
option_greeks.vega| number| Rate of change of premium based on change in volatility.  
option_greeks.theta| number| Measures the impact on premium based on time left for expiry.  
option_greeks.gamma| number| Rate of change of delta itself.  
option_greeks.delta| number| Measures the rate of change of options premium based on the directional movement of the underlying.  
option_greeks.iv| number| Implied Volatality.  
option_greeks.pop| number| Probability of Profit  
  
### Error codes[â€‹](<https://upstox.com/developer/api-documentation/get-pc-option-chain/#error-codes> "Direct link to heading")

Error code| Description  
---|---  
UDAPI100011| **Invalid Instrument key** \- You need to provide proper instrument key for this operation.  
UDAPI1088| **Invalid date** \- You need to provide the expiry_date in proper format: `YYYY-MM-DD`  
  
  


## Sample Code[â€‹](<https://upstox.com/developer/api-documentation/get-pc-option-chain/#sample-code> "Direct link to heading")

### Get put/call option chain[â€‹](<https://upstox.com/developer/api-documentation/get-pc-option-chain/#get-putcall-option-chain> "Direct link to heading")

  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/option/chain'  
    params = {  
        'instrument_key': 'NSE_INDEX|Nifty 50',  
        'expiry_date': '2024-03-28'  
    }  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, params=params, headers=headers)  
      
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/option/chain';  
    const params = {  
        instrument_key: 'NSE_INDEX|Nifty 50',  
        expiry_date: '2024-03-28'  
    };  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { params, headers })  
        .then(response => {  
            console.log(response.data);  
        })  
        .catch(error => {  
            console.error('Error:', error);  
        });  
      
    
    
    
    import java.io.IOException;  
    import java.net.URI;  
    import java.net.URISyntaxException;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
        public static void main(String[] args) {  
            HttpClient httpClient = HttpClient.newBuilder().build();  
            HttpRequest request = null;  
            try {  
                request = HttpRequest.newBuilder()  
                        .uri(new URI("https://api.upstox.com/v2/option/chain?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-03-28"))  
                        .header("Content-Type", "application/json")  
                        .header("Accept", "application/json")  
                        .header("Authorization", "Bearer {your_access_token}")  
                        .build();  
            } catch (URISyntaxException e) {  
                e.printStackTrace();  
            }  
      
            try {  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
                System.out.println(response.body());  
            } catch (IOException | InterruptedException e) {  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
    $url = 'https://api.upstox.com/v2/option/chain';  
    $params = [  
        'instrument_key' => 'NSE_INDEX|Nifty 50',  
        'expiry_date' => '2024-03-28'  
    ];  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}'  
    ];  
      
    $ch = curl_init();  
    curl_setopt($ch, CURLOPT_URL, $url . '?' . http_build_query($params));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
    curl_close($ch);  
      
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = "{your_access_token}"  
      
    api_instance = upstox_client.OptionsApi(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.get_put_call_option_chain("NSE_INDEX|Nifty 50", "2024-10-31")  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->options apis: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.OptionsApi();  
    apiInstance.getPutCallOptionChain("NSE_INDEX|Nifty 50","2024-10-31",(error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
      });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetOptionChainResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OptionsApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OptionsApi apiInstance = new OptionsApi();  
      
            try {  
                GetOptionChainResponse result = apiInstance.getPutCallOptionChain("NSE_INDEX|Nifty 50", "2024-10-31");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling API= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    GET /option/chain

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

`instrument_key` â€” query **required**

`expiry_date` â€” query **required**


---
# Source: https://upstox.com/developer/api-documentation/websocket
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [ Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * Websocket



# Websocket

## [description Market Data Feed V3Get live market data.](<https://upstox.com/developer/api-documentation/v3/get-market-data-feed>)## [description Get Market Data Feed Authorized Url V3Get live market socket endpoint Url.](<https://upstox.com/developer/api-documentation/get-market-data-feed-authorize-v3>)## [description Portfolio Stream FeedGet live order updates.](<https://upstox.com/developer/api-documentation/get-portfolio-stream-feed>)## [description Get Portfolio Stream Feed Authorized UrlGet live order updates socket endpoint Url.](<https://upstox.com/developer/api-documentation/get-portfolio-stream-feed-authorize>)## [description Market Data FeedGet live market data.](<https://upstox.com/developer/api-documentation/get-market-data-feed>)## [description Get Market Data Feed Authorized UrlGet live market socket endpoint Url.](<https://upstox.com/developer/api-documentation/get-market-data-feed-authorize>)


---
# Source: https://upstox.com/developer/api-documentation/v3/get-market-data-feed
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Websocket](<https://upstox.com/developer/api-documentation/websocket>)
  * Market Data Feed V3



## Market Data Feed V3[â€‹](<https://upstox.com/developer/api-documentation/v3/get-market-data-feed/#market-data-feed-v3> "Direct link to heading")

The Market Stream Feed V3 provides real-time market updates, including the latest trading price, close price, open price, and more, through a WebSocket connection. The feed utilizes Protobuf encoding, which requires decoding messages using the provided [Market Data V3 Proto](<https://assets.upstox.com/feed/market-data-feed/v3/MarketDataFeed.proto>) file.

With the V3 version, significant enhancements have been introduced, offering improved stability, performance, and reliability for uninterrupted data delivery. This version also includes limitations on connections and subscriptions to ensure a stable and efficient data transmission process. These limitations are designed to optimize performance and maintain consistent feed quality.

To connect to the WebSocket endpoint, use the `wss:` protocol. Ensure that your WebSocket client is configured to handle automatic redirection to the authorized endpoint after authentication. For example, in a Node.js client, enabling the `followRedirects` setting facilitates seamless handling of redirection.

Once connected, you can subscribe to the required `instrumentKeys` by specifying the method and mode based on your needs. Ensure that the subscription request adheres to the V3 format. Incoming data from the feed must be decoded using Protobuf and the provided `.proto` file, properly adapted to your programming language for compatibility. The following table lists the defined limits for the feeder, which must be adhered to for uninterrupted data streaming.

NOTE

  * The WebSocket request message should be sent in **binary format** , not as a text message.



### Normal Connection and Subscription Limits[â€‹](<https://upstox.com/developer/api-documentation/v3/get-market-data-feed/#normal-connection-and-subscription-limits> "Direct link to heading")

Limit Type| Category| Individual Limit| Combined Limit  
---|---|---|---  
Connection| | 2 connections per user| N/A  
Subscription| LTPC| 5000 instrument keys| 2000 instrument keys  
| Option Greeks| 3000 instrument keys| 2000 instrument keys  
| Full| 2000 instrument keys| 1500 instrument keys  
  
### Connection and Subscription Limits under Upstox Plus ![](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzkiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAzOSAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMwIDAuNzVDMzQuNTU2MyAwLjc1IDM4LjI1IDQuNDQzNjUgMzguMjUgOUMzOC4yNSAxMy41NTYzIDM0LjU1NjMgMTcuMjUgMzAgMTcuMjVIOUM0LjQ0MzY1IDE3LjI1IDAuNzUgMTMuNTU2MyAwLjc1IDlDMC43NSA0LjQ0MzY1IDQuNDQzNjUgMC43NSA5IDAuNzVIMzBaIiBmaWxsPSIjMjAyMDIwIi8+CjxwYXRoIGQ9Ik0zMCAwLjc1QzM0LjU1NjMgMC43NSAzOC4yNSA0LjQ0MzY1IDM4LjI1IDlDMzguMjUgMTMuNTU2MyAzNC41NTYzIDE3LjI1IDMwIDE3LjI1SDlDNC40NDM2NSAxNy4yNSAwLjc1IDEzLjU1NjMgMC43NSA5QzAuNzUgNC40NDM2NSA0LjQ0MzY1IDAuNzUgOSAwLjc1SDMwWiIgc3Ryb2tlPSJ1cmwoI3BhaW50MF9saW5lYXJfMjY1N180NzU2OSkiIHN0cm9rZS13aWR0aD0iMC41Ii8+CjxwYXRoIGQ9Ik0xOC41MjM5IDEwLjcyMDhDMTguNDY5OCAxMS4wNDM5IDE4LjYyNTcgMTEuMjA1MiAxOC45OTE3IDExLjIwNTJDMTkuMTY4IDExLjIwNTIgMTkuMzkxOSAxMS4xNzkyIDE5LjU4MTYgMTEuMTM0MlYxMi43NTQ1QzE5LjMxNyAxMi44Mzg3IDE4LjcwNzEgMTIuOTIzNiAxOC4wMjIzIDEyLjkyMzZDMTYuODM2IDEyLjkyMzYgMTYuMTQ0MyAxMi40MTk4IDE2LjM2NzggMTEuMDc2NUwxNy42MDcyIDQuMDcwMjlIMTkuNzAyM0wxOC41MjM5IDEwLjcyMDhaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMjIuOTg5IDYuNTkzODFMMjIuNDA2IDEwLjEwNzNDMjIuMjkwOCAxMC43OTg0IDIyLjc5OTMgMTEuMTI3NiAyMy4zMDc4IDExLjEyNzZDMjMuODE2MyAxMS4xMjc2IDI0LjQxOTYgMTAuNzk4NCAyNC41MzQ4IDEwLjEwNzNMMjUuMTI0OCA2LjU5MzgxSDI3LjIxMjlMMjYuMTgyNSAxMi43OTRIMjQuMjYzN0wyNC4yOTc1IDEyLjIwNjFDMjMuNzQ4MyAxMi43NjE0IDIyLjk0MTQgMTIuOTg3NSAyMi4xODkgMTIuOTg3NUMyMC45ODg4IDEyLjk4NzUgMTkuOTcxOCAxMi4xNjczIDIwLjIxNjEgMTAuNjg4MkwyMC44OTQgNi41OTM0TDIyLjk4OSA2LjU5MzgxWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTI5LjUzNTcgMTIuOTIzMUMyOC41OTMyIDEyLjkyMzEgMjcuNjg0NSAxMi43NjE4IDI3LjExNTQgMTIuNDk2OUwyNy4zOTEyIDEwLjg0ODJDMjcuOTYwNyAxMS4wODA5IDI5LjA0MTEgMTEuMzAyMSAyOS42MjQxIDExLjMwMjFDMzAuMzkwMyAxMS4zMDIxIDMwLjY1NDUgMTEuMTkyMyAzMC42NTQ1IDEwLjg5NTNDMzAuNjU0NSAxMC42OTUyIDMwLjQ1NzggMTAuNjA0OCAyOS44NjE0IDEwLjUwNzlMMjkuMjg0OSAxMC40MTc1QzI4LjE2NjIgMTAuMjQzIDI3LjYzNzMgOS43MzkyNSAyNy42MzczIDguODY3NDhDMjcuNjM3MyA3LjM5NSAyOC45ODY1IDYuNDY1MDUgMzAuOTQ2IDYuNDY1MDVDMzEuNzY2MyA2LjQ2NTA1IDMyLjQ5MTggNi42MDA3OSAzMy4wNjE0IDYuODY1NjdMMzIuNjQwOCA4LjQ0Nzg5QzMyLjI2MSA4LjI4NjU4IDMxLjMzODggOC4xMTg2NiAzMC43ODMxIDguMTE4NjZDMzAuMDIzOCA4LjExODY2IDI5LjY2NDMgOC4yNjA1OCAyOS42NjQzIDguNTUxNDVDMjkuNjY0MyA4Ljc1MTU1IDI5LjkxNTEgOC44NjEyOSAzMC41Nzk1IDguOTY0ODVMMzEuMTgyOSA5LjA2MTgxQzMyLjIxMzMgOS4yMjk3MiAzMi43MDg0IDkuNzIwNjkgMzIuNzA4NCAxMC41NjY1QzMyLjcwODQgMTIuMDEzIDMxLjQyNjcgMTIuOTIzOSAyOS41MzUzIDEyLjkyMzlMMjkuNTM1NyAxMi45MjMxWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTguMjE3IDkuOTQ4Mkw3LjcxMTk0IDEyLjc5NDFIOS44OTQ5MUwxMC4zMDg1IDkuODgzODRIMTIuMzkwMkMxNC41NDYzIDkuODgzODQgMTYuMDE4MyA4LjQ2MjM0IDE2LjM5MDUgNi43MTY4MUMxNi43NjI4IDQuOTcxMjkgMTUuMTgzOCA0LjAyMzUyIDEzLjQzNDQgNC4wMjM1MkgxMi41NDRDMTIuNTEyNSA0LjYyOTkxIDEyLjQ2MDYgNS4yMzQ0MyAxMi4zMTQgNS44MTI0NUgxMi45ODY2QzEzLjY5MTcgNS44MTI0NSAxNC4zMDM3IDYuMzM2MDkgMTQuMTMyNiA2LjkzNjNDMTMuOTM4MSA3LjYxODkyIDEzLjQ2ODIgOC4wOTQ5MSAxMi41MzI3IDguMDk0OTFIMTEuMDY3NUMxMC42ODEzIDguNTM1NTcgMTAuMjEzOSA4LjkzMDExIDkuNjAxOTIgOS4zMTM0MUM5LjEzNDU3IDkuNjA2MTIgOC42NzM5OSA5LjgwNTE4IDguMjE3IDkuOTQ4MloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0xMS43OTU2IDMuOTY3NzdDMTEuNzkzIDQuNzc1NTcgMTEuNjE0MyA1LjU5MTcxIDExLjI1ODggNi4zMjFDMTAuOTAzNCA3LjA1MDMgMTAuMzg3MSA3LjY5MzU3IDkuNzQ2OTMgOC4yMDQ1OEM5LjEwNjggOC43MTU2IDguMzU4NzggOS4wODE2NyA3LjU1NjY0IDkuMjc2NDdDNi43NTQ0OSA5LjQ3MTI2IDUuOTg2NDcgOS40MzEwNCA1IDkuNDMxTDUuNDM4NDMgNy4zOTU2OUM2LjIwNTY3IDcuMzk1NjkgNi41OTg1NiA3LjQwNjA5IDcuMDgyNTIgNy4yODg1N0M3LjU2NjQ4IDcuMTcxMDQgOC4wMTE1OCA2Ljk1NDE1IDguMzk3OCA2LjY0NTg0QzguNzg0MDEgNi4zMzc1MiA5LjA0MDY0IDUuODI4MjUgOS4yNTUwOCA1LjM4ODI1QzkuNDY5NTMgNC45NDgyNCA5LjU3ODUxIDQuNDU1MTQgOS41ODAwOCAzLjk2Nzc3TDExLjc5NTYgMy45Njc3N1oiIGZpbGw9IndoaXRlIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMjY1N180NzU2OSIgeDE9IjIwLjk2MDUiIHkxPSIxIiB4Mj0iMjAuOTYwNSIgeTI9IjIyLjY2NjciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0E0ODNGNCIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMxODBCMjUiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K)[â€‹](<https://upstox.com/developer/api-documentation/v3/get-market-data-feed/#connection-and-subscription-limits-under-upstox-plus-> "Direct link to heading")

Limit Type| Category| Individual Limit| Combined Limit  
---|---|---|---  
Connection| | 5 connections per user| N/A  
Subscription| Full D30| 50 instrument keys| 1500 instrument keys  
  
The **Individual Limit** refers to the maximum number of instrument keys allowed when a user subscribes to a single category. For instance, if a user subscribes only to 'LTPC', they can access up to 5000 instrument keys.

The **Combined Limit** applies when subscriptions cover multiple categories. For example, if the same user subscribes to both 'LTPC' and 'Option Greeks', the limit for each category is set to 2000 instrument keys. This structure ensures users can efficiently manage multiple data streams within system capacity constraints.

  


### Header Parameters[â€‹](<https://upstox.com/developer/api-documentation/v3/get-market-data-feed/#header-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
Authorization| true| string| Requires the format `Bearer access_token` where `access_token` is obtained from the [Token API](<https://upstox.com/developer/api-documentation/get-token>).  
Accept| true| string| Defines the content format the client expects, which should be set to `*/*`.  
  
### Request structure[â€‹](<https://upstox.com/developer/api-documentation/v3/get-market-data-feed/#request-structure> "Direct link to heading")
    
    
    {  
      "guid": "13syxu852ztodyqncwt0",  
      "method": "sub",  
      "data": {  
        "mode": "full",  
        "instrumentKeys": ["NSE_INDEX|Nifty Bank"]  
      }  
    }  
    

Field| Description  
---|---  
guid| Globally unique identifier for the request.  
method| The method for the request. (Refer to the table below for possible values.)  
mode| The mode for the request. (Refer to the table below for possible values.)  
instrumentKeys| Instrument keys for which you want updates.  
  
#### Method field values[â€‹](<https://upstox.com/developer/api-documentation/v3/get-market-data-feed/#method-field-values> "Direct link to heading")

Value| Description  
---|---  
sub| Default mode is ltpc unless specified by user.  
change_mode| Instrument key is mandatory.  
unsub| Unsubscribe instrument key/s with further updates.  
  
#### Mode field values[â€‹](<https://upstox.com/developer/api-documentation/v3/get-market-data-feed/#mode-field-values> "Direct link to heading")

Value| Description  
---|---  
ltpc| Contains only the latest trading price (LTP) and close price (CP) changes.  
option_greeks| Contains only option greeks.  
full| Includes LTPC, 5 market level quotes, extended feed metadata, and option greeks.  
full_d30| Includes LTPC, 30 market level quotes, extended feed metadata, and option greeks.  
  
**Responses**

  * 302



* * *

This API does not provide a typical JSON response. Instead, upon successful authentication, it automatically redirects the client to the appropriate websocket endpoint where market updates can be received in real-time. Users are expected to handle data streams as per the websocket protocol once the redirection is complete.

The feeds are structured to ensure seamless data flow and synchronization.

  * The first tick provides the **market status** , giving the current state of various market segments to ensure synchronization.
  * The second tick delivers a **snapshot of the current market data** , offering the latest available information.
  * Subsequent ticks stream **live, real-time updates** , ensuring clients stay updated with the latest market activity.

  


### Market Status[â€‹](<https://upstox.com/developer/api-documentation/v3/get-market-data-feed/#market-status> "Direct link to heading")

The `market_info` is the first message sent for all feeds. It provides the real-time status of various market segments, ensuring the client is aware of the current trading conditions before streaming data. This helps synchronize the client with active segments and prevents unnecessary data processing for inactive or closed segments.
    
    
    {  
      "type": "market_info",  
      "currentTs": "1732775008661",  
      "marketInfo": {  
        "segmentStatus": {  
          "NSE_COM": "NORMAL_OPEN",  
          "NCD_FO": "NORMAL_OPEN",  
          "NSE_FO": "NORMAL_OPEN",  
          "BSE_EQ": "NORMAL_OPEN",  
          "BCD_FO": "NORMAL_OPEN",  
          "BSE_FO": "NORMAL_OPEN",  
          "NSE_EQ": "NORMAL_OPEN",  
          "MCX_FO": "NORMAL_OPEN",  
          "MCX_INDEX": "NORMAL_OPEN",  
          "NSE_INDEX": "NORMAL_OPEN",  
          "BSE_INDEX": "NORMAL_OPEN"  
        }  
      }  
    }  
    

Name| Type| Description  
---|---|---  
type| string| Identifies the message type as `market_info`.  
currentTs| string| Timestamp indicating when the message was generated.  
marketInfo| object| Contains details about the status of various market segments.  
marketInfo.segmentStatus| object| Key-value pairs where the key is the market segment and the value is its current status (e.g., `NORMAL_OPEN`). Valid statuses are listed in the [Market Status Appendix](<https://upstox.com/developer/api-documentation/appendix/market-status>)  
  


### Market Data Snapshot[â€‹](<https://upstox.com/developer/api-documentation/v3/get-market-data-feed/#market-data-snapshot> "Direct link to heading")

The second tick provides a **snapshot of the current market data** , presenting the latest state of the market at the time of connection. This ensures the client starts with an accurate and up-to-date view of market conditions. The following is a sample object for LTPC.
    
    
    {  
      "type": "live_feed",  
      "feeds": {  
        "NSE_FO|45450": {  
          "ltpc": {  
            "ltp": 219.3,  
            "ltt": "1740729552723",  
            "ltq": "75",  
            "cp": 494.05  
          }  
        }  
      },  
      "currentTs": "1740729566039"  
    }  
    

### Live Feed[â€‹](<https://upstox.com/developer/api-documentation/v3/get-market-data-feed/#live-feed> "Direct link to heading")

  


  * LTPC
  * Option Greeks
  * Full
  * Full D30 (Plus)


    
    
    {  
      "type": "live_feed",  
      "feeds": {  
        "NSE_FO|45450": {  
          "ltpc": {  
            "ltp": 219.3,  
            "ltt": "1740729552723",  
            "ltq": "75",  
            "cp": 494.05  
          }  
        }  
      },  
      "currentTs": "1740729566039"  
    }  
    

Name| Type| Description  
---|---|---  
type| string| Present in live feed, indicating the nature of the data.  
feeds| object| Includes updates for instrumentKeys requested.  
ltpc| object| Details of LTP information  
ltpc.ltp| number| Last traded price  
ltpc.ltt| string| Last traded time (timestamp).  
ltpc.ltq| string| Last traded quantity  
ltpc.cp| number| Closed price  
feeds.currentTs| number| Timestamp of the received tick  
      
    
    {  
      "type": "live_feed",  
      "feeds": {  
        "NSE_FO|45450": {  
          "firstLevelWithGreeks": {  
            "ltpc": {  
              "ltp": 225.7,  
              "ltt": "1740729368660",  
              "ltq": "75",  
              "cp": 494.05  
            },  
            "firstDepth": {  
              "bidQ": "75",  
              "bidP": 225.4,  
              "askQ": "150",  
              "askP": 225.7  
            },  
            "optionGreeks": {  
              "delta": 0.5078,  
              "theta": -8.5499,  
              "gamma": 0.0007,  
              "vega": 16.7691,  
              "rho": 3.9612  
            },  
            "vtt": "919725",  
            "oi": 256800,  
            "iv": 0.1334381103515625  
          }  
        }  
      },  
      "currentTs": "1740729389592"  
    }  
    

Name| Type| Description  
---|---|---  
type| string| Present in live feed, indicating the nature of the data.  
feeds| object| Contains updates for the instrument keys requested.  
feeds[InstrumentKey]| object| Data specific to the requested instrument key.  
firstLevelWithGreeks| object| Includes LTP, bid/ask details, and option Greeks for the instrument.  
ltpc| object| Details of the latest trading price (LTP), last traded time (LTT), last traded quantity (LTQ) and close price.  
ltpc.ltp| number| Last traded price of the instrument.  
ltpc.ltt| string| Last traded time (timestamp).  
ltpc.ltq| string| Last traded quantity  
ltpc.cp| number| Close price of the instrument.  
firstDepth| object| Details of the first-level market depth (bid/ask).  
firstDepth.bidQ| string| Quantity available at the best bid price.  
firstDepth.bidP| number| Best bid price.  
firstDepth.askQ| string| Quantity available at the best ask price.  
firstDepth.askP| number| Best ask price.  
optionGreeks| object| Includes Greeks data (e.g., delta, gamma) for the instrument.  
optionGreeks.delta| number| Sensitivity of the option's price to changes in the underlying asset's price.  
optionGreeks.theta| number| Rate of decline in the option's value due to the passage of time.  
optionGreeks.gamma| number| Rate of change of delta with respect to changes in the underlying asset's price.  
optionGreeks.vega| number| Sensitivity of the option's price to changes in volatility.  
optionGreeks.rho| number| Sensitivity of the option's price to changes in interest rates.  
vtt| string| Volume traded today (in contracts).  
oi| number| Open interest for the instrument.  
currentTs| string| Timestamp of the current tick received.  
      
    
    {  
      "type": "live_feed",  
      "feeds": {  
        "NSE_FO|45450": {  
          "fullFeed": {  
            "marketFF": {  
              "ltpc": {  
                "ltp": 213.75,  
                "ltt": "1740727891235",  
                "ltq": "150",  
                "cp": 494.05  
              },  
              "marketLevel": {  
                "bidAskQuote": [  
                  {  
                    "bidQ": "75",  
                    "bidP": 213.45,  
                    "askQ": "525",  
                    "askP": 213.9  
                  },  
                  {  
                    "bidQ": "225",  
                    "bidP": 213.3,  
                    "askQ": "150",  
                    "askP": 213.95  
                  },  
                  {  
                    "bidQ": "150",  
                    "bidP": 213.25,  
                    "askQ": "75",  
                    "askP": 214  
                  },  
                  {  
                    "bidQ": "150",  
                    "bidP": 213.2,  
                    "askQ": "225",  
                    "askP": 214.05  
                  },  
                  {  
                    "bidQ": "225",  
                    "bidP": 213.1,  
                    "askQ": "75",  
                    "askP": 214.1  
                  }  
                ]  
              },  
              "optionGreeks": {  
                "delta": 0.4952,  
                "theta": -8.4067,  
                "gamma": 0.0007,  
                "vega": 16.769,  
                "rho": 3.8673  
              },  
              "marketOHLC": {  
                "ohlc": [  
                  {  
                    "interval": "1d",  
                    "open": 400,  
                    "high": 400,  
                    "low": 208.7,  
                    "close": 213.75,  
                    "vol": "779400",  
                    "ts": "1740681000000"  
                  },  
                  {  
                    "interval": "I1",  
                    "open": 210,  
                    "high": 212.8,  
                    "low": 208.7,  
                    "close": 212.15,  
                    "vol": "8475",  
                    "ts": "1740727800000"  
                  }  
                ]  
              },  
              "atp": 272.9,  
              "vtt": "779625",  
              "oi": 210000,  
              "iv": 0.131378173828125,  
              "tbq": 46050,  
              "tsq": 41850  
            }  
          }  
        }  
      },  
      "currentTs": "1740727891739"  
    }  
    

Name| Type| Description  
---|---|---  
type| string| Present in live feed, indicating the nature of the data.  
feeds| object| Contains updates for the instrument keys requested.  
feeds[InstrumentKey]| object| Data specific to the requested instrument key.  
fullFeed| object| Includes full market feed details for the instrument.  
marketFF| object| Contains detailed market-level data.  
ltpc| object| Details of the latest trading price (LTP), last traded time (LTT), last traded quantity (LTQ) and close price.  
ltpc.ltp| number| Last traded price of the instrument.  
ltpc.ltt| string| Last traded time (timestamp).  
ltpc.ltq| string| Last traded quantity  
ltpc.cp| number| Close price of the instrument.  
marketLevel| object| Contains multiple levels of market bid/ask quotes.  
marketLevel.bidAskQuote| array| List of bid and ask quotes at various market levels.  
bidAskQuote[n].bidQ| string| Quantity available at the nth best bid price.  
bidAskQuote[n].bidP| number| nth best bid price.  
bidAskQuote[n].askQ| string| Quantity available at the nth best ask price.  
bidAskQuote[n].askP| number| nth best ask price.  
optionGreeks| object| Includes Greeks data (e.g., delta, gamma) for the instrument.  
optionGreeks.delta| number| Sensitivity of the option's price to changes in the underlying asset's price.  
optionGreeks.theta| number| Rate of decline in the option's value due to the passage of time.  
optionGreeks.gamma| number| Rate of change of delta with respect to changes in the underlying asset's price.  
optionGreeks.vega| number| Sensitivity of the option's price to changes in volatility.  
optionGreeks.rho| number| Sensitivity of the option's price to changes in interest rates.  
marketOHLC| object| Contains OHLC (Open, High, Low, Close) data for various time intervals.  
ohlc| array| List of OHLC data for different intervals.  
ohlc[n].interval| string| Interval duration (e.g., 1d for daily, I1 for 1minute).  
ohlc[n].open| number| Open price for the nth interval.  
ohlc[n].high| number| High price for the nth interval.  
ohlc[n].low| number| Low price for the nth interval.  
ohlc[n].close| number| Close price for the nth interval.  
ohlc[n].ts| string| Timestamp for the nth interval.  
atp| number| Average traded price for the instrument.  
vtt| string| Volume traded today (in contracts).  
oi| number| Open interest for the instrument.  
tbq| number| Total buy quantity across all levels.  
tsq| number| Total sell quantity across all levels.  
currentTs| string| Timestamp of the current tick received.  
      
    
    {  
      "type": "live_feed",  
      "feeds": {  
        "NSE_FO|61755": {  
          "fullFeed": {  
            "marketFF": {  
              "ltpc": {  
                "ltp": 181.95,  
                "ltt": "1747984841612",  
                "ltq": "75",  
                "cp": 73.85  
              },  
              "marketLevel": {  
                "bidAskQuote": [  
                  {  
                    "bidQ": "600",  
                    "bidP": 182.05,  
                    "askQ": "750",  
                    "askP": 182.4  
                  },  
                  {  
                    "bidQ": "1950",  
                    "bidP": 182,  
                    "askQ": "675",  
                    "askP": 182.45  
                  },  
                  {  
                    "bidQ": "900",  
                    "bidP": 181.95,  
                    "askQ": "1800",  
                    "askP": 182.5  
                  },  
                  {  
                    "bidQ": "1350",  
                    "bidP": 181.9,  
                    "askQ": "1200",  
                    "askP": 182.55  
                  },  
                  {  
                    "bidQ": "900",  
                    "bidP": 181.85,  
                    "askQ": "750",  
                    "askP": 182.6  
                  },  
                  {  
                    "bidQ": "1200",  
                    "bidP": 181.8,  
                    "askQ": "1275",  
                    "askP": 182.65  
                  },  
                  {  
                    "bidQ": "1125",  
                    "bidP": 181.75,  
                    "askQ": "1200",  
                    "askP": 182.7  
                  },  
                  {  
                    "bidQ": "825",  
                    "bidP": 181.7,  
                    "askQ": "975",  
                    "askP": 182.75  
                  },  
                  {  
                    "bidQ": "1050",  
                    "bidP": 181.65,  
                    "askQ": "900",  
                    "askP": 182.8  
                  },  
                  {  
                    "bidQ": "450",  
                    "bidP": 181.6,  
                    "askQ": "450",  
                    "askP": 182.85  
                  },  
                  {  
                    "bidQ": "600",  
                    "bidP": 181.55,  
                    "askQ": "1200",  
                    "askP": 182.9  
                  },  
                  {  
                    "bidQ": "900",  
                    "bidP": 181.5,  
                    "askQ": "150",  
                    "askP": 182.95  
                  },  
                  {  
                    "bidQ": "525",  
                    "bidP": 181.45,  
                    "askQ": "1275",  
                    "askP": 183  
                  },  
                  {  
                    "bidQ": "300",  
                    "bidP": 181.4,  
                    "askQ": "825",  
                    "askP": 183.05  
                  },  
                  {  
                    "bidQ": "1050",  
                    "bidP": 181.35,  
                    "askQ": "150",  
                    "askP": 183.1  
                  },  
                  {  
                    "bidQ": "450",  
                    "bidP": 181.3,  
                    "askQ": "1200",  
                    "askP": 183.15  
                  },  
                  {  
                    "bidQ": "225",  
                    "bidP": 181.25,  
                    "askQ": "450",  
                    "askP": 183.2  
                  },  
                  {  
                    "bidQ": "600",  
                    "bidP": 181.2,  
                    "askQ": "450",  
                    "askP": 183.25  
                  },  
                  {  
                    "bidQ": "300",  
                    "bidP": 181.15,  
                    "askQ": "150",  
                    "askP": 183.3  
                  },  
                  {  
                    "bidQ": "375",  
                    "bidP": 181.1,  
                    "askQ": "300",  
                    "askP": 183.35  
                  },  
                  {  
                    "bidQ": "150",  
                    "bidP": 181.05,  
                    "askQ": "675",  
                    "askP": 183.45  
                  },  
                  {  
                    "bidQ": "4350",  
                    "bidP": 181,  
                    "askQ": "600",  
                    "askP": 183.5  
                  },  
                  {  
                    "bidQ": "1125",  
                    "bidP": 180.95,  
                    "askQ": "150",  
                    "askP": 183.55  
                  },  
                  {  
                    "bidQ": "150",  
                    "bidP": 180.9,  
                    "askQ": "150",  
                    "askP": 183.6  
                  },  
                  {  
                    "bidQ": "225",  
                    "bidP": 180.85,  
                    "askQ": "150",  
                    "askP": 183.65  
                  },  
                  {  
                    "bidQ": "375",  
                    "bidP": 180.8,  
                    "askQ": "300",  
                    "askP": 183.7  
                  },  
                  {  
                    "bidQ": "75",  
                    "bidP": 180.65,  
                    "askQ": "150",  
                    "askP": 183.75  
                  },  
                  {  
                    "bidQ": "375",  
                    "bidP": 180.6,  
                    "askQ": "150",  
                    "askP": 183.8  
                  },  
                  {  
                    "bidQ": "1200",  
                    "bidP": 180.5,  
                    "askQ": "150",  
                    "askP": 183.85  
                  },  
                  {  
                    "bidQ": "300",  
                    "bidP": 180.4,  
                    "askQ": "450",  
                    "askP": 183.9  
                  }  
                ]  
              },  
              "optionGreeks": {  
                "delta": 0.4519,  
                "theta": -17.6157,  
                "gamma": 0.0007,  
                "vega": 12.7741,  
                "rho": 1.8554  
              },  
              "marketOHLC": {  
                "ohlc": [  
                  {  
                    "interval": "1d",  
                    "open": 73.85,  
                    "high": 197.7,  
                    "low": 62.2,  
                    "close": 181.95,  
                    "vol": "119686575",  
                    "ts": "1747938600000"  
                  },  
                  {  
                    "interval": "I1",  
                    "open": 183.8,  
                    "high": 187,  
                    "low": 183.6,  
                    "close": 183.8,  
                    "vol": "248175",  
                    "ts": "1747984740000"  
                  }  
                ]  
              },  
              "atp": 139.42,  
              "vtt": "119687250",  
              "oi": 8326800,  
              "iv": 0.1685333251953125,  
              "tbq": 4185525,  
              "tsq": 901350  
            },  
            "requestMode": "full_d30"  
          }  
        },  
        "currentTs": "1747984842536"  
      }  
    }  
    

Name| Type| Description  
---|---|---  
type| string| Present in live feed, indicating the nature of the data.  
feeds| object| Contains updates for the instrument keys requested.  
feeds.[InstrumentKey]| object| Data specific to the requested instrument key.  
fullFeed| object| Includes full market feed details for the instrument.  
marketFF| object| Contains detailed market-level data.  
ltpc| object| Details of the latest trading price (LTP), last traded time (LTT), last traded quantity (LTQ) and close price.  
ltpc.ltp| number| Last traded price of the instrument.  
ltpc.ltt| string| Last traded time (timestamp).  
ltpc.ltq| string| Last traded quantity  
ltpc.cp| number| Close price of the instrument.  
marketLevel| object| Contains multiple levels of market bid/ask quotes.  
marketLevel.bidAskQuote| array| List of bid and ask quotes at various market levels.  
bidAskQuote[n].bidP| number| nth best bid price.  
bidAskQuote[n].askQ| string| Quantity available at the nth best ask price.  
optionGreeks| object| Includes Greeks data (e.g., delta, gamma) for the instrument.  
optionGreeks.delta| number| Sensitivity of the option's price to changes in the underlying asset's price.  
optionGreeks.theta| number| Rate of decline in the option's value due to the passage of time.  
optionGreeks.gamma| number| Rate of change of delta with respect to changes in the underlying asset's price.  
optionGreeks.vega| number| Sensitivity of the option's price to changes in volatility.  
optionGreeks.rho| number| Sensitivity of the option's price to changes in interest rates.  
marketOHLC| object| Contains OHLC (Open, High, Low, Close) data for various time intervals.  
ohlc| array| List of OHLC data for different intervals.  
ohlc[n].interval| string| Interval duration (e.g., 1d for daily).  
ohlc[n].open| number| Open price for the nth interval.  
ohlc[n].high| number| High price for the nth interval.  
ohlc[n].low| number| Low price for the nth interval.  
ohlc[n].close| number| Close price for the nth interval.  
ohlc[n].ts| string| Timestamp for the nth interval.  
atp| number| Average traded price for the instrument.  
vtt| string| Volume traded today (in contracts).  
oi| number| Open interest for the instrument.  
tbq| number| Total buy quantity across all levels.  
tsq| number| Total sell quantity across all levels.  
currentTs| string| Timestamp of the current tick received.  
  
Heartbeat

If there is no data to stream over an open WebSocket connection, the API automatically sends a standard `ping` frame periodically to maintain the connection's aliveness. Most standard WebSocket client libraries across various programming languages handle this automatically by responding with a `pong` frame, requiring no manual intervention.
    
    
    WSS /feed/market-data-feed

#### Request

Live URLwss://api.upstox.com/v3

`Authorization`

Bearer


---
# Source: https://upstox.com/developer/api-documentation/get-market-data-feed-authorize-v3
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Websocket](<https://upstox.com/developer/api-documentation/websocket>)
  * Get Market Data Feed Authorized Url V3



## Market Data Feed Authorize V3[â€‹](<https://upstox.com/developer/api-documentation/get-market-data-feed-authorize-v3/#market-data-feed-authorize-v3> "Direct link to heading")

API to retrieve the designated socket endpoint URI for Market updates. This endpoint is intended for use with a WebSocket client. If automatic redirection is not configured through the [Market Stream Feed V3 API](<https://upstox.com/developer/api-documentation/v3/get-market-data-feed>), this API serves as an alternative method to acquire the necessary `wss://` URL for establishing a connection via a WebSocket client.

### Header Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-market-data-feed-authorize-v3/#header-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
Authorization| true| string| Requires the format `Bearer access_token` where `access_token` is obtained from the [Token API](<https://upstox.com/developer/api-documentation/get-token>).  
Accept| true| string| Defines the content format the client expects, which should be set to `application/json`.  
  
**Responses**

  * 200



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-market-data-feed-authorize-v3/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "authorized_redirect_uri": "wss://xyz.upstox.com/market-data-feeder/v3/upstox-developer-api/feeds?requestId=2f646f57-a097-4402-bb36-c44085c5f8e7&code=9355b100-25cf-4fa7-b038-06d27ddb4823",  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Response data for WebsocketAuthRedirectResponse  
data.authorized_redirect_uri| string| The verified URL used for secure WebSocket connections, allowing real-time market data updates. This URL is valid for one-time use because the `code` present as the req parameter is a single-use authentication token for the WebSocket connection.  
  
Heartbeat

If there is no data to stream over an open WebSocket connection, the API automatically sends a standard `ping` frame periodically to maintain the connection's aliveness. Most standard WebSocket client libraries across various programming languages handle this automatically by responding with a `pong` frame, requiring no manual intervention.
    
    
    GET /feed/market-data-feed/authorize

#### Request

Live URLhttps://api.upstox.com/v3

`Authorization`

Bearer


---
# Source: https://upstox.com/developer/api-documentation/get-portfolio-stream-feed
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Websocket](<https://upstox.com/developer/api-documentation/websocket>)
  * Portfolio Stream Feed



## Portfolio Stream Feed[â€‹](<https://upstox.com/developer/api-documentation/get-portfolio-stream-feed/#portfolio-stream-feed> "Direct link to heading")

The Order update stream feed communicates all order updates when connected over the websocket. No request object is required for this. The communication will start immediately after the connection is successfully established.

Integration involves connecting to the provided endpoint using the `wss:` protocol through a WebSocket client, which is configured to automatically redirect to the authorized WebSocket endpoint upon authentication. Therefore, the client's configuration must be adjusted to support this automatic redirection. For example, in a Node.js client, you should enable the `followRedirects` setting to facilitate seamless handling of redirection.

info

The order update WebSocket ensures that you receive updates on your order regardless of the platform used to place it. Whether you place an order through the Upstox mobile app or via the web application, you will still receive the order updates through the API WebSocket, and the same applies in reverse.

### Header Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-portfolio-stream-feed/#header-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
Authorization| true| string| Requires the format `Bearer access_token` where `access_token` is obtained from the [Token API](<https://upstox.com/developer/api-documentation/get-token>).  
Accept| true| string| Defines the content format the client expects, which should be set to `*/*`.  
  
### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-portfolio-stream-feed/#query-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
update_types| false| string| Identifiers, separated by commas, specify the types of updates to receive. By default, updates on orders are transmitted via the socket. To subscribe to updates on orders, holdings, and positions, use this parameter by entering the desired values, separated by commas.  
Possible values: `order`, `gtt_order`, `position`, `holding`   
  
Sample URL with update_types: `wss://api.upstox.com/v2/feed/portfolio-stream-feed?update_types=order%2Cposition%2Cholding`  
  
**Responses**

  * 302



* * *

This API does not provide a typical JSON response. Instead, upon successful authentication, it automatically redirects the client to the appropriate websocket endpoint where order updates can be received in real-time. Users are expected to handle data streams as per the websocket protocol once the redirection is complete.

Following is a sample of an order update message received on the socket.

### Message Structure[â€‹](<https://upstox.com/developer/api-documentation/get-portfolio-stream-feed/#message-structure> "Direct link to heading")

  


  * Order
  * GTT Order
  * Holding
  * Position


    
    
    {  
      "update_type": "order",  
      "user_id": "******",  
      "userId": "******",  
      "exchange": "NSE",  
      "instrument_token": "NSE_EQ|INE848E01016",  
      "instrument_key": "NSE_EQ|INE848E01016",  
      "trading_symbol": "NHPC-EQ",  
      "tradingsymbol": "NHPC-EQ",  
      "product": "D",  
      "order_type": "MARKET",  
      "average_price": 0,  
      "price": 0,  
      "trigger_price": 0,  
      "quantity": 1,  
      "disclosed_quantity": 0,  
      "pending_quantity": 1,  
      "transaction_type": "BUY",  
      "order_ref_id": "57744821658411",  
      "exchange_order_id": "",  
      "parent_order_id": null,  
      "validity": "DAY",  
      "status": "put order req received",  
      "is_amo": false,  
      "variety": "SIMPLE",  
      "tag": null,  
      "exchange_timestamp": null,  
      "status_message": "",  
      "order_id": "240221025997024",  
      "order_request_id": "1",  
      "order_timestamp": "2024-02-21 14:40:02",  
      "filled_quantity": 0,  
      "guid": null,  
      "placed_by": "******",  
      "status_message_raw": null  
    }  
    

Name| Type| Description  
---|---|---  
update_type| string| Signifies the type of update received.   
Possible values: `order`, `gtt_order`, `position`, `holding`  
exchange| string| Exchange to which the order is associated. Valid exchanges can be found in the [Exchange Appendix](<https://upstox.com/developer/api-documentation/appendix/exchange>)  
product| string| Signifies if the order was either Intraday, Delivery or MTF   
Possible values: `I`, `D`, `MTF`.  
price| float| Price at which the order was placed  
quantity| int32| Quantity with which the order was placed  
status| string| Indicates the current status of the order. Valid order statuses can be found in the [Order Status Appendix](<https://upstox.com/developer/api-documentation/appendix/order-status>)  
tag| string| Tag to uniquely identify an order  
instrument_token| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
instrument_key| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
placed_by| string| Uniquely identifies the user (commonly referred as UCC)  
trading_symbol| string| Shows the trading symbol of the instrument  
order_type| string| Type of order. It can be one of the following MARKET refers to market order LIMIT refers to Limit Order SL refers to Stop Loss Limit SL-M refers to Stop Loss Market.   
Possible values: `MARKET`, `LIMIT`, `SL`, `SL-M`.  
validity| string| It can be one of the following - DAY(default), IOC.   
Possible values: `DAY`, `IOC`.  
trigger_price| float| If the order was a stop loss order then the trigger price set is mentioned here  
disclosed_quantity| int32| The quantity that should be disclosed in the market depth  
transaction_type| string| Indicates whether its a buy or sell order.   
Possible values: `BUY`, `SELL`.  
average_price| float| Average price at which the qty got traded  
filled_quantity| int32| The total quantity traded from this particular order  
pending_quantity| int32| Pending quantity to be filled  
status_message| string| Indicates the reason when any order is rejected, not modified or cancelled  
status_message_raw| string| Description of the order's status as received from RMS  
exchange_order_id| string| Unique order ID assigned by the exchange for the order placed  
parent_order_id| string| In case the order is part of the second of a CO, the parent order ID is indicated here  
order_id| string| Unique order ID assigned internally for the order placed  
variety| string| Order complexity  
order_timestamp| string| User readable timestamp at which the order was placed  
exchange_timestamp| string| User readable time at which the order was placed or updated  
is_amo| boolean| Signifies if the order is an After Market Order  
order_request_id| string| Apart from 1st order it shows the count of how many requests were sent  
order_ref_id| string| Uniquely identifies an order for internal usage.  
      
    
    {  
      "update_type": "gtt_order",  
      "type": "MULTIPLE",  
      "exchange": "NSE_EQ",  
      "instrument_token": "NSE_EQ|INE806A01020",  
      "quantity": 1,  
      "product": "D",  
      "gtt_order_id": "GTT-CU25270200024002",  
      "expires_at": 1772216999000000,  
      "created_at": 1740641185000000,  
      "rules": [  
        {  
          "strategy": "ENTRY",  
          "status": "FAILED",  
          "trigger_type": "IMMEDIATE",  
          "trigger_price": 7.7,  
          "transaction_type": "BUY",  
          "message": "The price set should be within the circuit limits. Please modify your order price.",  
          "order_id": "250228010168535",  
          "trailing_gap": null  
        },  
        {  
          "strategy": "STOPLOSS",  
          "status": "CANCELLED",  
          "trigger_type": "IMMEDIATE",  
          "trigger_price": 7.6,  
          "transaction_type": "SELL",  
          "message": "",  
          "order_id": null,  
          "trailing_gap": 1  
        },  
        {  
          "strategy": "TARGET",  
          "status": "CANCELLED",  
          "trigger_type": "IMMEDIATE",  
          "trigger_price": 7.64,  
          "transaction_type": "SELL",  
          "message": "",  
          "order_id": null,  
          "trailing_gap": null  
        }  
      ]  
    }  
    

Name| Type| Description  
---|---|---  
update_type| string| Signifies the type of update received.   
Possible values: `order`, `gtt_order`, `position`, `holding`  
type| string| Specifies the GTT order type. Indicates if it's a single or multi-leg order.   
Possible values: `SINGLE`, `MULTIPLE`.  
exchange| string| The exchange where the order is placed.   
Possible values: `NSE_EQ`, `BSE_EQ`, etc.  
quantity| integer| The number of units specified in the order.  
product| string| Specifies whether the order is for Intraday, Delivery or MTF.   
Possible values: `I` (Intraday), `D` (Delivery), `MTF` (Margin Trading Facility).  
instrument_token| string| Unique identifier for the instrument being traded.  
trading_symbol| string| The symbol of the traded instrument.  
gtt_order_id| string| Unique identifier assigned to the GTT order.  
expires_at| integer| The timestamp indicating when the GTT order expires.  
created_at| integer| The timestamp when the GTT order was created.  
rules| array| Defines the conditions for order execution, such as trigger price and strategy.  
rules[].strategy| string| Specifies the role of the rule.   
Possible values: `ENTRY`, `TARGET`, `STOPLOSS`.  
  
**ENTRY** \- Defines the condition for the first-leg order execution (BUY or SELL).  
**TARGET** \- Sets an exit condition at a predefined profit level.  
**STOPLOSS** \- Sets an exit condition to limit losses.  
rules[].status| string| Indicates the status of the rule.   
Possible values: `PENDING`, `COMPLETED`, `FAILED`, `CANCELLED`.  
rules[].trigger_type| string| Specifies the condition under which the order is triggered.  
Possible values: `BELOW`, `ABOVE`, `IMMEDIATE`.  
  
**BELOW** \- Triggers when the market price falls below the trigger price.  
**ABOVE** \- Triggers when the market price rises above the trigger price.  
**IMMEDIATE** \- Triggers when the market price matches the trigger price.  
rules[].trigger_price| float| The price at which the order will be triggered based on the condition.  
rules[].transaction_type| string| Defines whether the order is a buy or sell transaction.   
Possible values: `BUY`, `SELL`.  
rules[].message| string| This field specifies the error reason when the rule fails.  
rules[].order_id| string| Unique identifier for the order generated after execution. May be `null` if the order hasn't been placed yet.  
rules[].trailing_gap| float| Only applicable for **STOPLOSS** strategy for **TSL** orders, in other cases the value would be `null`. This defines the consistent gap between your stop-loss and the market price, letting your stop-loss trail automatically.  
      
    
    {  
      "update_type": "holding",  
      "instrument_token": "NSE_EQ|INE848E01016",  
      "instrument_key": "NSE_EQ|INE848E01016",  
      "average_price": 89.22,  
      "isin": "INE848E01016",  
      "cnc_used_quantity": 0,  
      "collateral_quantity": 0,  
      "collateral_type": "WC",  
      "collateral_update_quantity": 0,  
      "company_name": "NHPC LTD",  
      "haircut": 0.21,  
      "product": "D",  
      "quantity": 3,  
      "t1_quantity": 0,  
      "exchange": "NSE"  
    }  
    

Name| Type| Description  
---|---|---  
update_type| string| Signifies the type of update received.   
Possible values: `order`, `gtt_order`, `position`, `holding`  
isin| string| The standard ISIN representing stocks listed on multiple exchanges  
cnc_used_quantity| int32| Quantity either blocked towards open or completed order  
collateral_type| string| Category of collateral assigned by RMS  
company_name| string| Name of the company  
haircut| float| This is the haircut percentage applied from RMS (applicable incase of collateral)  
product| string| Signifies if the order was either Intraday, Delivery or MTF   
Possible values: `I`, `D`, `MTF`.  
quantity| int32| The total holding qty  
instrument_token| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
instrument_key| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
average_price| float| Average price at which the net holding quantity was acquired  
collateral_quantity| int32| Quantity marked as collateral by RMS on users request  
collateral_update_quantity| int32| Updated collateral quantity  
t1_quantity| int32| Quantity on T+1 day after order execution  
exchange| string| Exchange to which the order is associated. Valid exchanges can be found in the [Exchange Appendix](<https://upstox.com/developer/api-documentation/appendix/exchange>)  
      
    
    {  
      "update_type": "position",  
      "instrument_token": "NSE_EQ|INE848E01016",  
      "instrument_key": "NSE_EQ|INE848E01016",  
      "average_price": 0,  
      "buy_value": 185.85,  
      "overnight_quantity": 0,  
      "exchange": "NSE_EQ",  
      "day_buy_value": 185.85,  
      "day_buy_price": 92.92,  
      "overnight_buy_amount": 0,  
      "overnight_buy_quantity": 0,  
      "day_buy_quantity": 2,  
      "day_sell_value": 0,  
      "day_sell_price": 0,  
      "overnight_sell_amount": 0,  
      "overnight_sell_quantity": 0,  
      "day_sell_quantity": 0,  
      "multiplier": 1,  
      "quantity": 2,  
      "product": "D",  
      "sell_value": 0,  
      "buy_price": 92.925,  
      "sell_price": 0  
    }  
    

Name| Type| Description  
---|---|---  
update_type| string| Signifies the type of update received.   
Possible values: `order`, `gtt_order`, `position`, `holding`  
exchange| string| Exchange to which the order is associated. Valid exchanges can be found in the [Exchange Appendix](<https://upstox.com/developer/api-documentation/appendix/exchange>)  
multiplier| float| The quantity/lot size multiplier used for calculating P&Ls  
product| string| Signifies if the order was either Intraday, Delivery, MTF   
Possible values: `I`, `D`, `MTF`.  
instrument_token| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
instrument_key| string| Key of the instrument. For the regex pattern applicable to this field, see the [Field Pattern Appendix](<https://upstox.com/developer/api-documentation/appendix/field-pattern>).  
average_price| float| Average price at which the net position quantity was acquired  
buy_value| float| Net value of the bought quantities  
overnight_quantity| int32| Quantity held previously and carried forward over night  
day_buy_value| float| Amount at which the quantity is bought during the day  
day_buy_price| float| Average price at which the day qty was bought. Default is empty string  
overnight_buy_amount| float| Amount at which the quantity was bought in the previous session  
overnight_buy_quantity| int32| Quantity bought in the previous session  
day_buy_quantity| int32| Quantity bought during the day  
day_sell_value| float| Amount at which the quantity is sold during the day  
day_sell_price| float| Average price at which the day quantity was sold  
overnight_sell_amount| float| Amount at which the quantity was sold in the previous session  
overnight_sell_quantity| int32| Quantity sold short in the previous session  
day_sell_quantity| int32| Quantity sold during the day  
quantity| int32| Quantity left after nullifying Day and CF buy quantity towards Day and CF sell quantity  
sell_value| float| Net value of the sold quantities  
buy_price| float| Average price at which quantities were bought  
sell_price| float| Average price at which quantities were sold  
  
  


Heartbeat

If there is no data to stream over an open WebSocket connection, the API automatically sends a standard `ping` frame periodically to maintain the connection's aliveness. Most standard WebSocket client libraries across various programming languages handle this automatically by responding with a `pong` frame, requiring no manual intervention.

Notice of Deprecation

The lowercase field (`tradingsymbol`) is deprecated and will be removed in future versions. Use the snake_case versions for consistency.
    
    
    WSS /feed/portfolio-stream-feed

#### Request

Live URLwss://api.upstox.com/v2

`Authorization`

Bearer

Show optional parameters

`update_types` â€” query


---
# Source: https://upstox.com/developer/api-documentation/get-portfolio-stream-feed-authorize
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Websocket](<https://upstox.com/developer/api-documentation/websocket>)
  * Get Portfolio Stream Feed Authorized Url



## Portfolio Stream Feed Authorize[â€‹](<https://upstox.com/developer/api-documentation/get-portfolio-stream-feed-authorize/#portfolio-stream-feed-authorize> "Direct link to heading")

API to retrieve the designated socket endpoint URI for Portfolio updates. This endpoint is intended for use with a WebSocket client. If automatic redirection is not configured through the [Portfolio Stream Feed API](<https://upstox.com/developer/api-documentation/get-portfolio-stream-feed>), this API serves as an alternative method to acquire the necessary `wss://` URL for establishing a connection via a WebSocket client.

info

The order update WebSocket ensures that you receive updates on your order regardless of the platform used to place it. Whether you place an order through the Upstox mobile app or via the web application, you will still receive the order updates through the API WebSocket, and the same applies in reverse.

### Header Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-portfolio-stream-feed-authorize/#header-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
Authorization| true| string| Requires the format `Bearer access_token` where `access_token` is obtained from the [Token API](<https://upstox.com/developer/api-documentation/get-token>).  
Accept| true| string| Defines the content format the client expects, which should be set to `application/json`.  
  
### Query Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-portfolio-stream-feed-authorize/#query-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
update_types| false| string| Identifiers, separated by commas, specify the types of updates to receive. By default, updates on orders are transmitted via the socket. To subscribe to updates on orders, holdings, and positions, use this parameter by entering the desired values, separated by commas.  
Possible values: `order`, `gtt_order`, `position`, `holding`   
  
Sample URL with update_types: `https://api.upstox.com/v2/feed/portfolio-stream-feed/authorize?update_types=order%2Cposition%2Cholding`  
  
**Responses**

  * 200



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-portfolio-stream-feed-authorize/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "authorized_redirect_uri": "wss://xyz.upstox.com/upstox-developer-api/order-updates/feed?requestId=2f646f57-a097-4402-bb36-c44085c5f8e7&code=9355b100-25cf-4fa7-b038-06d27ddb4823",  
        "authorizedRedirectUri": "wss://xyz.upstox.com/upstox-developer-api/order-updates/feed?requestId=2f646f57-a097-4402-bb36-c44085c5f8e7&code=9355b100-25cf-4fa7-b038-06d27ddb4823"  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Response data for WebsocketAuthRedirectResponse  
data.authorized_redirect_uri| string| The verified URL used for secure WebSocket connections, allowing real-time portfolio updates. This URL is valid for one-time use because the `code` present as the req parameter is a single-use authentication token for the WebSocket connection.  
  
Heartbeat

If there is no data to stream over an open WebSocket connection, the API automatically sends a standard `ping` frame periodically to maintain the connection's aliveness. Most standard WebSocket client libraries across various programming languages handle this automatically by responding with a `pong` frame, requiring no manual intervention.

Notice of Deprecation

The camelCase field (`authorizedRedirectUri`) is deprecated and will be removed in future versions. Use the snake_case versions for consistency.
    
    
    GET /feed/portfolio-stream-feed/authorize

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer

Show optional parameters

`update_types` â€” query


---
# Source: https://upstox.com/developer/api-documentation/get-market-data-feed
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Websocket](<https://upstox.com/developer/api-documentation/websocket>)
  * Market Data Feed



## Market Data Feed Discontinued[â€‹](<https://upstox.com/developer/api-documentation/get-market-data-feed/#market-data-feed-discontinued> "Direct link to heading")

The Market stream feed communicates market updates(latest trading price, close price, open price, etc.) when connected over the websocket. The market data feed response requires decoding using protobuf, utilizing the provided proto file. You'll need to translate the [Market Data Proto File](<https://assets.upstox.com/feed/market-data-feed/v1.1/MarketDataFeed.proto>) into the appropriate format compatible with your specific programming language.

Integration involves connecting to the provided endpoint using the `wss:` protocol through a WebSocket client, which is configured to automatically redirect to the authorized WebSocket endpoint upon authentication. Therefore, the client's configuration must be adjusted to support this automatic redirection. For example, in a Node.js client, you should enable the `followRedirects` setting to facilitate seamless handling of redirection.

After establishing a connection, proceed by subscribing to the necessary instrumentKeys, selecting the method and mode according to your preference. Ensure that the request structure aligns with the format outlined [here](<https://upstox.com/developer/api-documentation/get-market-data-feed#request-structure>).

NOTE

For the `1d` interval, a single candle representing the previous day is returned. In the case of `I1` and `I30` intervals, two candles, one for the current and one for the preceding are provided.

### Header Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-market-data-feed/#header-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
Authorization| true| string| Requires the format `Bearer access_token` where `access_token` is obtained from the [Token API](<https://upstox.com/developer/api-documentation/get-token>).  
Accept| true| string| Defines the content format the client expects, which should be set to `*/*`.  
  
NOTE

Over the socket, you have the capacity to subscribe to up to 100 instrumentKeys.

### Request structure[â€‹](<https://upstox.com/developer/api-documentation/get-market-data-feed/#request-structure> "Direct link to heading")
    
    
    {  
      "guid": "someguid",  
      "method": "sub",  
      "data": {  
        "mode": "full",  
        "instrumentKeys": ["NSE_INDEX|Nifty Bank"]  
      }  
    }  
    

Field| Description  
---|---  
guid| Globally unique identifier for the request.  
method| The method for the request. (Refer to the table below for possible values.)  
mode| The mode for the request. (Refer to the table below for possible values.)  
instrumentKeys| Instrument keys for which you want updates.  
  
Method field values

Value| Description  
---|---  
sub| Default mode is ltpc unless specified by user.  
change_mode| Instrument key is mandatory.  
unsub| Unsubscribe instrument key/s with further updates.  
  
Mode field values

Value| Description  
---|---  
ltpc| Provides information solely about the most recent trade, encompassing details such as the last trade price, time of the last trade, quantity traded, and the closing price from the previous day.  
option_chain| Provides specific information about a given option contract, covering LTPC, BID and ASK data at D0 Depth, as well as information on option greeks.  
full| Offers comprehensive information, including the latest trade prices, D5 depth, 1-minute, 30-minute, and daily candlestick data, along with some additional details.  
  
**Responses**

  * 302



* * *

This API does not provide a typical JSON response. Instead, upon successful authentication, it automatically redirects the client to the appropriate websocket endpoint where market updates can be received in real-time. Users are expected to handle data streams as per the websocket protocol once the redirection is complete.

### Message Structure[â€‹](<https://upstox.com/developer/api-documentation/get-market-data-feed/#message-structure> "Direct link to heading")

  


  * FO
  * EQ
  * Index



Response received with mode `ltpc`
    
    
    {  
      "feeds": {  
        "NSE_FO|50201": {  
          "ltpc": {  
            "ltp": 141,  
            "ltt": "1725875999894",  
            "ltq": "25",  
            "cp": 233.95  
          }  
        }  
      },  
      "currentTs": "1725876064349"  
    }  
    

Name| Type| Description  
---|---|---  
type| string| Present in live feed, indicating the nature of the data.  
feeds| object| Includes updates for instrumentKeys requested.  
ltpc| object| Details of LTP information  
ltpc.ltp| number| Last traded price  
ltpc.ltt| string| Last traded time (Timestamp)  
ltpc.ltq| string| Last traded quantity  
ltpc.cp| number| Closed price  
feeds.currentTs| number| Timestamp of the received tick  
  
Response received with mode `option_chain`
    
    
    {  
      "feeds": {  
        "NSE_FO|50201": {  
          "oc": {  
            "ltpc": {  
              "ltp": 141,  
              "ltt": "1725875999894",  
              "ltq": "25",  
              "cp": 233.95  
            },  
            "bidAskQuote": {  
              "bq": 600,  
              "bp": 141,  
              "bno": 3,  
              "aq": 50,  
              "ap": 141.35,  
              "ano": 1,  
              "bidQ": "600",  
              "askQ": "50"  
            },  
            "optionGreeks": {  
              "op": 141,  
              "up": 24951.931923793596,  
              "iv": 0.127716064453125,  
              "delta": -0.5637,  
              "theta": -18.9642,  
              "gamma": 0.0014,  
              "vega": 8.9092,  
              "rho": -1.1677  
            },  
            "eFeedDetails": {  
              "atp": 189.33,  
              "cp": 233.95,  
              "vtt": "32205075",  
              "oi": 2811525,  
              "tbq": 58850,  
              "tsq": 94825,  
              "lc": 0.05,  
              "uc": 628.75,  
              "fp": 141,  
              "fv": 25,  
              "dhoi": 3375025,  
              "dloi": 2671675,  
              "poi": 3021775  
            }  
          }  
        }  
      },  
      "currentTs": "1725876528408"  
    }  
    

Name| Type| Description  
---|---|---  
type| string| Present in live feed, indicating the nature of the data.  
feeds| object| Includes updates for instrumentKeys requested.  
oc| object| Details of Option Chain  
ltpc| object| Details of LTP information  
ltpc.ltp| number| Last traded price  
ltpc.ltt| string| Last traded time (Timestamp)  
ltpc.ltq| string| Last traded quantity  
ltpc.cp| number| Closed price  
bidAskQuote.bidQ| number (`int64`)| Bid quantity  
bidAskQuote.bp| number| Bid price  
bidAskQuote.askQ| number (`int64`)| Ask quantity  
bidAskQuote.ap| number| Ask price  
optionGreeks.up| number| Underlier Price  
optionGreeks.iv| number| Implied Volatility  
optionGreeks.delta| number| Measures the rate of change of options premium based on the directional movement of the underlying  
optionGreeks.theta| number| Measures the impact on premium based on time left for expiry  
optionGreeks.gamma| number| Rate of change of delta itself  
optionGreeks.vega| number| Rate of change of premium based on change in volatility  
optionGreeks.rho| number| Measures an option's sensitivity to changes in the risk-free rate of interest  
eFeedDetails.cp| number| Close price  
eFeedDetails.tbq| number| Total buy quantity  
eFeedDetails.tsq| number| Total sell quantity  
eFeedDetails.lc| number| Lower circuit  
eFeedDetails.uc| number| Upper circuit  
feeds.currentTs| number| Timestamp of the received tick  
  
Response received with mode `full`
    
    
    {  
      "feeds": {  
        "NSE_FO|50201": {  
          "ff": {  
            "marketFF": {  
              "ltpc": {  
                "ltp": 141,  
                "ltt": "1725875999894",  
                "ltq": "25",  
                "cp": 233.95  
              },  
              "marketLevel": {  
                "bidAskQuote": [  
                  {  
                    "bq": 600,  
                    "bp": 141,  
                    "bno": 3,  
                    "aq": 50,  
                    "ap": 141.35,  
                    "ano": 1,  
                    "bidQ": "600",  
                    "askQ": "50"  
                  },  
                  {  
                    "bq": 625,  
                    "bp": 140,  
                    "bno": 5,  
                    "aq": 25,  
                    "ap": 141.45,  
                    "ano": 1,  
                    "bidQ": "625",  
                    "askQ": "25"  
                  },  
                  {  
                    "bq": 25,  
                    "bp": 139.6,  
                    "bno": 1,  
                    "aq": 875,  
                    "ap": 142,  
                    "ano": 2,  
                    "bidQ": "25",  
                    "askQ": "875"  
                  },  
                  {  
                    "bq": 100,  
                    "bp": 139.5,  
                    "bno": 2,  
                    "aq": 100,  
                    "ap": 142.5,  
                    "ano": 1,  
                    "bidQ": "100",  
                    "askQ": "100"  
                  },  
                  {  
                    "bq": 175,  
                    "bp": 139,  
                    "bno": 3,  
                    "aq": 50,  
                    "ap": 142.95,  
                    "ano": 1,  
                    "bidQ": "175",  
                    "askQ": "50"  
                  }  
                ]  
              },  
              "optionGreeks": {  
                "op": 141,  
                "up": 24951.931923793596,  
                "iv": 0.127716064453125,  
                "delta": -0.5637,  
                "theta": -18.9642,  
                "gamma": 0.0014,  
                "vega": 8.9092,  
                "rho": -1.1677  
              },  
              "marketOHLC": {  
                "ohlc": [  
                  {  
                    "interval": "1d",  
                    "open": 260,  
                    "high": 282.7,  
                    "low": 136.75,  
                    "close": 141,  
                    "volume": 32205075,  
                    "ts": "1725820200000",  
                    "vol": "32205075"  
                  },  
                  {  
                    "interval": "I1",  
                    "open": 138.5,  
                    "high": 144.2,  
                    "low": 138.4,  
                    "close": 143.75,  
                    "volume": 232500,  
                    "ts": "1725875880000",  
                    "vol": "232500"  
                  },  
                  {  
                    "interval": "I1",  
                    "open": 143.9,  
                    "high": 146.5,  
                    "low": 140,  
                    "close": 141,  
                    "volume": 151250,  
                    "ts": "1725875940000",  
                    "vol": "151250"  
                  },  
                  {  
                    "interval": "I30",  
                    "open": 173.5,  
                    "high": 178,  
                    "low": 138.45,  
                    "close": 142.55,  
                    "volume": 3288600,  
                    "ts": "1725873300000",  
                    "vol": "3288600"  
                  },  
                  {  
                    "interval": "I30",  
                    "open": 142.65,  
                    "high": 158.7,  
                    "low": 136.75,  
                    "close": 141,  
                    "volume": 2336050,  
                    "ts": "1725875100000",  
                    "vol": "2336050"  
                  }  
                ]  
              },  
              "eFeedDetails": {  
                "atp": 189.33,  
                "cp": 233.95,  
                "vtt": "32205075",  
                "oi": 2811525,  
                "tbq": 58850,  
                "tsq": 94825,  
                "lc": 0.05,  
                "uc": 628.75,  
                "fp": 141,  
                "fv": 25,  
                "dhoi": 3375025,  
                "dloi": 2671675,  
                "poi": 3021775  
              }  
            }  
          }  
        }  
      },  
      "currentTs": "1725876633607"  
    }  
    

Name| Type| Description  
---|---|---  
type| string| Present in live feed, indicating the nature of the data.  
feeds| object| Includes updates for instrumentKeys requested.  
ltpc.ltp| number| Last traded price  
ltpc.ltt| string| Last traded time (Timestamp)  
ltpc.ltq| string| Last traded quantity  
ltpc.cp| number| Closed price  
bidAskQuote.bidQ| number (`int64`)| Bid quantity  
bidAskQuote.bp| number| Bid price  
bidAskQuote.askQ| number (`int64`)| Ask quantity  
bidAskQuote.ap| number| Ask price  
optionGreeks.iv| number| Implied Volatality  
optionGreeks.delta| number| Measures the rate of change of options premium based on the directional movement of the underlying  
optionGreeks.theta| number| Measures the impact on premium based on time left for expiry  
optionGreeks.gamma| number| Rate of change of delta itself  
optionGreeks.vega| number| Rate of change of premium based on change in volatility  
marketOHLC.ohlc[].interval| string| Possible values: `1d`, `I1`, `I30`  
Here `1d` is 1 day, `I1` and `I30` are 1-minute and 30-minute intervals respectively.  
marketOHLC.ohlc[].open| string| Open  
marketOHLC.ohlc[].high| string| High price  
marketOHLC.ohlc[].low| string| Low price  
marketOHLC.ohlc[].close| string| Close price  
marketOHLC.ohlc[].ts| string| Timestamp  
marketOHLC.ohlc[].vol| number (`int64`)| volume traded  
eFeedDetails.atp| number| Average traded price  
eFeedDetails.cp| number| Close price  
eFeedDetails.vtt| string| Volume traded today  
eFeedDetails.oi| number| Open interest  
eFeedDetails.tbq| number| Total buy quantity  
eFeedDetails.tsq| number| Total sell quantity  
eFeedDetails.lc| number| Lower circuit  
eFeedDetails.uc| number| Upper circuit  
eFeedDetails.poi| number| Previous open interest  
feeds.currentTs| number| Timestamp of the received tick  
  
Response received with mode `ltpc`
    
    
    {  
      "feeds": {  
        "NSE_EQ|INE002A01018": {  
          "ltpc": {  
            "ltp": 2924.9,  
            "ltt": "1725877734631",  
            "ltq": "1",  
            "cp": 2929.65  
          }  
        }  
      },  
      "currentTs": "1725879879317"  
    }  
    

Name| Type| Description  
---|---|---  
type| string| Present in live feed, indicating the nature of the data.  
feeds| object| Includes updates for instrumentKeys requested.  
ltpc| object| Details of LTP information  
ltpc.ltp| number| Last traded price  
ltpc.ltt| string| Last traded time (Timestamp)  
ltpc.ltq| string| Last traded quantity  
ltpc.cp| number| Closed price  
feeds.currentTs| number| Timestamp of the received tick  
  
Response received with mode `full`
    
    
    {  
      "type": "live_feed",  
      "feeds": {  
        "NSE_EQ|INE528G01035": {  
          "ff": {  
            "marketFF": {  
              "ltpc": {  
                "ltp": 22.96,  
                "ltt": "1725961701249",  
                "ltq": "50",  
                "cp": 22.89  
              },  
              "marketLevel": {  
                "bidAskQuote": [  
                  {  
                    "bq": 232017,  
                    "bp": 22.95,  
                    "aq": 13132,  
                    "ap": 22.96,  
                    "bidQ": "232017",  
                    "askQ": "13132"  
                  },  
                  {  
                    "bq": 44351,  
                    "bp": 22.94,  
                    "aq": 6934,  
                    "ap": 22.97,  
                    "bidQ": "44351",  
                    "askQ": "6934"  
                  },  
                  {  
                    "bq": 40679,  
                    "bp": 22.93,  
                    "aq": 37875,  
                    "ap": 22.98,  
                    "bidQ": "40679",  
                    "askQ": "37875"  
                  },  
                  {  
                    "bq": 199804,  
                    "bp": 22.92,  
                    "aq": 114091,  
                    "ap": 22.99,  
                    "bidQ": "199804",  
                    "askQ": "114091"  
                  },  
                  {  
                    "bq": 135719,  
                    "bp": 22.91,  
                    "aq": 299949,  
                    "ap": 23,  
                    "bidQ": "135719",  
                    "askQ": "299949"  
                  }  
                ]  
              },  
              "optionGreeks": {},  
              "marketOHLC": {  
                "ohlc": [  
                  {  
                    "interval": "1d",  
                    "open": 22.97,  
                    "high": 23.11,  
                    "low": 22.95,  
                    "close": 22.96,  
                    "volume": 67472997,  
                    "ts": "1725906600000",  
                    "vol": "67472997"  
                  },  
                  {  
                    "interval": "I1",  
                    "open": 23,  
                    "high": 23,  
                    "low": 22.97,  
                    "close": 22.98,  
                    "volume": 569483,  
                    "ts": "1725961620000",  
                    "vol": "569483"  
                  },  
                  {  
                    "interval": "I1",  
                    "open": 22.97,  
                    "high": 22.98,  
                    "low": 22.95,  
                    "close": 22.96,  
                    "volume": 563645,  
                    "ts": "1725961680000",  
                    "vol": "563645"  
                  },  
                  {  
                    "interval": "I30",  
                    "open": 22.99,  
                    "high": 23.02,  
                    "low": 22.96,  
                    "close": 22.99,  
                    "volume": 11345813,  
                    "ts": "1725959700000",  
                    "vol": "11345813"  
                  },  
                  {  
                    "interval": "I30",  
                    "open": 22.98,  
                    "high": 23,  
                    "low": 22.95,  
                    "close": 22.96,  
                    "volume": 1993401,  
                    "ts": "1725961500000",  
                    "vol": "1993401"  
                  }  
                ]  
              },  
              "eFeedDetails": {  
                "atp": 23,  
                "cp": 22.89,  
                "vtt": "67529356",  
                "tbq": 7291931,  
                "tsq": 19148955,  
                "lc": 18.31,  
                "uc": 27.46,  
                "yh": 32.85,  
                "yl": 15.7  
              }  
            }  
          }  
        }  
      },  
      "currentTs": "1725961701598"  
    }  
    

Name| Type| Description  
---|---|---  
type| string| Present in live feed, indicating the nature of the data.  
feeds| object| Includes updates for instrumentKeys requested.  
ltpc.ltp| number| Last traded price  
ltpc.ltt| string| Last traded time (Timestamp)  
ltpc.ltq| string| Last traded quantity  
ltpc.cp| number| Closed price  
bidAskQuote.bidQ| number (`int64`)| Bid quantity  
bidAskQuote.bp| number| Bid price  
bidAskQuote.askQ| number (`int64`)| Ask quantity  
marketLevel.bidAskQuote[].ap| number| Ask price  
marketOHLC.ohlc[].interval| string| Possible values: `1d`, `I1`, `I30`  
Here `1d` is 1 day, `I1` and `I30` are 1-minute and 30-minute intervals respectively.  
marketOHLC.ohlc[].open| string| Open  
marketOHLC.ohlc[].high| string| High price  
marketOHLC.ohlc[].low| string| Low price  
marketOHLC.ohlc[].close| string| Close price  
marketOHLC.ohlc[].ts| string| Timestamp  
marketOHLC.ohlc[].vol| number (`int64`)| volume traded  
eFeedDetails.atp| number| Average traded price  
eFeedDetails.cp| number| Close price  
eFeedDetails.vtt| string| Volume traded today  
eFeedDetails.tbq| number| Total buy quantity  
eFeedDetails.tsq| number| Total sell quantity  
eFeedDetails.lc| number| Lower circuit  
eFeedDetails.uc| number| Upper circuit  
eFeedDetails.yh| number| Yearly high  
eFeedDetails.yl| number| Yearly low  
feeds.currentTs| number| Timestamp of the received tick  
  
Response received with mode `ltpc`
    
    
    {  
      "feeds": {  
        "NSE_INDEX|Nifty 50": {  
          "ltpc": {  
            "ltp": 24936.4,  
            "ltt": "1725877800000",  
            "cp": 24852.15  
          }  
        }  
      },  
      "currentTs": "1725880507888"  
    }  
    

Name| Type| Description  
---|---|---  
type| string| Present in live feed, indicating the nature of the data.  
feeds| object| Includes updates for instrumentKeys requested.  
ltpc| object| Details of LTP information  
ltpc.ltp| number| Last traded price  
ltpc.ltt| string| Last traded time (Timestamp)  
ltpc.cp| number| Closed price  
feeds.currentTs| number| Timestamp of the received tick  
  
Response received with mode `full`
    
    
    {  
      "feeds": {  
        "NSE_INDEX|Nifty 50": {  
          "ff": {  
            "indexFF": {  
              "ltpc": {  
                "ltp": 24936.4,  
                "ltt": "1725877800000",  
                "cp": 24852.15  
              },  
              "marketOHLC": {  
                "ohlc": [  
                  {  
                    "interval": "1d",  
                    "open": 24823.4,  
                    "high": 24957.5,  
                    "low": 24753.15,  
                    "close": 24936.4,  
                    "ts": "1725820200000"  
                  },  
                  {  
                    "interval": "I1",  
                    "open": 24948.3,  
                    "high": 24948.65,  
                    "low": 24935.1,  
                    "close": 24942.25,  
                    "ts": "1725875940000"  
                  },  
                  {  
                    "interval": "I1",  
                    "open": 24940.45,  
                    "high": 24940.45,  
                    "low": 24940.45,  
                    "close": 24940.45,  
                    "ts": "1725876000000"  
                  },  
                  {  
                    "interval": "I30",  
                    "open": 24902.25,  
                    "high": 24947.45,  
                    "low": 24901.1,  
                    "close": 24940.55,  
                    "ts": "1725873300000"  
                  },  
                  {  
                    "interval": "I30",  
                    "open": 24939.75,  
                    "high": 24957.5,  
                    "low": 24930.75,  
                    "close": 24940.45,  
                    "ts": "1725875100000"  
                  }  
                ]  
              },  
              "yh": 25333.65,  
              "yl": 18837.85  
            }  
          }  
        }  
      },  
      "currentTs": "1725880642039"  
    }  
    

Name| Type| Description  
---|---|---  
type| string| Present in live feed, indicating the nature of the data.  
feeds| object| Includes updates for instrumentKeys requested.  
ltpc| object| Details of LTP information  
ltpc.ltp| number| Last traded price  
ltpc.ltt| string| Last traded time (Timestamp)  
ltpc.cp| number| Closed price  
marketOHLC| object| Object for OHLC  
ohlc| object| Details of OHLC information  
ohlc[].interval| string| Possible values: `1d`, `I1`, `I30`  
Here `1d` is 1 day, `I1` and `I30` are 1-minute and 30-minute intervals respectively.  
ohlc[].open| string| Open  
ohlc[].high| string| High price  
ohlc[].low| string| Low price  
ohlc[].close| string| Close price  
ohlc[].ts| string| Timestamp  
ohlc[].vol| number (`int64`)| volume traded  
yh| string| Yearly high  
yl| string| Yearly low  
feeds.currentTs| number| Timestamp of the received tick  
  
Heartbeat

If there is no data to stream over an open WebSocket connection, the API automatically sends a standard `ping` frame periodically to maintain the connection's aliveness. Most standard WebSocket client libraries across various programming languages handle this automatically by responding with a `pong` frame, requiring no manual intervention.

Notice of Deprecation

Several fields (`bidAskQuote.ano`, `bidAskQuote.bno`, `bidAskQuote.bq`, and others) part of the Market Feed ticker will be deprecated starting from **October 10, 2024** , and will be removed in future versions. For further details, please refer to the [Market Feed Changes Announcement](<https://upstox.com/developer/api-documentation/announcements/market-proto-changes-notice>).
    
    
    WSS /feed/market-data-feed

#### Request

Live URLwss://api.upstox.com/v2

`Authorization`

Bearer


---
# Source: https://upstox.com/developer/api-documentation/get-market-data-feed-authorize
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Websocket](<https://upstox.com/developer/api-documentation/websocket>)
  * Get Market Data Feed Authorized Url



## Market Data Feed Authorize Discontinued[â€‹](<https://upstox.com/developer/api-documentation/get-market-data-feed-authorize/#market-data-feed-authorize-discontinued> "Direct link to heading")

API to retrieve the designated socket endpoint URI for Market updates. This endpoint is intended for use with a WebSocket client. If automatic redirection is not configured through the [Market Stream Feed API](<https://upstox.com/developer/api-documentation/get-market-data-feed>), this API serves as an alternative method to acquire the necessary `wss://` URL for establishing a connection via a WebSocket client.

### Header Parameters[â€‹](<https://upstox.com/developer/api-documentation/get-market-data-feed-authorize/#header-parameters> "Direct link to heading")

Name| Required| Type| Description  
---|---|---|---  
Authorization| true| string| Requires the format `Bearer access_token` where `access_token` is obtained from the [Token API](<https://upstox.com/developer/api-documentation/get-token>).  
Accept| true| string| Defines the content format the client expects, which should be set to `application/json`.  
  
**Responses**

  * 200



* * *

### Response Body[â€‹](<https://upstox.com/developer/api-documentation/get-market-data-feed-authorize/#response-body> "Direct link to heading")
    
    
    {  
      "status": "success",  
      "data": {  
        "authorized_redirect_uri": "wss://xyz.upstox.com/market-data-feeder/v2/upstox-developer-api/feeds?requestId=2f646f57-a097-4402-bb36-c44085c5f8e7&code=9355b100-25cf-4fa7-b038-06d27ddb4823",  
        "authorizedRedirectUri": "wss://xyz.upstox.com/market-data-feeder/v2/upstox-developer-api/feeds?requestId=2f646f57-a097-4402-bb36-c44085c5f8e7&code=9355b100-25cf-4fa7-b038-06d27ddb4823"  
      }  
    }  
    

Name| Type| Description  
---|---|---  
status| string| A string indicating the outcome of the request. Typically `success` for successful operations.  
data| object| Response data for WebsocketAuthRedirectResponse  
data.authorized_redirect_uri| string| The verified URL used for secure WebSocket connections, allowing real-time market data updates. This URL is valid for one-time use because the `code` present as the req parameter is a single-use authentication token for the WebSocket connection.  
  
Heartbeat

If there is no data to stream over an open WebSocket connection, the API automatically sends a standard `ping` frame periodically to maintain the connection's aliveness. Most standard WebSocket client libraries across various programming languages handle this automatically by responding with a `pong` frame, requiring no manual intervention.

Notice of Deprecation

The camelCase field (`authorizedRedirectUri`) is deprecated and will be removed in future versions. Use the snake_case versions for consistency.
    
    
    GET /feed/market-data-feed/authorize

#### Request

Live URLhttps://api.upstox.com/v2

`Authorization`

Bearer


---
# Source: https://upstox.com/developer/api-documentation/websocket-implementation
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * Websocket implementation



# Websocket Implementation

The websocket streaming provides an efficient way to receive market and order related communication over a long standing connection.

Websockets offer several technical advantages over standard API calls:

  * Efficiency: Instead of repeatedly polling for data, websockets allow data to be pushed to the client as it becomes available.
  * Real-time: Websockets provide real-time communication which is crucial for trading applications where every second counts.
  * Reduced overhead: With websockets, the overhead of establishing a connection is reduced as one connection can be kept open for longer durations.



Websockets should be preferred when:

  * Real-time updates are required.
  * The frequency of data updates is high, making regular API polling inefficient.
  * Reducing network overhead is a priority.



We provide two types of streaming options:

  * Market related changes for the subscribed entities
  * Order related updates

## [description Streamer FunctionsStreamer functions implementation](<https://upstox.com/developer/api-documentation/streamer-function>)


---
# Source: https://upstox.com/developer/api-documentation/streamer-function
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Websocket implementation](<https://upstox.com/developer/api-documentation/websocket-implementation>)
  * Streamer Functions



On this page

# Streamer Functions

## Prerequisites[â€‹](<https://upstox.com/developer/api-documentation/streamer-function/#prerequisites> "Direct link to heading")

Connecting to the WebSocket for market and portfolio updates is streamlined through two primary Feeder functions. Both functions are designed to simplify the process of subscribing to essential data streams, ensuring users have quick and easy access to the information they need.

You need to have the SDK installed for the specific language you are using. For detailed installation instructions and repository links, refer to the [Installing the Upstox SDK](<https://upstox.com/developer/api-documentation/installing-sdk>) guide.

## MarketDataStreamerV3[â€‹](<https://upstox.com/developer/api-documentation/streamer-function/#marketdatastreamerv3> "Direct link to heading")

The MarketDataStreamerV3 interface is designed for effortless connection to the market WebSocket, enabling users to receive instantaneous updates on various instruments. The following example demonstrates how to quickly set up and start receiving market updates for selected instrument keys:

  * Python SDK
  * Node.js SDK
  * Java SDK
  * PHP SDK


    
    
    import upstox_client  
      
    def on_message(message):  
        print(message)  
      
      
    def main():  
        configuration = upstox_client.Configuration()  
        access_token = <ACCESS_TOKEN>  
        configuration.access_token = access_token  
      
        streamer = upstox_client.MarketDataStreamerV3(  
            upstox_client.ApiClient(configuration), ["NSE_INDEX|Nifty 50", "NSE_INDEX|Nifty Bank"], "full")  
      
        streamer.on("message", on_message)  
      
        streamer.connect()  
      
      
    if __name__ == "__main__":  
        main()  
    
    
    
    let UpstoxClient = require("upstox-js-sdk");  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications["OAUTH2"];  
    OAUTH2.accessToken = <ACCESS_TOKEN>;  
      
    const streamer = new UpstoxClient.MarketDataStreamerV3(["MCX_FO|426268", "MCX_FO|427608"], "full");  
    streamer.connect();  
      
    streamer.on("message", (data) => {  
      const feed = data.toString("utf-8");  
      console.log(feed);  
    });  
    
    
    
    public class MarketFeederTest {  
        public static void main(String[] args) throws ApiException {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            Set<String> instrumentKeys = new HashSet<>();  
            instrumentKeys.add("NSE_INDEX|Nifty 50");  
            instrumentKeys.add("NSE_INDEX|Nifty Bank");  
      
            OAuth oAuth = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            oAuth.setAccessToken(<ACESS_TOKEN>);  
      
            final MarketDataStreamerV3 marketDataStreamer = new MarketDataStreamerV3(defaultClient, instrumentKeys, Mode.FULL);  
      
            marketDataStreamer.setOnMarketUpdateListener(new OnMarketUpdateV3Listener() {  
      
                @Override  
                public void onUpdate(MarketUpdateV3 marketUpdate) {  
                    System.out.println(marketUpdate);  
                }  
            });  
      
            marketDataStreamer.connect();  
        }  
    }  
    
    
    
    use Upstox\Client\Configuration;  
    use Upstox\Client\Feeder\MarketDataStreamerV3;  
    use Revolt\EventLoop;  
      
    function on_message($streamer, $data)  
    {  
        print($data);  
    }  
      
    $config = Configuration::getDefaultConfiguration()->setAccessToken(<ACCESS_TOKEN>);  
      
    $streamer = new MarketDataStreamerV3($config, ["NSE_INDEX|Nifty 50", "NSE_INDEX|Nifty Bank"], "full");  
      
    $streamer->on("message", 'on_message');  
    $streamer->connect();  
      
    EventLoop::run();  
    

  


In this example, you first authenticate using an access token, then instantiate MarketDataStreamerV3 with specific instrument keys and a subscription mode. Upon connecting, the streamer listens for market updates, which are logged to the console as they arrive.

Feel free to adjust the access token placeholder and any other specifics to better fit your actual implementation or usage scenario.

### Exploring the MarketDataStreamerV3 Functionality[â€‹](<https://upstox.com/developer/api-documentation/streamer-function/#exploring-the-marketdatastreamerv3-functionality> "Direct link to heading")

#### Modes[â€‹](<https://upstox.com/developer/api-documentation/streamer-function/#modes> "Direct link to heading")

  * **ltpc** : ltpc provides information solely about the most recent trade, encompassing details such as the last trade price, time of the last trade, quantity traded, and the closing price from the previous day.
  * **full** : The full option offers comprehensive information, including the latest trade prices, D5 depth, 1-minute, 30-minute, and daily candlestick data, along with some additional details.
  * **option_greeks** : Contains only option greeks.
  * **full_d30** : full_d30 includes Full mode data plus 30 market level quotes. ![](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzkiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAzOSAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMwIDAuNzVDMzQuNTU2MyAwLjc1IDM4LjI1IDQuNDQzNjUgMzguMjUgOUMzOC4yNSAxMy41NTYzIDM0LjU1NjMgMTcuMjUgMzAgMTcuMjVIOUM0LjQ0MzY1IDE3LjI1IDAuNzUgMTMuNTU2MyAwLjc1IDlDMC43NSA0LjQ0MzY1IDQuNDQzNjUgMC43NSA5IDAuNzVIMzBaIiBmaWxsPSIjMjAyMDIwIi8+CjxwYXRoIGQ9Ik0zMCAwLjc1QzM0LjU1NjMgMC43NSAzOC4yNSA0LjQ0MzY1IDM4LjI1IDlDMzguMjUgMTMuNTU2MyAzNC41NTYzIDE3LjI1IDMwIDE3LjI1SDlDNC40NDM2NSAxNy4yNSAwLjc1IDEzLjU1NjMgMC43NSA5QzAuNzUgNC40NDM2NSA0LjQ0MzY1IDAuNzUgOSAwLjc1SDMwWiIgc3Ryb2tlPSJ1cmwoI3BhaW50MF9saW5lYXJfMjY1N180NzU2OSkiIHN0cm9rZS13aWR0aD0iMC41Ii8+CjxwYXRoIGQ9Ik0xOC41MjM5IDEwLjcyMDhDMTguNDY5OCAxMS4wNDM5IDE4LjYyNTcgMTEuMjA1MiAxOC45OTE3IDExLjIwNTJDMTkuMTY4IDExLjIwNTIgMTkuMzkxOSAxMS4xNzkyIDE5LjU4MTYgMTEuMTM0MlYxMi43NTQ1QzE5LjMxNyAxMi44Mzg3IDE4LjcwNzEgMTIuOTIzNiAxOC4wMjIzIDEyLjkyMzZDMTYuODM2IDEyLjkyMzYgMTYuMTQ0MyAxMi40MTk4IDE2LjM2NzggMTEuMDc2NUwxNy42MDcyIDQuMDcwMjlIMTkuNzAyM0wxOC41MjM5IDEwLjcyMDhaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMjIuOTg5IDYuNTkzODFMMjIuNDA2IDEwLjEwNzNDMjIuMjkwOCAxMC43OTg0IDIyLjc5OTMgMTEuMTI3NiAyMy4zMDc4IDExLjEyNzZDMjMuODE2MyAxMS4xMjc2IDI0LjQxOTYgMTAuNzk4NCAyNC41MzQ4IDEwLjEwNzNMMjUuMTI0OCA2LjU5MzgxSDI3LjIxMjlMMjYuMTgyNSAxMi43OTRIMjQuMjYzN0wyNC4yOTc1IDEyLjIwNjFDMjMuNzQ4MyAxMi43NjE0IDIyLjk0MTQgMTIuOTg3NSAyMi4xODkgMTIuOTg3NUMyMC45ODg4IDEyLjk4NzUgMTkuOTcxOCAxMi4xNjczIDIwLjIxNjEgMTAuNjg4MkwyMC44OTQgNi41OTM0TDIyLjk4OSA2LjU5MzgxWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTI5LjUzNTcgMTIuOTIzMUMyOC41OTMyIDEyLjkyMzEgMjcuNjg0NSAxMi43NjE4IDI3LjExNTQgMTIuNDk2OUwyNy4zOTEyIDEwLjg0ODJDMjcuOTYwNyAxMS4wODA5IDI5LjA0MTEgMTEuMzAyMSAyOS42MjQxIDExLjMwMjFDMzAuMzkwMyAxMS4zMDIxIDMwLjY1NDUgMTEuMTkyMyAzMC42NTQ1IDEwLjg5NTNDMzAuNjU0NSAxMC42OTUyIDMwLjQ1NzggMTAuNjA0OCAyOS44NjE0IDEwLjUwNzlMMjkuMjg0OSAxMC40MTc1QzI4LjE2NjIgMTAuMjQzIDI3LjYzNzMgOS43MzkyNSAyNy42MzczIDguODY3NDhDMjcuNjM3MyA3LjM5NSAyOC45ODY1IDYuNDY1MDUgMzAuOTQ2IDYuNDY1MDVDMzEuNzY2MyA2LjQ2NTA1IDMyLjQ5MTggNi42MDA3OSAzMy4wNjE0IDYuODY1NjdMMzIuNjQwOCA4LjQ0Nzg5QzMyLjI2MSA4LjI4NjU4IDMxLjMzODggOC4xMTg2NiAzMC43ODMxIDguMTE4NjZDMzAuMDIzOCA4LjExODY2IDI5LjY2NDMgOC4yNjA1OCAyOS42NjQzIDguNTUxNDVDMjkuNjY0MyA4Ljc1MTU1IDI5LjkxNTEgOC44NjEyOSAzMC41Nzk1IDguOTY0ODVMMzEuMTgyOSA5LjA2MTgxQzMyLjIxMzMgOS4yMjk3MiAzMi43MDg0IDkuNzIwNjkgMzIuNzA4NCAxMC41NjY1QzMyLjcwODQgMTIuMDEzIDMxLjQyNjcgMTIuOTIzOSAyOS41MzUzIDEyLjkyMzlMMjkuNTM1NyAxMi45MjMxWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTguMjE3IDkuOTQ4Mkw3LjcxMTk0IDEyLjc5NDFIOS44OTQ5MUwxMC4zMDg1IDkuODgzODRIMTIuMzkwMkMxNC41NDYzIDkuODgzODQgMTYuMDE4MyA4LjQ2MjM0IDE2LjM5MDUgNi43MTY4MUMxNi43NjI4IDQuOTcxMjkgMTUuMTgzOCA0LjAyMzUyIDEzLjQzNDQgNC4wMjM1MkgxMi41NDRDMTIuNTEyNSA0LjYyOTkxIDEyLjQ2MDYgNS4yMzQ0MyAxMi4zMTQgNS44MTI0NUgxMi45ODY2QzEzLjY5MTcgNS44MTI0NSAxNC4zMDM3IDYuMzM2MDkgMTQuMTMyNiA2LjkzNjNDMTMuOTM4MSA3LjYxODkyIDEzLjQ2ODIgOC4wOTQ5MSAxMi41MzI3IDguMDk0OTFIMTEuMDY3NUMxMC42ODEzIDguNTM1NTcgMTAuMjEzOSA4LjkzMDExIDkuNjAxOTIgOS4zMTM0MUM5LjEzNDU3IDkuNjA2MTIgOC42NzM5OSA5LjgwNTE4IDguMjE3IDkuOTQ4MloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0xMS43OTU2IDMuOTY3NzdDMTEuNzkzIDQuNzc1NTcgMTEuNjE0MyA1LjU5MTcxIDExLjI1ODggNi4zMjFDMTAuOTAzNCA3LjA1MDMgMTAuMzg3MSA3LjY5MzU3IDkuNzQ2OTMgOC4yMDQ1OEM5LjEwNjggOC43MTU2IDguMzU4NzggOS4wODE2NyA3LjU1NjY0IDkuMjc2NDdDNi43NTQ0OSA5LjQ3MTI2IDUuOTg2NDcgOS40MzEwNCA1IDkuNDMxTDUuNDM4NDMgNy4zOTU2OUM2LjIwNTY3IDcuMzk1NjkgNi41OTg1NiA3LjQwNjA5IDcuMDgyNTIgNy4yODg1N0M3LjU2NjQ4IDcuMTcxMDQgOC4wMTE1OCA2Ljk1NDE1IDguMzk3OCA2LjY0NTg0QzguNzg0MDEgNi4zMzc1MiA5LjA0MDY0IDUuODI4MjUgOS4yNTUwOCA1LjM4ODI1QzkuNDY5NTMgNC45NDgyNCA5LjU3ODUxIDQuNDU1MTQgOS41ODAwOCAzLjk2Nzc3TDExLjc5NTYgMy45Njc3N1oiIGZpbGw9IndoaXRlIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMjY1N180NzU2OSIgeDE9IjIwLjk2MDUiIHkxPSIxIiB4Mj0iMjAuOTYwNSIgeTI9IjIyLjY2NjciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0E0ODNGNCIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMxODBCMjUiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K)



#### Functions[â€‹](<https://upstox.com/developer/api-documentation/streamer-function/#functions> "Direct link to heading")

  1. **constructor MarketDataStreamerV3(apiClient, instrumentKeys, mode)** : Initializes the streamer with optional instrument keys and mode (`full`, `ltpc`, `full_d30`, or `option_greeks`).
  2. **connect()** : Establishes the WebSocket connection.
  3. **subscribe(instrumentKeys, mode)** : Subscribes to updates for given instrument keys in the specified mode. Both parameters are mandatory.
  4. **unsubscribe(instrumentKeys)** : Stops updates for the specified instrument keys.
  5. **changeMode(instrumentKeys, mode)** : Switches the mode for already subscribed instrument keys.
  6. **disconnect()** : Ends the active WebSocket connection.
  7. **auto_reconnect(enable, interval, retryCount)** : Customizes auto-reconnect functionality. Parameters include a flag to enable/disable it, the interval(in seconds) between attempts, and the maximum number of retries.



#### Events[â€‹](<https://upstox.com/developer/api-documentation/streamer-function/#events> "Direct link to heading")

  * **open** : Emitted upon successful connection establishment.
  * **close** : Indicates the WebSocket connection has been closed.
  * **message** : Delivers market updates.
  * **error** : Signals an error has occurred.
  * **reconnecting** : Announced when a reconnect attempt is initiated.
  * **autoReconnectStopped** : Informs when auto-reconnect efforts have ceased after exhausting the retry count.



The following documentation includes examples to illustrate the usage of these functions and events, providing a practical understanding of how to interact with the MarketDataStreamerV3 effectively.

#### Subscribing to Market Data on Connection Open with MarketDataStreamerV3[â€‹](<https://upstox.com/developer/api-documentation/streamer-function/#subscribing-to-market-data-on-connection-open-with-marketdatastreamerv3> "Direct link to heading")

  * Python SDK
  * Node.js SDK
  * Java SDK
  * PHP SDK


    
    
    import upstox_client  
      
    def main():  
        configuration = upstox_client.Configuration()  
        access_token = <ACCESS_TOKEN>  
        configuration.access_token = access_token  
      
        streamer = upstox_client.MarketDataStreamerV3(  
            upstox_client.ApiClient(configuration))  
      
        def on_open():  
            streamer.subscribe(  
                ["NSE_EQ|INE020B01018", "NSE_EQ|INE467B01029"], "full")  
      
        def on_message(message):  
            print(message)  
      
        streamer.on("open", on_open)  
        streamer.on("message", on_message)  
      
        streamer.connect()  
      
    if __name__ == "__main__":  
        main()  
    
    
    
    let UpstoxClient = require("upstox-js-sdk");  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications["OAUTH2"];  
    OAUTH2.accessToken = <ACCESS_TOKEN>;  
      
    const streamer = new UpstoxClient.MarketDataStreamerV3();  
    streamer.connect();  
      
    // Subscribe to instrument keys upon the 'open' event  
    streamer.on("open", () => {  
      streamer.subscribe(["NSE_EQ|INE020B01018", "NSE_EQ|INE467B01029"], "full");  
    });  
      
    // Handle incoming market data messages  
    streamer.on("message", (data) => {  
      const feed = data.toString("utf-8");  
      console.log(feed);  
    });  
    
    
    
    public class MarketFeederTest {  
        public static void main(String[] args) throws ApiException {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth oAuth = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            oAuth.setAccessToken(<ACCESS_TOKEN>);  
      
            final MarketDataStreamerV3 marketDataStreamer = new MarketDataStreamerV3(defaultClient);  
      
            marketDataStreamer.setOnOpenListener(new OnOpenListener() {  
      
                @Override  
                public void onOpen() {  
                    System.out.println("Connection Established");  
      
                    Set<String> instrumentKeys = new HashSet<>();  
                    instrumentKeys.add("NSE_INDEX|Nifty 50");  
                    instrumentKeys.add("NSE_INDEX|Nifty Bank");  
      
                    marketDataStreamer.subscribe(instrumentKeys, Mode.FULL);  
      
                }  
            });  
      
            marketDataStreamer.setOnMarketUpdateListener(new OnMarketUpdateV3Listener() {  
      
                @Override  
                public void onUpdate(MarketUpdateV3 marketUpdate) {  
                    System.out.println(marketUpdate);  
                }  
            });  
      
            marketDataStreamer.connect();  
        }  
    }  
    
    
    
    use Upstox\Client\Configuration;  
    use Upstox\Client\Feeder\MarketDataStreamerV3;  
    use Revolt\EventLoop;  
      
    function on_open($streamer)  
    {  
        print("Connection Established");  
        $streamer->subscribe(["NSE_INDEX|Nifty 50", "NSE_INDEX|Nifty Bank"], "full");  
    }  
      
    function on_message($streamer, $data)  
    {  
        print($data);  
    }  
      
      
    $config = Configuration::getDefaultConfiguration()->setAccessToken(<ACCESS_TOKEN>);  
      
    $streamer = new MarketDataStreamerV3($config);  
      
    $streamer->on("open", 'on_open');  
    $streamer->on("message", 'on_message');  
    $streamer->connect();  
      
    EventLoop::run();  
    

  


#### Subscribing to Instruments with Delays[â€‹](<https://upstox.com/developer/api-documentation/streamer-function/#subscribing-to-instruments-with-delays> "Direct link to heading")

  * Python SDK
  * Node.js SDK
  * Java SDK
  * PHP SDK


    
    
    import upstox_client  
    import time  
      
      
    def main():  
        configuration = upstox_client.Configuration()  
        access_token = <ACCESS_TOKEN>  
        configuration.access_token = access_token  
      
        streamer = upstox_client.MarketDataStreamerV3(  
            upstox_client.ApiClient(configuration))  
      
        def on_open():  
            streamer.subscribe(  
                ["NSE_EQ|INE020B01018"], "full")  
      
        # Handle incoming market data messages\  
        def on_message(message):  
            print(message)  
      
        streamer.on("open", on_open)  
        streamer.on("message", on_message)  
      
        streamer.connect()  
      
        time.sleep(5)  
        streamer.subscribe(  
            ["NSE_EQ|INE467B01029"], "full")  
      
      
    if __name__ == "__main__":  
        main()  
    
    
    
    let UpstoxClient = require("upstox-js-sdk");  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications["OAUTH2"];  
    OAUTH2.accessToken = <ACCESS_TOKEN>;  
      
    const streamer = new UpstoxClient.MarketDataStreamerV3();  
    streamer.connect();  
      
    // Subscribe to the first set of instrument keys immediately upon connection  
    streamer.on("open", () => {  
      streamer.subscribe(["NSE_EQ|INE020B01018"], "full");  
      
      // Subscribe to another set of instrument keys after a delay  
      setTimeout(() => {  
        streamer.subscribe(["NSE_EQ|INE467B01029"], "full");  
      }, 5000); // 5-second delay before subscribing to the second set  
    });  
      
    // Handle incoming market data messages  
    streamer.on("message", (data) => {  
      const feed = data.toString("utf-8");  
      console.log(feed);  
    });  
    
    
    
    public class MarketFeederTest {  
        public static void main(String[] args) throws ApiException {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth oAuth = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            oAuth.setAccessToken(<ACCESS_TOKEN>);  
      
            final MarketDataStreamerV3 marketDataStreamer = new MarketDataStreamerV3(defaultClient);  
      
            marketDataStreamer.setOnOpenListener(new OnOpenListener() {  
      
                @Override  
                public void onOpen() {  
                    System.out.println("Connection Established");  
      
                    Set<String> instrumentKeys1 = new HashSet<>();  
                    instrumentKeys1.add("NSE_INDEX|Nifty 50");  
      
                    marketDataStreamer.subscribe(instrumentKeys1, Mode.FULL);  
      
                    ScheduledExecutorService scheduler = Executors.newSingleThreadScheduledExecutor();  
      
                    scheduler.schedule(() -> {  
                        Set<String> instrumentKeys2 = new HashSet<>();  
                        instrumentKeys2.add("NSE_INDEX|Nifty Bank");  
                        marketDataStreamer.subscribe(instrumentKeys2, Mode.FULL);  
                        scheduler.shutdown();  
                    }, 5, TimeUnit.SECONDS);  
      
                }  
            });  
      
            marketDataStreamer.setOnMarketUpdateListener(new OnMarketUpdateV3Listener() {  
      
                @Override  
                public void onUpdate(MarketUpdateV3 marketUpdate) {  
                    System.out.println(marketUpdate);  
                }  
            });  
      
            marketDataStreamer.connect();  
      
        }  
    }  
    
    
    
    use Upstox\Client\Configuration;  
    use Upstox\Client\Feeder\MarketDataStreamerV3;  
    use Revolt\EventLoop;  
    use function Amp\delay;  
      
    function on_open($streamer)  
    {  
        print("Connection Established");  
        $streamer->subscribe(["NSE_INDEX|Nifty 50"], "full");  
        delay(5);  
        $streamer->subscribe(["NSE_INDEX|Nifty Bank"], "full");  
    }  
      
    function on_message($streamer, $data)  
    {  
        print($data);  
    }  
      
      
    $config = Configuration::getDefaultConfiguration()->setAccessToken(<ACCESS_TOKEN>);  
      
    $streamer = new MarketDataStreamerV3($config);  
      
    $streamer->on("open", 'on_open');  
    $streamer->on("message", 'on_message');  
    $streamer->connect();  
      
    EventLoop::run();  
    

  


#### Subscribing and Unsubscribing Instruments[â€‹](<https://upstox.com/developer/api-documentation/streamer-function/#subscribing-and-unsubscribing-instruments> "Direct link to heading")

  * Python SDK
  * Node.js SDK
  * Java SDK
  * PHP SDK


    
    
    import upstox_client  
    import time  
      
      
    def main():  
        configuration = upstox_client.Configuration()  
        access_token = <ACCESS_TOKEN>  
        configuration.access_token = access_token  
      
        streamer = upstox_client.MarketDataStreamerV3(  
            upstox_client.ApiClient(configuration))  
      
        def on_open():  
            print("Connected. Subscribing to instrument keys.")  
            streamer.subscribe(  
                ["NSE_EQ|INE020B01018", "NSE_EQ|INE467B01029"], "full")  
      
        # Handle incoming market data messages\  
        def on_message(message):  
            print(message)  
      
        streamer.on("open", on_open)  
        streamer.on("message", on_message)  
      
        streamer.connect()  
      
        time.sleep(5)  
        print("Unsubscribing from instrument keys.")  
        streamer.unsubscribe(["NSE_EQ|INE020B01018", "NSE_EQ|INE467B01029"])  
      
      
    if __name__ == "__main__":  
        main()  
    
    
    
    let UpstoxClient = require("upstox-js-sdk");  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications["OAUTH2"];  
    OAUTH2.accessToken = <ACCESS_TOKEN>;  
      
    const streamer = new UpstoxClient.MarketDataStreamerV3();  
    streamer.connect();  
      
    // Subscribe to instrument keys immediately upon connection  
    streamer.on("open", () => {  
      console.log("Connected. Subscribing to instrument keys.");  
      streamer.subscribe(["NSE_EQ|INE020B01018", "NSE_EQ|INE467B01029"], "full");  
        
      // Unsubscribe after a delay  
      setTimeout(() => {  
        console.log("Unsubscribing from instrument keys.");  
        streamer.unsubscribe(["NSE_EQ|INE020B01018", "NSE_EQ|INE467B01029"]);  
      }, 5000); // Adjust delay as needed  
    });  
      
    streamer.on("message", (data) => {  
      const feed = data.toString("utf-8");  
      console.log("Market Update:", feed);  
    });  
    
    
    
    public class MarketFeederTest {  
        public static void main(String[] args) throws ApiException {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth oAuth = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            oAuth.setAccessToken(<ACCESS_TOKEN>);  
      
            final MarketDataStreamerV3 marketDataStreamer = new MarketDataStreamerV3(defaultClient);  
      
            marketDataStreamer.setOnOpenListener(new OnOpenListener() {  
      
                @Override  
                public void onOpen() {  
                    System.out.println("Connection Established");  
      
                    Set<String> instrumentKeys = new HashSet<>();  
                    instrumentKeys.add("NSE_INDEX|Nifty 50");  
                    instrumentKeys.add("NSE_INDEX|Nifty Bank");  
      
                    marketDataStreamer.subscribe(instrumentKeys, Mode.FULL);  
      
                    ScheduledExecutorService scheduler = Executors.newSingleThreadScheduledExecutor();  
      
                    scheduler.schedule(() -> {  
                        marketDataStreamer.unsubscribe(instrumentKeys);  
                        scheduler.shutdown();  
                    }, 5, TimeUnit.SECONDS);  
      
                }  
            });  
      
            marketDataStreamer.setOnMarketUpdateListener(new OnMarketUpdateV3Listener() {  
      
                @Override  
                public void onUpdate(MarketUpdateV3 marketUpdate) {  
                    System.out.println(marketUpdate);  
                }  
            });  
      
            marketDataStreamer.connect();  
        }  
    }  
    
    
    
    use Upstox\Client\Configuration;  
    use Upstox\Client\Feeder\MarketDataStreamerV3;  
    use Revolt\EventLoop;  
    use function Amp\delay;  
      
    function on_open($streamer)  
    {  
        print("Connection Established");  
        $streamer->subscribe(["NSE_EQ|INE020B01018", "NSE_EQ|INE467B01029"], "full");  
        delay(5);  
        $streamer->unsubscribe(["NSE_EQ|INE020B01018", "NSE_EQ|INE467B01029"]);  
    }  
      
    function on_message($streamer, $data)  
    {  
        print($data);  
    }  
      
      
    $config = Configuration::getDefaultConfiguration()->setAccessToken(<ACCESS_TOKEN>);  
      
    $streamer = new MarketDataStreamerV3($config);  
      
    $streamer->on("open", 'on_open');  
    $streamer->on("message", 'on_message');  
    $streamer->connect();  
      
    EventLoop::run();  
    

  


#### Subscribe, Change Mode and Unsubscribe[â€‹](<https://upstox.com/developer/api-documentation/streamer-function/#subscribe-change-mode-and-unsubscribe> "Direct link to heading")

  * Python SDK
  * Node.js SDK
  * Java SDK
  * PHP SDK


    
    
    import upstox_client  
    import time  
      
    def main():  
        configuration = upstox_client.Configuration()  
        access_token = <ACCESS_TOKEN>  
        configuration.access_token = access_token  
      
        streamer = upstox_client.MarketDataStreamerV3(  
            upstox_client.ApiClient(configuration))  
      
        def on_open():  
            print("Connected. Subscribing to instrument keys.")  
            streamer.subscribe(  
                ["NSE_EQ|INE020B01018", "NSE_EQ|INE467B01029"], "full")  
      
        # Handle incoming market data messages\  
        def on_message(message):  
            print(message)  
      
        streamer.on("open", on_open)  
        streamer.on("message", on_message)  
      
        streamer.connect()  
      
        time.sleep(5)  
        print("Changing subscription mode to ltpc...")  
        streamer.change_mode(  
            ["NSE_EQ|INE020B01018", "NSE_EQ|INE467B01029"], "ltpc")  
      
        time.sleep(5)  
        print("Unsubscribing from instrument keys.")  
        streamer.unsubscribe(["NSE_EQ|INE020B01018", "NSE_EQ|INE467B01029"])  
      
      
    if __name__ == "__main__":  
        main()  
    
    
    
    let UpstoxClient = require("upstox-js-sdk");  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications["OAUTH2"];  
    OAUTH2.accessToken = <ACCESS_TOKEN>;  
      
    const streamer = new UpstoxClient.MarketDataStreamerV3();  
    streamer.connect();  
      
    // Initially subscribe to instrument keys in 'full' mode  
    streamer.on("open", async () => {  
      console.log("Connected. Subscribing in full mode...");  
      streamer.subscribe(["NSE_EQ|INE020B01018", "NSE_EQ|INE467B01029"], "full");  
      
      // Change mode to 'ltpc' after a short delay  
      setTimeout(() => {  
        console.log("Changing subscription mode to ltpc...");  
        streamer.changeMode(["NSE_EQ|INE020B01018", "NSE_EQ|INE467B01029"], "ltpc");  
      }, 5000); // 5-second delay  
      
      // Unsubscribe after another delay  
      setTimeout(() => {  
        console.log("Unsubscribing...");  
        streamer.unsubscribe(["NSE_EQ|INE020B01018", "NSE_EQ|INE467B01029"]);  
      }, 10000); // 10 seconds after subscription  
    });  
      
    // Setup event listeners to log messages, errors, and closure  
    streamer.on("message", (data) => {  
      const feed = data.toString("utf-8");  
      console.log("Market Update:", feed);  
    });  
    streamer.on("error", (error) => console.error("Error:", error));  
    streamer.on("close", () => console.log("Connection closed."));  
    
    
    
    public class MarketFeederTest {  
        public static void main(String[] args) throws ApiException {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth oAuth = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            oAuth.setAccessToken(<ACCESS_TOKEN>);  
      
            final MarketDataStreamerV3 marketDataStreamer = new MarketDataStreamerV3(defaultClient);  
      
            marketDataStreamer.setOnOpenListener(new OnOpenListener() {  
      
                @Override  
                public void onOpen() {  
                    System.out.println("Connection Established");  
      
                    Set<String> instrumentKeys = new HashSet<>();  
                    instrumentKeys.add("NSE_INDEX|Nifty 50");  
                    instrumentKeys.add("NSE_INDEX|Nifty Bank");  
      
                    marketDataStreamer.subscribe(instrumentKeys, Mode.FULL);  
      
                    ScheduledExecutorService scheduler = Executors.newSingleThreadScheduledExecutor();  
      
                    scheduler.schedule(() -> {  
                        marketDataStreamer.changeMode(instrumentKeys, Mode.LTPC);  
                        scheduler.shutdown();  
                    }, 5, TimeUnit.SECONDS);  
      
                    scheduler.schedule(() -> {  
                        marketDataStreamer.unsubscribe(instrumentKeys);  
                        scheduler.shutdown();  
                    }, 10, TimeUnit.SECONDS);  
      
                }  
            });  
      
            marketDataStreamer.setOnMarketUpdateListener(new OnMarketUpdateV3Listener() {  
      
                @Override  
                public void onUpdate(MarketUpdateV3 marketUpdate) {  
                    System.out.println(marketUpdate);  
                }  
            });  
      
            marketDataStreamer.connect();  
        }  
    }  
    
    
    
    use Upstox\Client\Configuration;  
    use Upstox\Client\Feeder\MarketDataStreamerV3;  
    use Revolt\EventLoop;  
    use function Amp\delay;  
      
    function on_open($streamer)  
    {  
        print("Connection Established");  
        $streamer->subscribe(["NSE_EQ|INE020B01018", "NSE_EQ|INE467B01029"], "full");  
        delay(5);  
        $streamer->changeMode(  
            ["NSE_EQ|INE020B01018", "NSE_EQ|INE467B01029"], "ltpc");  
    }  
      
    function on_message($streamer, $data)  
    {  
        print($data);  
    }  
      
      
    $config = Configuration::getDefaultConfiguration()->setAccessToken(<ACCESS_TOKEN>);  
      
    $streamer = new MarketDataStreamerV3($config);  
      
    $streamer->on("open", 'on_open');  
    $streamer->on("message", 'on_message');  
    $streamer->connect();  
      
    EventLoop::run();  
    

  


#### Disable Auto-Reconnect[â€‹](<https://upstox.com/developer/api-documentation/streamer-function/#disable-auto-reconnect> "Direct link to heading")

  * Python SDK
  * Node.js SDK
  * Java SDK
  * PHP SDK


    
    
    import upstox_client  
    import time  
      
      
    def main():  
        configuration = upstox_client.Configuration()  
        access_token = <ACCESS_TOKEN>  
        configuration.access_token = access_token  
      
        streamer = upstox_client.MarketDataStreamerV3(  
            upstox_client.ApiClient(configuration))  
      
        def on_reconnection_halt(message):  
            print(message)  
      
        streamer.on("autoReconnectStopped", on_reconnection_halt)  
      
        # Disable auto-reconnect feature  
        streamer.auto_reconnect(False)  
      
        streamer.connect()  
      
      
    if __name__ == "__main__":  
        main()  
    
    
    
    let UpstoxClient = require("upstox-js-sdk");  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications["OAUTH2"];  
    OAUTH2.accessToken = <ACCESS_TOKEN>;  
      
    const streamer = new UpstoxClient.MarketDataStreamerV3();  
    streamer.connect();  
      
    // Disable auto-reconnect feature  
    streamer.autoReconnect(false);  
      
    streamer.on("autoReconnectStopped", (data) => {  
      console.log(data);  
    });  
    
    
    
    public class MarketFeederTest {  
        public static void main(String[] args) throws ApiException {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth oAuth = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            oAuth.setAccessToken(<ACCESS_TOKEN>);  
      
            final MarketDataStreamerV3 marketDataStreamer = new MarketDataStreamerV3(defaultClient);  
      
            marketDataStreamer.setOnAutoReconnectStoppedListener(new OnAutoReconnectStoppedListener() {  
      
                @Override  
                public void onHault(String message) {  
                    System.out.println(message);  
      
                }  
            });  
      
            marketDataStreamer.autoReconnect(false);  
            marketDataStreamer.connect();  
        }  
    }  
    
    
    
    use Upstox\Client\Configuration;  
    use Upstox\Client\Feeder\MarketDataStreamerV3;  
    use Revolt\EventLoop;  
      
    function on_reconnectstopped($streamer, $data)  
    {  
        print($data);  
    }  
      
      
    $config = Configuration::getDefaultConfiguration()->setAccessToken(<ACCESS_TOKEN>);  
      
    $streamer = new MarketDataStreamerV3($config);  
      
    $streamer->on("autoReconnectStopped", 'on_reconnectstopped');  
      
    $streamer->autoReconnect(false);  
    $streamer->connect();  
      
    EventLoop::run();  
    

  


#### Modify Auto-Reconnect parameters[â€‹](<https://upstox.com/developer/api-documentation/streamer-function/#modify-auto-reconnect-parameters> "Direct link to heading")

  * Python SDK
  * Node.js SDK
  * Java SDK
  * PHP SDK


    
    
    import upstox_client  
      
      
    def main():  
        configuration = upstox_client.Configuration()  
        access_token = <ACCESS_TOKEN>  
        configuration.access_token = access_token  
      
        streamer = upstox_client.MarketDataStreamerV3(  
            upstox_client.ApiClient(configuration))  
      
        # Modify auto-reconnect parameters: enable it, set interval to 10 seconds, and retry count to 3  
        streamer.auto_reconnect(True, 10, 3)  
      
        streamer.connect()  
      
      
    if __name__ == "__main__":  
        main()  
    
    
    
    let UpstoxClient = require("upstox-js-sdk");  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications["OAUTH2"];  
    OAUTH2.accessToken = <ACCESS_TOKEN>;  
      
    const streamer = new UpstoxClient.MarketDataStreamerV3();  
    streamer.connect();  
      
    // Modify auto-reconnect parameters: enable it, set interval to 10 seconds, and retry count to 3  
    streamer.autoReconnect(true, 10, 3);  
    
    
    
    public class MarketFeederTest {  
        public static void main(String[] args) throws ApiException {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth oAuth = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            oAuth.setAccessToken(<ACCESS_TOKEN>);  
      
            final MarketDataStreamerV3 marketDataStreamer = new MarketDataStreamerV3(defaultClient);  
      
            marketDataStreamer.autoReconnect(true, 10, 3);  
            marketDataStreamer.connect();  
        }  
    }  
    
    
    
    use Upstox\Client\Configuration;  
    use Upstox\Client\Feeder\MarketDataStreamerV3;  
    use Revolt\EventLoop;  
      
    $config = Configuration::getDefaultConfiguration()->setAccessToken(<ACCESS_TOKEN>);  
      
    $streamer = new MarketDataStreamerV3($config);  
      
    $streamer->autoReconnect(true, 10, 3);  
    $streamer->connect();  
      
    EventLoop::run();  
    

  


## PortfolioDataStreamer[â€‹](<https://upstox.com/developer/api-documentation/streamer-function/#portfoliodatastreamer> "Direct link to heading")

Connecting to the Portfolio WebSocket for real-time order updates is straightforward with the PortfolioDataStreamer function. Below is a concise guide to get you started on receiving updates. For detailed API documentation, refer to the [Portfolio Stream Feed API](<https://upstox.com/developer/api-documentation/get-portfolio-stream-feed>).

  * Python SDK
  * Node.js SDK
  * Java SDK
  * PHP SDK


    
    
    import upstox_client  
      
    def on_message(message):  
        print(message)  
      
      
    def main():  
        configuration = upstox_client.Configuration()  
        access_token = <ACCESS_TOKEN>  
        configuration.access_token = access_token  
      
        streamer = upstox_client.PortfolioDataStreamer(  
            upstox_client.ApiClient(configuration))  
      
        streamer.on("message", on_message)  
      
        streamer.connect()  
      
      
    if __name__ == "__main__":  
        main()  
    
    
    
    let UpstoxClient = require("upstox-js-sdk");  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications["OAUTH2"];  
    OAUTH2.accessToken = "<ACCESS_TOKEN>";  
      
    const streamer = new UpstoxClient.PortfolioDataStreamer();  
    streamer.connect();  
      
    streamer.on("message", (data) => {  
      const feed = data.toString("utf-8");  
      console.log(feed);  
    });  
      
    
    
    
    public class PortfolioFeederTest {  
        public static void main(String[] args) throws ApiException {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth oAuth = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            oAuth.setAccessToken(<ACCESS_TOKEN>);  
      
            final PortfolioDataStreamer portfolioDataStreamer = new PortfolioDataStreamer(defaultClient);  
      
            portfolioDataStreamer.setOnOrderUpdateListener(new OnOrderUpdateListener() {  
      
                @Override  
                public void onUpdate(OrderUpdate orderUpdate) {  
                    System.out.println(orderUpdate);  
      
                }  
            });  
      
            portfolioDataStreamer.connect();  
        }  
    }  
    
    
    
    use Upstox\Client\Configuration;  
    use Upstox\Client\Feeder\PortfolioDataStreamer;  
    use Revolt\EventLoop;  
      
    function on_message($streamer, $data)  
    {  
        print($data);  
    }  
      
    $config = Configuration::getDefaultConfiguration()->setAccessToken(<ACCESS_TOKEN>);  
      
    $streamer = new PortfolioDataStreamer($config);  
      
    $streamer->on("message", 'on_message');  
    $streamer->connect();  
      
    EventLoop::run();  
    

  


Position, Holding, and GTT order updates can be enabled by setting the corresponding flag to `True` in the constructor of the `PortfolioDataStreamer` class.

  * Python SDK
  * Node.js SDK
  * Java SDK
  * PHP SDK


    
    
    import upstox_client  
    import data_token  
      
      
    def on_message(message):  
        print(message)  
      
      
    def on_open():  
        print("connection opened")  
      
      
    def main():  
        configuration = upstox_client.Configuration()  
        configuration.access_token = <ACCESS_TOKEN>  
      
        streamer = upstox_client.PortfolioDataStreamer(upstox_client.ApiClient(configuration),  
                                                      order_update=True,  
                                                      position_update=True,  
                                                      holding_update=True,  
                                                      gtt_update=True)  
      
        streamer.on("message", on_message)  
        streamer.on("open", on_open)  
        streamer.connect()  
      
      
    if __name__ == "__main__":  
        main()  
    
    
    
    let UpstoxClient = require("upstox-js-sdk");  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications["OAUTH2"];  
    OAUTH2.accessToken = "<ACCESS_TOKEN>";  
      
    // Enable all update types: orders, positions, holdings, and GTT orders  
    const streamer = new UpstoxClient.PortfolioDataStreamer(true, true, true, true);  
    streamer.connect();  
      
    streamer.on("message", (data) => {  
      const feed = data.toString("utf-8");  
      console.log(feed);  
    });  
    
    
    
    import com.upstox.feeder.HoldingUpdate;  
    import com.upstox.feeder.PositionUpdate;  
      
    public class PortfolioFeederTest {  
        public static void main(String[] args) throws ApiException {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth oAuth = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            oAuth.setAccessToken( < ACCESS_TOKEN >);  
      
            final PortfolioDataStreamer portfolioDataStreamer = new PortfolioDataStreamer(defaultClient, true, true, true, true);  
      
            portfolioDataStreamer.setOnOrderUpdateListener(new OnOrderUpdateListener() {  
      
                @Override  
                public void onUpdate(OrderUpdate orderUpdate) {  
                    System.out.println(orderUpdate);  
      
                }  
            });  
      
            portfolioDataStreamer.setOnHoldingUpdateListener(new OnHoldingUpdateListener() {  
      
                @Override  
                public void onUpdate(HoldingUpdate holdingUpdate) {  
                    System.out.println(holdingUpdate);  
      
                }  
            });  
      
            portfolioDataStreamer.setOnPositionUpdateListener(new OnPositionUpdateListener() {  
      
                @Override  
                public void onUpdate(PositionUpdate positionUpdate) {  
                    System.out.println(positionUpdate);  
      
                }  
            });  
      
            portfolioDataStreamer.setOnGttUpdateListener(new OnGttUpdateListener() {  
      
                @Override  
                public void onUpdate(GttUpdate gttUpdate) {  
                    System.out.println(gttUpdate);  
      
                }  
            });  
              
            portfolioDataStreamer.connect();  
        }  
    }  
    
    
    
    use Upstox\Client\Configuration;  
    use Upstox\Client\Feeder\PortfolioDataStreamer;  
    use Revolt\EventLoop;  
      
    function on_message($streamer,$data)  
    {  
        print("on_message= " . ($data) . "\n");  
    }  
      
    $config = Upstox\Client\Configuration::getDefaultConfiguration()->setAccessToken(<ACCESS_TOKEN>);  
    $streamer = new PortfolioDataStreamer(  
        $config,  
        orderUpdate: true,  
        holdingUpdate: true,  
        positionUpdate: true,  
        gttUpdate: true  
    );  
      
    $streamer->on("message", 'on_message');  
    $streamer->connect();  
      
    EventLoop::run();  
    

  


### Exploring the PortfolioDataStreamer Functionality[â€‹](<https://upstox.com/developer/api-documentation/streamer-function/#exploring-the-portfoliodatastreamer-functionality> "Direct link to heading")

#### Constructor Parameters[â€‹](<https://upstox.com/developer/api-documentation/streamer-function/#constructor-parameters> "Direct link to heading")

  1. **api_client** : Your API client instance
  2. **order_update** : Set to `True` to receive real-time order updates (default: `True`)
  3. **position_update** : Set to `True` to receive position updates (default: `False`)
  4. **holding_update** : Set to `True` to receive holding updates (default: `False`)
  5. **gtt_update** : Set to `True` to receive GTT order updates (default: `False`)



#### Functions[â€‹](<https://upstox.com/developer/api-documentation/streamer-function/#functions-1> "Direct link to heading")

  1. **constructor PortfolioDataStreamer()** : Initializes the streamer.
  2. **connect()** : Establishes the WebSocket connection.
  3. **disconnect()** : Ends the active WebSocket connection.
  4. **auto_reconnect(enable, interval, retryCount)** : Customizes auto-reconnect functionality. Parameters include a flag to enable/disable it, the interval(in seconds) between attempts, and the maximum number of retries.



#### Events[â€‹](<https://upstox.com/developer/api-documentation/streamer-function/#events-1> "Direct link to heading")

  * **open** : Emitted upon successful connection establishment.
  * **close** : Indicates the WebSocket connection has been closed.
  * **message** : Delivers market updates.
  * **error** : Signals an error has occurred.
  * **reconnecting** : Announced when a reconnect attempt is initiated.
  * **autoReconnectStopped** : Informs when auto-reconnect efforts have ceased after exhausting the retry count.




---
# Source: https://upstox.com/developer/api-documentation/webhook
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * Webhook



On this page

# Webhook

During the app registration process, users have the option to specify an open **POST** API as their webhook URL. On configuring the postback URL, order updates will be instantaneously transmitted to this address.

As part of the webhook flow, users can receive both:

  * **Order Updates**
  * **GTT Order Updates**



When registering an app, users can choose what type of updates they wish to receive. By default, **order updates** are enabled. To receive **GTT order updates** , users must explicitly enable this by editing their appâ€™s configuration from the [My Apps](<https://account.upstox.com/developer/apps>) page.

  


![Postback Setup](https://upstox.com/developer/api-documentation/assets/images/webhook_setup-f8c58aef835a5aa5ca37dcfd66115f2a.png)

  


The webhook endpoint:

  * Should **not require authentication**.
  * Should respond with a **2XX status**.
  * Must be open to receive **POST** requests.



The payloads sent to the webhook URL will be identical to the [updates](<https://upstox.com/developer/api-documentation/get-portfolio-stream-feed#message-structure>) received via WebSocket.

## Response structure:[â€‹](<https://upstox.com/developer/api-documentation/webhook/#response-structure> "Direct link to heading")

  * Order
  * GTT Order


    
    
    {  
      "update_type": "order",  
      "user_id": "******",  
      "userId": "******",  
      "exchange": "NSE",  
      "instrument_token": "NSE_EQ|INE848E01016",  
      "instrument_key": "NSE_EQ|INE848E01016",  
      "trading_symbol": "NHPC-EQ",  
      "tradingsymbol": "NHPC-EQ",  
      "product": "D",  
      "order_type": "MARKET",  
      "average_price": 0,  
      "price": 0,  
      "trigger_price": 0,  
      "quantity": 1,  
      "disclosed_quantity": 0,  
      "pending_quantity": 1,  
      "transaction_type": "BUY",  
      "order_ref_id": "57744821658411",  
      "exchange_order_id": "",  
      "parent_order_id": null,  
      "validity": "DAY",  
      "status": "put order req received",  
      "is_amo": false,  
      "variety": "SIMPLE",  
      "tag": null,  
      "exchange_timestamp": null,  
      "status_message": "",  
      "order_id": "240221025997024",  
      "order_request_id": "1",  
      "order_timestamp": "2024-02-21 14:40:02",  
      "filled_quantity": 0,  
      "guid": null,  
      "placed_by": "******",  
      "status_message_raw": null  
    }  
    

Notice of Deprecation

The lowercase field (`tradingsymbol`) is deprecated and will be removed in future versions. Use the snake_case versions for consistency.
    
    
    {  
      "update_type": "gtt_order",  
      "type": "MULTIPLE",  
      "exchange": "NSE_EQ",  
      "instrument_token": "NSE_EQ|INE806A01020",  
      "quantity": 1,  
      "product": "D",  
      "gtt_order_id": "GTT-CU25270200024002",  
      "expires_at": 1772216999000000,  
      "created_at": 1740641185000000,  
      "rules": [  
        {  
          "strategy": "ENTRY",  
          "status": "FAILED",  
          "trigger_type": "IMMEDIATE",  
          "trigger_price": 7.7,  
          "transaction_type": "BUY",  
          "message": "The price set should be within the circuit limits. Please modify your order price.",  
          "order_id": "250228010168535"  
        },  
        {  
          "strategy": "STOPLOSS",  
          "status": "CANCELLED",  
          "trigger_type": "IMMEDIATE",  
          "trigger_price": 7.6,  
          "transaction_type": "SELL",  
          "message": "",  
          "order_id": null  
        },  
        {  
          "strategy": "TARGET",  
          "status": "CANCELLED",  
          "trigger_type": "IMMEDIATE",  
          "trigger_price": 7.64,  
          "transaction_type": "SELL",  
          "message": "",  
          "order_id": null  
        }  
      ]  
    }  
    

  


NOTE

  * While creating app provide a webhook URL which is in your control rather than a public endpoint.




---
# Source: https://upstox.com/developer/api-documentation/appendix
---
## [description Notifier Webhook EndpointTo setup Notifier webhook endpoint during app generation process in my apps section.](<https://upstox.com/developer/api-documentation/appendix/notifier-webhook-endpoint>)## [description Postman CollectionGet started with Postman collection.](<https://upstox.com/developer/api-documentation/appendix/postman-collection>)## [description Equity Security TypeList of all the possible security type for an equity instrument.](<https://upstox.com/developer/api-documentation/appendix/equity-security-type>)## [description ExchangeList of all supported exchanges.](<https://upstox.com/developer/api-documentation/appendix/exchange>)## [description Market StatusList of all the possible market status.](<https://upstox.com/developer/api-documentation/appendix/market-status>)## [description Order StatusList of all the possible order status.](<https://upstox.com/developer/api-documentation/appendix/order-status>)## [description Field PatternList of fields inputs patterns required in API.](<https://upstox.com/developer/api-documentation/appendix/field-pattern>)## [description ChangelogChangelog](<https://upstox.com/developer/api-documentation/appendix/change-log>)## [description Example CodesExample Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)## [link TOTP Login](<https://help.upstox.com/support/solutions/articles/260346-what-is-totp-and-how-to-enable-totp-for-my-account-from-upstox-web-platform->)## [link Developer Community](<https://community.upstox.com/c/developer-api/15>)


---
# Source: https://upstox.com/developer/api-documentation/appendix/notifier-webhook-endpoint
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Appendix](<https://upstox.com/developer/api-documentation/appendix>)
  * Notifier Webhook Endpoint



On this page

## Notifier Webhook Endpoint[â€‹](<https://upstox.com/developer/api-documentation/appendix/notifier-webhook-endpoint/#notifier-webhook-endpoint> "Direct link to heading")

### What is the Notifier Webhook Endpoint?[â€‹](<https://upstox.com/developer/api-documentation/appendix/notifier-webhook-endpoint/#what-is-the-notifier-webhook-endpoint> "Direct link to heading")

A Notifier Webhook Endpoint is a designated URL used to receive automated notifications or updates asynchronously from a system. In the context of API integrations, it serves as a callback mechanism where the Upstox API service sends specific data, such as access tokens, after an event is triggered.

### Key Features of a Notifier Webhook Endpoint:[â€‹](<https://upstox.com/developer/api-documentation/appendix/notifier-webhook-endpoint/#key-features-of-a-notifier-webhook-endpoint> "Direct link to heading")

  * **Purpose:** Acts as the recipient for system-generated notifications, such as the delivery of an `access_token` etc.
  * **Configuration:** Typically specified during the app generation process.
  * **Communication:** Operates as a POST API where the Upstox API system sends the data.
  * **Response:** The endpoint should acknowledge receipt by returning either a plain string or a JSON object.
  * **Authentication:** The endpoint should not require authentication.



In summary, the Notifier Webhook Endpoint facilitates automated communication between systems, ensuring real-time data transfer without manual intervention.

### Configure Notifier Webhook Endpoint during App Generation[â€‹](<https://upstox.com/developer/api-documentation/appendix/notifier-webhook-endpoint/#configure-notifier-webhook-endpoint-during-app-generation> "Direct link to heading")

Follow these steps to set up a notifier webhook endpoint for an API app:

  1. **My Apps Section:** Visit the [Upstox My Apps](<https://account.upstox.com/developer/apps#active>) page to view the active my apps section. Here, you can manage your app and token.

![My Apps Dashboard](https://upstox.com/developer/api-documentation/assets/images/my-active-app-1-352d796e9397211319bdd3ff5486d80c.png)

  2. **Setup Notifier Webhook Endpoint:**

     * Click the **New App** button to open the new application form. This form allows you to provide details for your new app.

     * To update an existing app, Click the **Edit** button to open the application form containing existing app details.

     * In addition to the fields for the redirect URL and postback URL, a new optional field called **Notifier Webhook Endpoint** has been added.

![App Form](https://upstox.com/developer/api-documentation/assets/images/my-active-app-2-7b3c3a2f147ce4b8bed606ff1f4719f6.png)

  3. **Complete the App Form:** Fill in the required fields in the form to define your app. After entering the information, click **Continue** to create/update an app. ![Filled App Form](https://upstox.com/developer/api-documentation/assets/images/my-active-app-3-2ba0609642b5152989752256dcf0d2e1.png)




NOTE

  * We recommend that access token initiators advise their customers to configure the initiator's POST API as the notifier webhook endpoint. This ensures that initiators receive Upstox API events related to Upstox API actions asynchronously.




---
# Source: https://upstox.com/developer/api-documentation/appendix/postman-collection
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Appendix](<https://upstox.com/developer/api-documentation/appendix>)
  * Postman Collection



# Postman Collection

Kickstart your integration seamlessly with the Upstox API Service by utilizing the Postman Collection. This collection is designed to guide you through all available APIs, helping you build and grasp the concepts prior to actual integration. You can download the collection in a zip format from the following GitHub gist link:

[Download Postman Collection](<https://gist.github.com/Rahulzz/a0da2ad28a7dcc81e887f24cfdbc80a8>)

Enjoy coding!


---
# Source: https://upstox.com/developer/api-documentation/appendix/equity-security-type
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Appendix](<https://upstox.com/developer/api-documentation/appendix>)
  * Equity Security Type



# Equity Security Type

This table presents the list of possible security type an equity can be mapped to.

Value| Description  
---|---  
SME| Equity that caters to small and medium-sized enterprises for market access.  
RELIST| Equity that has been reintroduced to trading on the market after a period of absence.  
PCA| Equity subject to regulatory oversight due to financial or operational concerns.  
IPO| Equity initially offered to the public by a company entering the market.  
NORMAL| Equity that operates under standard market conditions without special classifications.


---
# Source: https://upstox.com/developer/api-documentation/appendix/exchange
---
  * [](<https://upstox.com/developer/api-documentation/>)  
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Appendix](<https://upstox.com/developer/api-documentation/appendix>)
  * Exchange



# Exchange

This table presents the list of supported exchanges.

Value| Description  
---|---  
NSE| Represents equities traded on the National Stock Exchange.  
NFO| Futures and options segment of the National Stock Exchange.  
CDS| Currency derivatives segment for forex futures and options.  
BSE| Equities listed on the Bombay Stock Exchange.  
BFO| Futures and options segment of the Bombay Stock Exchange.  
BCD| Currency derivatives trading on the Bombay Stock Exchange.  
MCX| Commodity futures trading on the Multi Commodity Exchange.  
NSCOM| Commodity derivatives trading on National Stock Exchange.


---
# Source: https://upstox.com/developer/api-documentation/appendix/market-status
---
  * [](<https://upstox.com/developer/api-documentation/>)  
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Appendix](<https://upstox.com/developer/api-documentation/appendix>)
  * Market Status



# Market Status

This table presents a comprehensive enumeration of market statuses, each signifying a distinct phase in the trading session timeline.

Value| Description  
---|---  
NORMAL_OPEN| Indicates the start of a normal trading session.  
NORMAL_CLOSE| Marks the end of a normal trading session.  
PRE_OPEN_START| Marks the beginning of the pre-market session.  
PRE_OPEN_END| Indicates the end of the pre-market session.  
CLOSING_START| Marks the start of the closing phase.  
CLOSING_END| Indicates the end of the closing phase.


---
# Source: https://upstox.com/developer/api-documentation/appendix/order-status
---
  * [](<https://upstox.com/developer/api-documentation/>)  
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Appendix](<https://upstox.com/developer/api-documentation/appendix>)
  * Order Status



# Order Status

This table provides a comprehensive list of the various statuses an order can hold when placed on exchanges. Each status indicates a specific phase in the order processing lifecycle within the trading platform.

Value| Description  
---|---  
validation pending| The order has been received and is awaiting validation.  
modify pending| A request to modify the order has been initiated and is pending.  
trigger pending| The order is awaiting a trigger to move it to the market.  
put order req received| The request to place a new order has been received.  
modify after market order req received| A modification request for an after-market order has been received.  
cancelled after market order| The after-market order has been cancelled.  
open| The order is active and open in the market.  
complete| The order has been fully executed.  
modify validation pending| A modification request has been received and is pending validation.  
after market order req received| A new after-market order request has been received.  
modified| The order has been successfully modified.  
not cancelled| The request for cancellation was not processed; the order remains active.  
cancel pending| The order is in the process of cancellation but the cancellation is not yet confirmed.  
rejected| The order was not accepted and has been rejected by the exchange.  
cancelled| The order has been successfully cancelled.  
open pending| The order has been received and is pending opening.  
not modified| The request for modification was not processed; the order remains in its original state.


---
# Source: https://upstox.com/developer/api-documentation/appendix/field-pattern
---
  * [](<https://upstox.com/developer/api-documentation/>)  
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Appendix](<https://upstox.com/developer/api-documentation/appendix>)
  * Field Pattern



# Field Pattern

This section outlines the specific regex patterns required for various field inputs, ensuring data consistency and validation. Refer to these specifications to avoid common input errors and streamline data submission processes.

  * **order_id**

    * Pattern: `^[-a-zA-Z0-9]+`
  * **symbol**

    * Pattern: `^(?:NSE_EQ|NSE_FO|NCD_FO|BSE_EQ|BSE_FO|BCD_FO|MCX_FO|NSE_COM|NSE_INDEX|BSE_INDEX|MCX_INDEX)\|[\w ]+(,(?:NSE_EQ|NSE_FO|NCD_FO|BSE_EQ|BSE_FO|BCD_FO|MCX_FO|NSE_COM|NSE_INDEX|BSE_INDEX|MCX_INDEX)\|[\w ]+)*?$`
  * **financial_year**

    * Pattern: `^(0|[1-9][0-9]*)$`
  * **instrumentKey**

    * Pattern: `^(?:^NSE_EQ|NSE_FO|NCD_FO|BSE_EQ|BSE_FO|BCD_FO|MCX_FO|NSE_COM|NSE_INDEX|BSE_INDEX|MCX_INDEX)\|[\w ]+(,(?:NSE_EQ|NSE_FO|NCD_FO|BSE_EQ|BSE_FO|BCD_FO|MCX_FO|NSE_COM|NSE_INDEX|BSE_INDEX|MCX_INDEX)\|[\w ]+)*?$`
  * **instrument_token**

    * Pattern: `^(?:^NSE_EQ|NSE_FO|NCD_FO|BSE_EQ|BSE_FO|BCD_FO|MCX_FO|NSE_COM|NSE_INDEX|BSE_INDEX|MCX_INDEX)\|[\w ]+(,(?:NSE_EQ|NSE_FO|NCD_FO|BSE_EQ|BSE_FO|BCD_FO|MCX_FO|NSE_COM|NSE_INDEX|BSE_INDEX|MCX_INDEX)\|[\w ]+)*?$`
  * **instrument_key**

    * Pattern: `^(?:^NSE_EQ|NSE_FO|NCD_FO|BSE_EQ|BSE_FO|BCD_FO|MCX_FO|NSE_COM|NSE_INDEX|BSE_INDEX|MCX_INDEX)\|[\w ]+(,(?:NSE_EQ|NSE_FO|NCD_FO|BSE_EQ|BSE_FO|BCD_FO|MCX_FO|NSE_COM|NSE_INDEX|BSE_INDEX|MCX_INDEX)\|[\w ]+)*?$`
  * **exchange**

    * Pattern: `^(\s*|(?:NSE|NFO|CDS|BSE|BFO|BCD|MCX|NSCOM)+)$`
  * **expired_instrument_key**

    * Pattern: `^(?:NSE_EQ|NSE_FO|NCD_FO|BSE_EQ|BSE_FO|BCD_FO|MCX_FO|NSE_INDEX|BSE_INDEX|MCX_INDEX|NSE_COM)\|[\w\d\-]+\|(0[1-9]|[12]\d|3[01])-(0[1-9]|1[012])-(\d{4})$`




---
# Source: https://upstox.com/developer/api-documentation/appendix/change-log
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Developer API](<https://upstox.com/developer/api-documentation/open-api>)
  * [Appendix](<https://upstox.com/developer/api-documentation/appendix>)
  * Changelog



On this page

# Changelog

## Margin Details API[â€‹](<https://upstox.com/developer/api-documentation/appendix/change-log/#margin-details-api> "Direct link to heading")

#### Effective 7 Aug 2024[â€‹](<https://upstox.com/developer/api-documentation/appendix/change-log/#effective-7-aug-2024> "Direct link to heading")

#### What's New?[â€‹](<https://upstox.com/developer/api-documentation/appendix/change-log/#whats-new> "Direct link to heading")

  1. **Margin Details API:** Unlock the potential of our Margin Details API, designed to fetch the margin requirements for any instrument. For full details, visit [Margin Details API](<https://upstox.com/developer/api-documentation/margin>).

  


## Trade History API[â€‹](<https://upstox.com/developer/api-documentation/appendix/change-log/#trade-history-api> "Direct link to heading")

#### Effective 19 Apr 2024[â€‹](<https://upstox.com/developer/api-documentation/appendix/change-log/#effective-19-apr-2024> "Direct link to heading")

#### What's New?[â€‹](<https://upstox.com/developer/api-documentation/appendix/change-log/#whats-new-1> "Direct link to heading")

  1. **Trade History API:** Explore our new Trade History API for user to access their historical trade and transaction data, allowing them to retrieve details of orders executed through Upstox platform. For full details, visit [Trade History API](<https://upstox.com/developer/api-documentation/get-historical-trades>).

  


## Positions and Holding updates over Portfolio Streamer[â€‹](<https://upstox.com/developer/api-documentation/appendix/change-log/#positions-and-holding-updates-over-portfolio-streamer> "Direct link to heading")

#### Effective 26 Feb 2024[â€‹](<https://upstox.com/developer/api-documentation/appendix/change-log/#effective-26-feb-2024> "Direct link to heading")

#### What's New?[â€‹](<https://upstox.com/developer/api-documentation/appendix/change-log/#whats-new-2> "Direct link to heading")

  1. **Portfolio Stream Feed Enhancements:** We've enhanced the Portfolio Stream Feed to now include Position and Holding updates, in addition to the existing order updates. This comprehensive feed ensures you stay informed on all aspects of your portfolio in real-time. For detailed information, visit [Portfolio Stream Feed](<https://upstox.com/developer/api-documentation/get-portfolio-stream-feed>).

  


## Option Chain APIs[â€‹](<https://upstox.com/developer/api-documentation/appendix/change-log/#option-chain-apis> "Direct link to heading")

#### Effective 19 Feb 2024[â€‹](<https://upstox.com/developer/api-documentation/appendix/change-log/#effective-19-feb-2024> "Direct link to heading")

#### What's New?[â€‹](<https://upstox.com/developer/api-documentation/appendix/change-log/#whats-new-3> "Direct link to heading")

  1. **Option Chain APIs:** Explore our new Option Chain APIs for an in-depth analysis of option chains across various securities. These APIs provide comprehensive data on option strikes, including prices, volumes, and open interest. For full details, visit [Option Chain API](<https://upstox.com/developer/api-documentation/option-chain>).

  


## Market Information, Suspended Instruments, and more[â€‹](<https://upstox.com/developer/api-documentation/appendix/change-log/#market-information-suspended-instruments-and-more> "Direct link to heading")

#### Effective 6 Feb 2024[â€‹](<https://upstox.com/developer/api-documentation/appendix/change-log/#effective-6-feb-2024> "Direct link to heading")

We're pleased to announce a range of improvements to the Upstox API, reflecting our dedication to enhancing user experience.

#### What's New?[â€‹](<https://upstox.com/developer/api-documentation/appendix/change-log/#whats-new-4> "Direct link to heading")

  1. **Market Information APIs:** We are introducing market information APIs that allow you to fetch details about holidays, timings, and market statuses. You can access these APIs by visiting [Market Information API](<https://upstox.com/developer/api-documentation/market-information>).

  2. **Instruments List in JSON Format:** In addition to the CSV format that we have been offering, you can now download the list of instruments in JSON format. This provides you with more flexibility in how you access instrument data.

  3. **Suspended Instruments:** The JSON mode for instruments now includes a list of suspended instruments. This additional information can be valuable for your use cases.

  4. **Utilize Order APIs with Extended Token:** Leverage the extended token for operations like [Get Order Details](<https://upstox.com/developer/api-documentation/get-order-details>), [Get Order History](<https://upstox.com/developer/api-documentation/get-order-history>), and [Get Order Book](<https://upstox.com/developer/api-documentation/get-order-book>). For more details, visit: [Extended Token](<https://upstox.com/developer/api-documentation/authentication#extended-token>)

  5. **SDK Sample Code:** All our APIs now come with sample code for Python SDK and Node.js SDK. These code examples will assist SDK users in seamlessly integrating our APIs into their applications.


  


## Extended Tokens, WebSocket Order Updates, and SDK Field Revisions[â€‹](<https://upstox.com/developer/api-documentation/appendix/change-log/#extended-tokens-websocket-order-updates-and-sdk-field-revisions> "Direct link to heading")

#### Effective 22 Dec 2023[â€‹](<https://upstox.com/developer/api-documentation/appendix/change-log/#effective-22-dec-2023> "Direct link to heading")

We are excited to announce several enhancements to the Upstox API, reflecting our commitment to continuous improvement and user satisfaction.

#### What's New?[â€‹](<https://upstox.com/developer/api-documentation/appendix/change-log/#whats-new-5> "Direct link to heading")

  1. **Extended Token Introduced:** We have introduced an extended token, a long-lived, read-only access token designed for multi-client applications and applicable across various API endpoints. For more details, visit: [Extended Token](<https://upstox.com/developer/api-documentation/authentication#extended-token>).

  2. **Order Updates via WebSocket:** Order updates are now provided over WebSocket from all sources. Previously, WebSocket updates were only available for orders placed via the Upstox API. We have expanded this feature to include updates for orders placed through other channels on Upstox.

  3. **SDK Updates for Deprecated Fields:** All Upstox supported SDKs have been updated. These updates include alternate properties for deprecated fields, enabling users who utilize our SDKs to transition smoothly to recommended fields. This change is critical to avoid failures post-deprecation.

  4. **'instrument_key' in Market Quotes APIs:** In our continuous effort to improve clarity, all market quotes APIs now use 'instrument_key' as the query parameter, replacing the former 'symbol' parameter. This change is part of our initiative to represent fields with more meaningful names. For more details, visit: [Full Market Quotes](<https://upstox.com/developer/api-documentation/get-full-market-quote#query-parameters>), [OHLC Quotes](<https://upstox.com/developer/api-documentation/get-market-quote-ohlc#query-parameters>), [LTP Quotes](<https://upstox.com/developer/api-documentation/ltp#query-parameters>).


  


## Upstox API Service URL and Header Parameters - Changes[â€‹](<https://upstox.com/developer/api-documentation/appendix/change-log/#upstox-api-service-url-and-header-parameters---changes> "Direct link to heading")

#### Effective 2 Dec 2023[â€‹](<https://upstox.com/developer/api-documentation/appendix/change-log/#effective-2-dec-2023> "Direct link to heading")

We are pleased to announce a significant update to the Upstox API Service. This change is part of our ongoing commitment to enhance usability and service efficiency.

#### What's Changing?[â€‹](<https://upstox.com/developer/api-documentation/appendix/change-log/#whats-changing> "Direct link to heading")

  1. **New Base URL:** The base URL for accessing the Upstox API has been updated to `https://api.upstox.com/v2`. This change is designed to streamline our API structure for more intuitive access.

  2. **Simplified Header Requirements:** Alongside the new URL, we have updated our header requirements. The 'Api Version' header, previously mandatory and set to 2.0, will no longer be required for API calls to the new URL. This modification reduces the complexity of constructing API requests.




#### Transition Period[â€‹](<https://upstox.com/developer/api-documentation/appendix/change-log/#transition-period> "Direct link to heading")

  * **Dual Endpoint Availability:** To ensure a seamless transition, both the old URL (`https://api-v2.upstox.com`) and the new URL (`https://api.upstox.com/v2`) will be operational for a transitional period. This approach ensures that your existing integrations continue to work without immediate disruption.

  * **Recommended Action:** While your existing setups using the old URL will continue to function during this phase, we encourage you to migrate to the new URL and updated header configuration as soon as convenient for you.




#### Migration Steps:[â€‹](<https://upstox.com/developer/api-documentation/appendix/change-log/#migration-steps> "Direct link to heading")

  1. **Update the Base URL:** Change the base URL in your API integrations from `https://api-v2.upstox.com` to `https://api.upstox.com/v2`.

  2. **Remove the 'Api Version' Header:** Adjust your API requests to eliminate the 'Api Version' header.




We appreciate your cooperation during this transition and thank you for your continued partnership. Our team is committed to continually enhancing our services to better meet your needs.


---
# Source: https://upstox.com/developer/api-documentation/example-code/introduction
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * Example Code



# Example Code

## [folder Expired Instruments4 items](<https://upstox.com/developer/api-documentation/example-code/expired-instruments/get-expiries>)## [folder Login3 items](<https://upstox.com/developer/api-documentation/example-code/login/get-token>)## [folder User2 items](<https://upstox.com/developer/api-documentation/example-code/user/get-profile>)## [folder Charges1 items](<https://upstox.com/developer/api-documentation/example-code/charges/brokerage-details>)## [folder Margins1 items](<https://upstox.com/developer/api-documentation/example-code/margins/margin-details>)## [folder Order15 items](<https://upstox.com/developer/api-documentation/example-code/orders/place-order>)## [folder GTT Orders4 items](<https://upstox.com/developer/api-documentation/example-code/gtt-orders/place-order>)## [folder Portfolio4 items](<https://upstox.com/developer/api-documentation/example-code/portfolio/convert-positions>)## [folder Trade Profit and Loss3 items](<https://upstox.com/developer/api-documentation/example-code/trade-profit-and-loss/get-report-meta-data>)## [folder Historical Data4 items](<https://upstox.com/developer/api-documentation/example-code/historical-data/historical-candle-data>)## [folder Market Quote6 items](<https://upstox.com/developer/api-documentation/example-code/market-quote/full-market-quotes>)## [folder Market Information3 items](<https://upstox.com/developer/api-documentation/example-code/market-information/market-holidays>)## [folder Option Chain2 items](<https://upstox.com/developer/api-documentation/example-code/option-chain/option-contracts>)


---
# Source: https://upstox.com/developer/api-documentation/example-code/expired-instruments/get-expiries
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Expired Instruments
  * Get Expiries



On this page

# Get Expiries

## Get Expiries for given instrument[â€‹](<https://upstox.com/developer/api-documentation/example-code/expired-instruments/get-expiries/#get-expiries-for-given-instrument> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/expired-instruments/expiries?instrument_key=NSE_INDEX%7CNifty%2050' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/expired-instruments/expiries?instrument_key=NSE_INDEX%7CNifty%2050'  
    headers = {  
        'Authorization': 'Bearer {your_access_token}',  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/expired-instruments/expiries?instrument_key=NSE_INDEX%7CNifty%2050';  
    const headers = {  
        'Authorization': 'Bearer {your_access_token}',  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/expired-instruments/expiries?instrument_key=NSE_INDEX%7CNifty%2050";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/expired-instruments/expiries?instrument_key=NSE_INDEX%7CNifty%2050';  
      
    // Initialize cURL session  
    $curl = curl_init();  
      
    // Set cURL options  
    curl_setopt_array($curl, [  
        CURLOPT_URL => $url,  
        CURLOPT_RETURNTRANSFER => true,  
        CURLOPT_HTTPHEADER => [  
            'Authorization: Bearer {your_access_token}',  
            'Accept: application/json'  
        ]  
    ]);  
      
    // Execute the request  
    $response = curl_exec($curl);  
    $httpCode = curl_getinfo($curl, CURLINFO_HTTP_CODE);  
      
    // Check for errors  
    if (curl_errno($curl)) {  
        echo 'Error: ' . curl_error($curl);  
    } else if ($httpCode != 200) {  
        echo 'Error: HTTP status code ' . $httpCode;  
    } else {  
        // Process the successful response  
        echo $response;  
    }  
      
    // Close cURL session  
    curl_close($curl);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    apiInstance = upstox_client.ExpiredInstrumentApi(upstox_client.ApiClient(configuration))  
    try:  
        response = apiInstance.get_expiries("NSE_INDEX|Nifty 50")  
        print(response)  
    except ApiException as e:  
        print("Exception when calling expired instrument v3 api: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let expiredInstrumentsApiInstance = new UpstoxClient.ExpiredInstrumentApi();  
    expiredInstrumentsApiInstance.getExpiries("NSE_INDEX|Nifty 50", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log(data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import com.upstox.auth.*;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
              
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            ExpiredInstrumentApi expiredInstrumentApi = new ExpiredInstrumentApi();  
            try {  
                GetExpiriesResponse getExpiriesResponse = expiredInstrumentApi.getExpiries("NSE_INDEX|Nifty 50");  
                System.out.println(getExpiriesResponse);  
            } catch (ApiException e) {  
                System.out.println("Exception when calling ExpiredInstrumentApi#getExpiredInstruments");  
                System.out.println("Status code: " + e.getCode());  
                System.out.println("Error message: " + e.getResponseBody());  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/expired-instruments/get-expired-option-contracts
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Expired Instruments
  * Get Expired Option Contracts



On this page

# Get Expired Option Contracts

## Get Expired Option Contracts for given instrument with expiry date[â€‹](<https://upstox.com/developer/api-documentation/example-code/expired-instruments/get-expired-option-contracts/#get-expired-option-contracts-for-given-instrument-with-expiry-date> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/expired-instruments/option/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-11-27' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/expired-instruments/option/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-11-27'  
    headers = {  
        'Authorization': 'Bearer {your_access_token}',  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/expired-instruments/option/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-11-27';  
    const headers = {  
        'Authorization': 'Bearer {your_access_token}',  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/expired-instruments/option/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-11-27";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/expired-instruments/option/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-11-27';  
      
    // Initialize cURL session  
    $curl = curl_init();  
      
    // Set cURL options  
    curl_setopt_array($curl, [  
        CURLOPT_URL => $url,  
        CURLOPT_RETURNTRANSFER => true,  
        CURLOPT_HTTPHEADER => [  
            'Authorization: Bearer {your_access_token}',  
            'Accept: application/json'  
        ]  
    ]);  
      
    // Execute the request  
    $response = curl_exec($curl);  
    $httpCode = curl_getinfo($curl, CURLINFO_HTTP_CODE);  
      
    // Check for errors  
    if (curl_errno($curl)) {  
        echo 'Error: ' . curl_error($curl);  
    } else if ($httpCode != 200) {  
        echo 'Error: HTTP status code ' . $httpCode;  
    } else {  
        // Process the successful response  
        echo $response;  
    }  
      
    // Close cURL session  
    curl_close($curl);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    apiInstance = upstox_client.ExpiredInstrumentApi(upstox_client.ApiClient(configuration))  
    try:  
        response = apiInstance.get_expired_option_contracts("NSE_INDEX|Nifty 50", "2025-04-30")  
        print(response)  
    except ApiException as e:  
        print("Exception when calling expired instrument api: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let expiredInstrumentsApiInstance = new UpstoxClient.ExpiredInstrumentApi();  
    expiredInstrumentsApiInstance.getExpiredOptionContracts("NSE_INDEX|Nifty 50", "2025-04-24", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log(data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import com.upstox.auth.*;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
              
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            ExpiredInstrumentApi expiredInstrumentApi = new ExpiredInstrumentApi();  
            try {  
                GetOptionContractResponse result = expiredInstrumentApi.getExpiredOptionContracts("NSE_INDEX|Nifty 50", "2025-04-24");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.out.println("Exception when calling ExpiredInstrumentApi#getExpiredOptionContracts");  
                System.out.println("Status code: " + e.getCode());  
                System.out.println("Error message: " + e.getResponseBody());  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/expired-instruments/get-expired-future-contracts
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Expired Instruments
  * Get Expired Future Contracts



On this page

# Get Expired Future Contracts

## Get Expired Future Contracts for given instrument with expiry date[â€‹](<https://upstox.com/developer/api-documentation/example-code/expired-instruments/get-expired-future-contracts/#get-expired-future-contracts-for-given-instrument-with-expiry-date> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/expired-instruments/future/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-11-27' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/expired-instruments/future/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-11-27'  
    headers = {  
        'Authorization': 'Bearer {your_access_token}',  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/expired-instruments/future/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-11-27';  
    const headers = {  
        'Authorization': 'Bearer {your_access_token}',  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/expired-instruments/future/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-11-27";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/expired-instruments/future/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-11-27';  
      
    // Initialize cURL session  
    $curl = curl_init();  
      
    // Set cURL options  
    curl_setopt_array($curl, [  
        CURLOPT_URL => $url,  
        CURLOPT_RETURNTRANSFER => true,  
        CURLOPT_HTTPHEADER => [  
            'Authorization: Bearer {your_access_token}',  
            'Accept: application/json'  
        ]  
    ]);  
      
    // Execute the request  
    $response = curl_exec($curl);  
    $httpCode = curl_getinfo($curl, CURLINFO_HTTP_CODE);  
      
    // Check for errors  
    if (curl_errno($curl)) {  
        echo 'Error: ' . curl_error($curl);  
    } else if ($httpCode != 200) {  
        echo 'Error: HTTP status code ' . $httpCode;  
    } else {  
        // Process the successful response  
        echo $response;  
    }  
      
    // Close cURL session  
    curl_close($curl);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    apiInstance = upstox_client.ExpiredInstrumentApi(upstox_client.ApiClient(configuration))  
    try:  
        response = apiInstance.get_expired_future_contracts("NSE_INDEX|Nifty 50", "2024-11-27")  
        print(response)  
    except ApiException as e:  
        print("Exception when calling expired instrument api: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let expiredInstrumentsApiInstance = new UpstoxClient.ExpiredInstrumentApi();  
    expiredInstrumentsApiInstance.getExpiredFutureContracts("NSE_INDEX|Nifty 50", "2024-11-27", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log(data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import com.upstox.auth.*;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
              
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            ExpiredInstrumentApi expiredInstrumentApi = new ExpiredInstrumentApi();  
            try {  
                GetExpiredFuturesContractResponse response = expiredInstrumentApi.getExpiredFutureContracts("NSE_INDEX|Nifty 50", "2024-11-27");  
                System.out.println(response);  
            } catch (ApiException e) {  
                System.out.println("Exception when calling ExpiredInstrumentApi#getExpiredFutureContracts");  
                System.out.println("Status code: " + e.getCode());  
                System.out.println("Error message: " + e.getResponseBody());  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/expired-instruments/get-expired-historical-candle-data
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Expired Instruments
  * Get Expired Historical Candle Data



On this page

# Get Expired Historical Candle Data

## Get Historical Candle Data for Expired Instruments[â€‹](<https://upstox.com/developer/api-documentation/example-code/expired-instruments/get-expired-historical-candle-data/#get-historical-candle-data-for-expired-instruments> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/expired-instruments/historical-candle/NSE_FO|73507|24-04-2025/30minute/2025-04-24/2020-02-24' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/expired-instruments/historical-candle/NSE_FO|73507|24-04-2025/30minute/2025-04-24/2020-02-24'  
    headers = {  
        'Authorization': 'Bearer {your_access_token}',  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/expired-instruments/historical-candle/NSE_FO|73507|24-04-2025/30minute/2025-04-24/2020-02-24';  
    const headers = {  
        'Authorization': 'Bearer {your_access_token}',  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/expired-instruments/historical-candle/NSE_FO|73507|24-04-2025/30minute/2025-04-24/2020-02-24";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/expired-instruments/historical-candle/NSE_FO|73507|24-04-2025/30minute/2025-04-24/2020-02-24';  
      
    // Initialize cURL session  
    $curl = curl_init();  
      
    // Set cURL options  
    curl_setopt_array($curl, [  
        CURLOPT_URL => $url,  
        CURLOPT_RETURNTRANSFER => true,  
        CURLOPT_HTTPHEADER => [  
            'Authorization: Bearer {your_access_token}',  
            'Accept: application/json'  
        ]  
    ]);  
      
    // Execute the request  
    $response = curl_exec($curl);  
    $httpCode = curl_getinfo($curl, CURLINFO_HTTP_CODE);  
      
    // Check for errors  
    if (curl_errno($curl)) {  
        echo 'Error: ' . curl_error($curl);  
    } else if ($httpCode != 200) {  
        echo 'Error: HTTP status code ' . $httpCode;  
    } else {  
        // Process the successful response  
        echo $response;  
    }  
      
    // Close cURL session  
    curl_close($curl);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    apiInstance = upstox_client.ExpiredInstrumentApi(upstox_client.ApiClient(configuration))  
    try:  
        response = apiInstance.get_expired_historical_candle_data("NSE_FO|54452|24-04-2025", "1minute", "2025-04-24", "2025-04-24")  
        print(response)  
    except ApiException as e:  
        print("Exception when calling expired instrument api: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let expiredInstrumentsApiInstance = new UpstoxClient.ExpiredInstrumentApi();  
    expiredInstrumentsApiInstance.getExpiredHistoricalCandleData("NSE_FO|54452|24-04-2025", "1minute", "2025-04-24", "2025-01-03", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log(data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import com.upstox.auth.*;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
              
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            ExpiredInstrumentApi expiredInstrumentApi = new ExpiredInstrumentApi();  
            try {  
                GetHistoricalCandleResponse result = expiredInstrumentApi.getExpiredHistoricalCandleData("NSE_FO|54452|24-04-2025", "30minute", "2025-06-04", "2002-06-04");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.out.println("Exception when calling ExpiredInstrumentApi#getExpiredHistoricalCandleData");  
                System.out.println("Status code: " + e.getCode());  
                System.out.println("Error message: " + e.getResponseBody());  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/login/get-token
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Login
  * Get Token



On this page

# Get Token

## Get access token using auth code[â€‹](<https://upstox.com/developer/api-documentation/example-code/login/get-token/#get-access-token-using-auth-code> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl -X 'POST' 'https://api.upstox.com/v2/login/authorization/token' \  
    -H 'accept: application/json' \  
    -H 'Content-Type: application/x-www-form-urlencoded' \  
    -d 'code={your_code}&client_id={your_client_id}&client_secret={your_client_secret}&redirect_uri={your_redirect_url}&grant_type=authorization_code'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/login/authorization/token'  
    headers = {  
        'accept': 'application/json',  
        'Content-Type': 'application/x-www-form-urlencoded',  
    }  
      
    data = {  
        'code': '{your_code}',  
        'client_id': '{your_client_id}',  
        'client_secret': '{your_client_secret}',  
        'redirect_uri': '{your_redirect_url}',  
        'grant_type': 'authorization_code',  
    }  
      
    response = requests.post(url, headers=headers, data=data)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/login/authorization/token';  
    const headers = {  
      'accept': 'application/json',  
      'Content-Type': 'application/x-www-form-urlencoded',  
    };  
      
    const data = {  
      'code': '{your_code}',  
      'client_id': '{your_client_id}',  
      'client_secret': '{your_client_secret}',  
      'redirect_uri': '{your_redirect_url}',  
      'grant_type': 'authorization_code',  
    };  
      
    axios.post(url, new URLSearchParams(data), { headers })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error.response.status);  
        console.error(error.response.data);  
      });  
    
    
    
    import java.io.BufferedReader;  
    import java.io.DataOutputStream;  
    import java.io.InputStreamReader;  
    import java.net.HttpURLConnection;  
    import java.nio.charset.StandardCharsets;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            String apiUrl = "https://api.upstox.com/v2/login/authorization/token";  
            HttpURLConnection con = (HttpURLConnection) new java.net.URL(apiUrl).openConnection();  
      
            // Set the request method  
            con.setRequestMethod("POST");  
      
            // Set the request headers  
            con.setRequestProperty("accept", "application/json");  
            con.setRequestProperty("Content-Type", "application/x-www-form-urlencoded");  
      
            // Enable input/output streams  
            con.setDoOutput(true);  
      
            // Set the request data  
            String data = "code={your_code}" +  
                    "&client_id={your_client_id}" +  
                    "&client_secret={your_client_secret}" +  
                    "&redirect_uri={your_redirect_url}" +  
                    "&grant_type=authorization_code";  
      
            // Write the request data to the output stream  
            try (DataOutputStream wr = new DataOutputStream(con.getOutputStream())) {  
                wr.write(data.getBytes(StandardCharsets.UTF_8));  
                wr.flush();  
            }  
      
            // Get the response code  
            int responseCode = con.getResponseCode();  
            System.out.println("Response Code: " + responseCode);  
      
            // Read the response  
            try (BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()))) {  
                String inputLine;  
                StringBuilder response = new StringBuilder();  
      
                while ((inputLine = in.readLine()) != null) {  
                    response.append(inputLine);  
                }  
      
                // Print the response  
                System.out.println(response.toString());  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/login/authorization/token';  
      
    $headers = [  
        'accept: application/json',  
        'Content-Type: application/x-www-form-urlencoded',  
    ];  
      
    $data = [  
        'code' => '{your_code}',  
        'client_id' => '{your_client_id}',  
        'client_secret' => '{your_client_secret}',  
        'redirect_uri' => '{your_redirect_uri}',  
        'grant_type' => 'authorization_code',  
    ];  
      
    $ch = curl_init($url);  
      
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, http_build_query($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Response Code: $httpCode\n";  
    echo "Response Data: $response\n";  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    api_instance = upstox_client.LoginApi()  
    api_version = '2.0'  
    code = '{your_auth_code}'  
    client_id = '{your_client_id}'  
    client_secret = '{your_client_secret}'  
    redirect_uri = '{your_redirect_url}'  
    grant_type = 'grant_type_example'  
      
    try:  
        # Get token API  
        api_response = api_instance.token(api_version, code=code, client_id=client_id, client_secret=client_secret,  
                                          redirect_uri=redirect_uri, grant_type=grant_type)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling LoginApi->token: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
      
    let apiInstance = new UpstoxClient.LoginApi();  
    let apiVersion = "2.0";   
    let opts = {   
      'code': "{your_auth_code}",   
      'clientId': "{your_client_secret}",   
      'clientSecret': "{your_client_secret}",   
      'redirectUri': "{your_redirect_url}",   
      'grantType': "authorization_code"   
    };  
    apiInstance.token(apiVersion, opts, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
      
    import com.upstox.ApiException;  
    import com.upstox.api.TokenResponse;  
    import io.swagger.client.api.LoginApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            LoginApi apiInstance = new LoginApi();  
            String apiVersion = "2.0";  
            String code = "{your_code}";  
            String clientId = "{your_clientId}";  
            String clientSecret = "{your_clientSecret}";  
            String redirectUri = "{your_redirect_url}";  
            String grantType = "authorization_code";  
            try {  
                TokenResponse result = apiInstance.token(apiVersion, code, clientId, clientSecret, redirectUri, grantType);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling LoginApi#token");  
                e.printStackTrace();  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/login/access-token-request
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Login
  * Access Token Request



On this page

# Access Token Request for User

## Access token request[â€‹](<https://upstox.com/developer/api-documentation/example-code/login/access-token-request/#access-token-request> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl -X 'POST' 'https://api.upstox.com/v3/login/auth/token/request/678d46e1-91ac-4b8d-925d-89c8e3015c2b' \  
    -H 'accept: application/json' \  
    -H 'Content-Type: application/json' \  
    -d '{  
      "client_secret": "{your_client_secret}"  
    }'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/login/auth/token/request/678d46e1-91ac-4b8d-925d-89c8e3015c2b'  
    headers = {  
        'accept': 'application/json',  
        'Content-Type': 'application/json',  
    }  
      
    data = {  
        'client_secret': '{your_client_secret}'  
    }  
      
    response = requests.post(url, headers=headers, data=data)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/login/auth/token/request/678d46e1-91ac-4b8d-925d-89c8e3015c2b';  
    const headers = {  
      'accept': 'application/json',  
      'Content-Type': 'application/json',  
    };  
      
    const data = {  
      'client_secret': '{your_client_secret}'  
    };  
      
    axios.post(url, new URLSearchParams(data), { headers })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error.response.status);  
        console.error(error.response.data);  
      });  
    
    
    
    import java.io.BufferedReader;  
    import java.io.DataOutputStream;  
    import java.io.InputStreamReader;  
    import java.net.HttpURLConnection;  
    import java.nio.charset.StandardCharsets;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            String apiUrl = "https://api.upstox.com/v3/login/auth/token/request/678d46e1-91ac-4b8d-925d-89c8e3015c2b";  
            HttpURLConnection con = (HttpURLConnection) new java.net.URL(apiUrl).openConnection();  
      
            // Set the request method  
            con.setRequestMethod("POST");  
      
            // Set the request headers  
            con.setRequestProperty("accept", "application/json");  
            con.setRequestProperty("Content-Type", "application/json");  
      
            // Enable input/output streams  
            con.setDoOutput(true);  
      
            // Set the request data  
            String data = "{"  
                    + "\"client_secret\": \"{your_client_secret}\""  
                    + "}";  
      
            // Write the request data to the output stream  
            try (DataOutputStream wr = new DataOutputStream(con.getOutputStream())) {  
                wr.write(data.getBytes(StandardCharsets.UTF_8));  
                wr.flush();  
            }  
      
            // Get the response code  
            int responseCode = con.getResponseCode();  
            System.out.println("Response Code: " + responseCode);  
      
            // Read the response  
            try (BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()))) {  
                String inputLine;  
                StringBuilder response = new StringBuilder();  
      
                while ((inputLine = in.readLine()) != null) {  
                    response.append(inputLine);  
                }  
      
                // Print the response  
                System.out.println(response.toString());  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/login/auth/token/request/678d46e1-91ac-4b8d-925d-89c8e3015c2b';  
      
    $headers = [  
        'accept: application/json',  
        'Content-Type: application/json',  
    ];  
      
    $data = [  
        'client_secret' => '{your_client_secret}'  
    ];  
      
    $ch = curl_init($url);  
      
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, http_build_query($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Response Code: $httpCode\n";  
    echo "Response Data: $response\n";  
      
    ?>  
    
    
    
    import upstox_client  
      
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
      
    api_instance = upstox_client.LoginApi(upstox_client.ApiClient(configuration))  
    body = upstox_client.IndieUserTokenRequest(client_secret="****")  
    try:  
        api_response = api_instance.init_token_request_for_indie_user(body,client_id="*****")  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling indie token request: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let apiInstance = new UpstoxClient.LoginApi();  
    let body = new UpstoxClient.IndieUserTokenRequest();  
    body.clientSecret = "your_client_secret"; // Replace with your actual client secret  
    apiInstance.initTokenRequestForIndieUser(body,"your_client_id",  (error, data, response) => {  
        if (error) {  
          console.error(error.response.text);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
      });  
    
    
    
    import com.upstox.ApiException;  
    import com.upstox.api.IndieUserInitTokenResponse;  
    import com.upstox.api.IndieUserTokenRequest;  
    import io.swagger.client.api.LoginApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            LoginApi loginApi = new LoginApi();  
            IndieUserTokenRequest indieUserTokenRequest = new IndieUserTokenRequest();  
            indieUserTokenRequest.setClientSecret("your_client_secret");  
            try {  
                IndieUserInitTokenResponse indieUserInitTokenResponse = loginApi.initTokenRequestForIndieUser(indieUserTokenRequest, "your_client_id");  
                System.out.println(indieUserInitTokenResponse);  
            } catch (ApiException e) {  
                System.out.println(e.getResponseBody());  
                throw new RuntimeException(e);  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/login/logout
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Login
  * Logout



# Logout

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request DELETE 'https://api.upstox.com/v2/logout' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/logout'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.delete(url, headers=headers)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/logout';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.delete(url, { headers })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error.response.status);  
        console.error(error.response.data);  
      });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/logout";  
            String accessToken = "{your_access_token}";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer " + accessToken)  
                    .DELETE()  
                    .build();  
      
            try {  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                System.out.println("Status Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/logout';  
    $accessToken = '{your_access_token}';  
      
    $headers = [  
        'Accept: application/json',  
        'Authorization: Bearer ' . $accessToken,  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'DELETE');  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
    $status_code = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Status Code: $status_code\n";  
    echo "Response: $response\n";  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.LoginApi(upstox_client.ApiClient(configuration))  
    api_version = '2.0'  
      
    try:  
        # Logout  
        api_response = api_instance.logout(api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling LoginApi->logout: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
      
    let OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = '{your_access_token}';  
      
    let apiInstance = new UpstoxClient.LoginApi();  
    let apiVersion = "2.0";  
      
    apiInstance.logout(apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.LogoutResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.LoginApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            LoginApi apiInstance = new LoginApi();  
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                LogoutResponse result = apiInstance.logout(apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling LoginApi#logout");  
                e.printStackTrace();  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/user/get-profile
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * User
  * Get Profile



On this page

# Get Profile

## Get user profile information using access token[â€‹](<https://upstox.com/developer/api-documentation/example-code/user/get-profile/#get-user-profile-information-using-access-token> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/user/profile' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/user/profile'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
    response = requests.get(url, headers=headers)  
      
    print(response.status_code)  
    print(response.json())  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/user/profile';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpHeaders;  
      
    public class Main {  
        public static void main(String[] args) {  
            try {  
                String url = "https://api.upstox.com/v2/user/profile";  
                HttpClient httpClient = HttpClient.newHttpClient();  
      
                HttpRequest request = HttpRequest.newBuilder()  
                        .uri(URI.create(url))  
                        .header("Accept", "application/json")  
                        .header("Authorization", "Bearer {your_access_token}")  
                        .build();  
      
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                System.out.println("Response Code: " + response.statusCode());  
      
                HttpHeaders headers = response.headers();  
                headers.map().forEach((k, v) -> System.out.println(k + ":" + v));  
      
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/user/profile';  
    $headers = array(  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}'  
    );  
      
    $ch = curl_init($url);  
      
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Response Code: $httpCode\n";  
    echo "Response Body: $response\n";  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    api_instance = upstox_client.UserApi(upstox_client.ApiClient(configuration))  
      
    try:  
        # Get User Fund And Margin  
        api_response = api_instance.get_profile(api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling UserApi->get_user_fund_margin: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.UserApi();  
    let apiVersion = "2.0"; // String | API Version Header  
    apiInstance.getProfile(apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetProfileResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.UserApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            UserApi apiInstance = new UserApi();  
            String apiVersion = "2.0";  
            try {  
                GetProfileResponse result = apiInstance.getProfile(apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling UserApi#getProfile");  
                e.printStackTrace();  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/user/get-fund-and-margin
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * User
  * Get Fund and Margin



On this page

# Get Fund And Margin

## Get equity and commodity funds[â€‹](<https://upstox.com/developer/api-documentation/example-code/user/get-fund-and-margin/#get-equity-and-commodity-funds> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/user/get-funds-and-margin' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/user/get-funds-and-margin'  
      
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/user/get-funds-and-margin';  
      
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/user/get-funds-and-margin";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .GET()  
                    .build();  
      
            try {  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                System.out.println("Status Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
            } catch (Exception e) {  
                System.err.println("Error: " + e.getMessage());  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/user/get-funds-and-margin';  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, array(  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader,  
    ));  
      
    $response = curl_exec($ch);  
    $status_code = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Status Code: " . $status_code . PHP_EOL;  
    echo "Response Body: " . $response . PHP_EOL;  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    api_instance = upstox_client.UserApi(upstox_client.ApiClient(configuration))  
      
    try:  
        # Get User Fund And Margin  
        api_response = api_instance.get_user_fund_margin(api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling UserApi->get_user_fund_margin: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.UserApi();  
    let apiVersion = "2.0";   
      
    apiInstance.getUserFundMargin(apiVersion, null, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetUserFundMarginResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.UserApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            UserApi apiInstance = new UserApi();  
            String apiVersion = "2.0"; // String | API Version Header  
            String segment = "";   
            try {  
                GetUserFundMarginResponse result = apiInstance.getUserFundMargin(apiVersion, segment);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling UserApi#getUserFundMargin");  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get equity funds[â€‹](<https://upstox.com/developer/api-documentation/example-code/user/get-fund-and-margin/#get-equity-funds> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/user/get-funds-and-margin?segment=SEC' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/user/get-funds-and-margin?segment=SEC'  
      
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/user/get-funds-and-margin?segment=SEC';  
      
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/user/get-funds-and-margin?segment=SEC";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .GET()  
                    .build();  
      
            try {  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                System.out.println("Status Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
            } catch (Exception e) {  
                System.err.println("Error: " + e.getMessage());  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/user/get-funds-and-margin?segment=SEC';  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, array(  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader,  
    ));  
      
    $response = curl_exec($ch);  
    $status_code = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Status Code: " . $status_code . PHP_EOL;  
    echo "Response Body: " . $response . PHP_EOL;  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    api_instance = upstox_client.UserApi(upstox_client.ApiClient(configuration))  
    segment = 'SEC'  
    try:  
        # Get User Fund And Margin  
        api_response = api_instance.get_user_fund_margin(api_version, segment=segment)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling UserApi->get_user_fund_margin: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.UserApi();  
    let apiVersion = "2.0";   
    let opts = {   
      'segment': "SEC"    
    };  
    apiInstance.getUserFundMargin(apiVersion, opts, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetUserFundMarginResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.UserApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            UserApi apiInstance = new UserApi();  
            String apiVersion = "2.0"; // String | API Version Header  
            String segment = "SEC"; // String |  
            try {  
                GetUserFundMarginResponse result = apiInstance.getUserFundMargin(apiVersion, segment);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling UserApi#getUserFundMargin");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

## Get commodity funds[â€‹](<https://upstox.com/developer/api-documentation/example-code/user/get-fund-and-margin/#get-commodity-funds> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/user/get-funds-and-margin?segment=COM' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/user/get-funds-and-margin?segment=COM'  
      
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/user/get-funds-and-margin?segment=COM';  
      
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/user/get-funds-and-margin?segment=COM";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .GET()  
                    .build();  
      
            try {  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                System.out.println("Status Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
            } catch (Exception e) {  
                System.err.println("Error: " + e.getMessage());  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/user/get-funds-and-margin?segment=COM';  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, array(  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader,  
    ));  
      
    $response = curl_exec($ch);  
    $status_code = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Status Code: " . $status_code . PHP_EOL;  
    echo "Response Body: " . $response . PHP_EOL;  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    api_instance = upstox_client.UserApi(upstox_client.ApiClient(configuration))  
    segment = 'COM'  
    try:  
        # Get User Fund And Margin  
        api_response = api_instance.get_user_fund_margin(api_version, segment=segment)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling UserApi->get_user_fund_margin: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.UserApi();  
    let apiVersion = "2.0";   
    let opts = {   
      'segment': "COM"    
    };  
    apiInstance.getUserFundMargin(apiVersion, opts, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetUserFundMarginResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.UserApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            UserApi apiInstance = new UserApi();  
            String apiVersion = "2.0"; // String | API Version Header  
            String segment = "COM"; // String |  
            try {  
                GetUserFundMarginResponse result = apiInstance.getUserFundMargin(apiVersion, segment);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling UserApi#getUserFundMargin");  
                e.printStackTrace();  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/charges/brokerage-details
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Charges
  * Brokerage Details



On this page

# Brokerage Details

## Get brokerage details for equity delivery orders[â€‹](<https://upstox.com/developer/api-documentation/example-code/charges/brokerage-details/#get-brokerage-details-for-equity-delivery-orders> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/charges/brokerage?instrument_token=NSE_EQ%7CINE669E01016&quantity=10&product=D&transaction_type=BUY&price=13.7' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'   
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/charges/brokerage'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    params = {  
        'instrument_token': 'NSE_EQ|INE669E01016',  
        'quantity': '10',  
        'product': 'D',  
        'transaction_type': 'BUY',  
        'price': '13.7'  
    }  
      
    response = requests.get(url, headers=headers, params=params)  
      
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/charges/brokerage';  
    const headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    const params = {  
        instrument_token: 'NSE_EQ|INE669E01016',  
        quantity: '10',  
        product: 'D',  
        transaction_type: 'BUY',  
        price: '13.7'  
    };  
      
    axios.get(url, { headers, params })  
        .then(response => {  
            console.log(response.data);  
        })  
        .catch(error => {  
            console.error(error.message);  
        });  
    
    
    
    import java.io.BufferedReader;  
    import java.io.InputStreamReader;  
    import java.net.HttpURLConnection;  
    import java.net.URL;  
    import java.util.Map;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            try {  
                String url = "https://api.upstox.com/v2/charges/brokerage";  
                String acceptHeader = "application/json";  
                String authorizationHeader = "Bearer {your_access_token}";  
                String instrumentToken = "NSE_EQ|INE669E01016";  
                String quantity = "10";  
                String product = "D";  
                String transactionType = "BUY";  
                String price = "13.7";  
      
                // Construct URL with parameters  
                StringBuilder urlBuilder = new StringBuilder(url);  
                urlBuilder.append("?instrument_token=").append(instrumentToken)  
                        .append("&quantity=").append(quantity)  
                        .append("&product=").append(product)  
                        .append("&transaction_type=").append(transactionType)  
                        .append("&price=").append(price);  
      
                URL obj = new URL(urlBuilder.toString());  
                HttpURLConnection connection = (HttpURLConnection) obj.openConnection();  
      
                // Set request method  
                connection.setRequestMethod("GET");  
      
                // Set request headers  
                connection.setRequestProperty("Accept", acceptHeader);  
                connection.setRequestProperty("Authorization", authorizationHeader);  
      
                // Get response code  
                int responseCode = connection.getResponseCode();  
                System.out.println("Response Code: " + responseCode);  
      
                // Read the response  
                BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));  
                String inputLine;  
                StringBuilder response = new StringBuilder();  
      
                while ((inputLine = in.readLine()) != null) {  
                    response.append(inputLine);  
                }  
                in.close();  
      
                // Print the response  
                System.out.println("Response: " + response.toString());  
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/charges/brokerage';  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $instrumentToken = 'NSE_EQ|INE669E01016';  
    $quantity = '10';  
    $product = 'D';  
    $transactionType = 'BUY';  
    $price = '13.7';  
      
    // Construct URL with parameters  
    $url .= '?instrument_token=' . urlencode($instrumentToken)  
        . '&quantity=' . urlencode($quantity)  
        . '&product=' . urlencode($product)  
        . '&transaction_type=' . urlencode($transactionType)  
        . '&price=' . urlencode($price);  
      
    $ch = curl_init($url);  
      
    // Set cURL options  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, [  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader,  
    ]);  
      
    // Execute cURL session and get the response  
    $response = curl_exec($ch);  
      
    // Check for cURL errors  
    if (curl_errno($ch)) {  
        echo 'Curl error: ' . curl_error($ch);  
    }  
      
    // Close cURL session  
    curl_close($ch);  
      
    // Print the response  
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
      
    api_instance = upstox_client.ChargeApi(upstox_client.ApiClient(configuration))  
    instrument_token = 'NSE_EQ|INE669E01016'  
    quantity = 10  
    product = 'D'  
    transaction_type = 'BUY'  
    price = 13.4   
      
      
    try:  
        # Brokerage details  
        api_response = api_instance.get_brokerage(instrument_token, quantity, product, transaction_type, price, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling ChargeApi->get_brokerage: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.ChargeApi();  
    let instrumentToken = "NSE_EQ|INE669E01016";   
    let quantity = 56;   
    let product = "D";   
    let transactionType = "BUY";   
    let price = 23.4;   
    let apiVersion = "2.0";   
      
    apiInstance.getBrokerage(instrumentToken, quantity, product, transactionType, price, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetBrokerageResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.ChargeApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            ChargeApi apiInstance = new ChargeApi();  
            String instrumentToken = "NSE_EQ|INE669E01016";  
            int quantity = 56;  
            String product = "D";  
            String transactionType = "BUY";  
            float price = 31.4F;  
            String apiVersion = "2.0";  
            try {  
                GetBrokerageResponse result = apiInstance.getBrokerage(instrumentToken, quantity, product, transactionType, price, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling ChargeApi#getBrokerage");  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get brokerage details for equity intraday orders[â€‹](<https://upstox.com/developer/api-documentation/example-code/charges/brokerage-details/#get-brokerage-details-for-equity-intraday-orders> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/charges/brokerage?instrument_token=NSE_EQ%7CINE669E01016&quantity=10&product=I&transaction_type=BUY&price=13.7' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'   
      
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/charges/brokerage'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    params = {  
        'instrument_token': 'NSE_EQ|INE669E01016',  
        'quantity': '10',  
        'product': 'I',  
        'transaction_type': 'BUY',  
        'price': '13.7'  
    }  
      
    response = requests.get(url, headers=headers, params=params)  
      
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/charges/brokerage';  
    const headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    const params = {  
        instrument_token: 'NSE_EQ|INE669E01016',  
        quantity: '10',  
        product: 'I',  
        transaction_type: 'BUY',  
        price: '13.7'  
    };  
      
    axios.get(url, { headers, params })  
        .then(response => {  
            console.log(response.data);  
        })  
        .catch(error => {  
            console.error(error.message);  
        });  
    
    
    
    import java.io.BufferedReader;  
    import java.io.InputStreamReader;  
    import java.net.HttpURLConnection;  
    import java.net.URL;  
    import java.util.Map;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            try {  
                String url = "https://api.upstox.com/v2/charges/brokerage";  
                String acceptHeader = "application/json";  
                String authorizationHeader = "Bearer {your_access_token}";  
                String instrumentToken = "NSE_EQ|INE669E01016";  
                String quantity = "10";  
                String product = "I";  
                String transactionType = "BUY";  
                String price = "13.7";  
      
                // Construct URL with parameters  
                StringBuilder urlBuilder = new StringBuilder(url);  
                urlBuilder.append("?instrument_token=").append(instrumentToken)  
                        .append("&quantity=").append(quantity)  
                        .append("&product=").append(product)  
                        .append("&transaction_type=").append(transactionType)  
                        .append("&price=").append(price);  
      
                URL obj = new URL(urlBuilder.toString());  
                HttpURLConnection connection = (HttpURLConnection) obj.openConnection();  
      
                // Set request method  
                connection.setRequestMethod("GET");  
      
                // Set request headers  
                connection.setRequestProperty("Accept", acceptHeader);  
                connection.setRequestProperty("Authorization", authorizationHeader);  
      
                // Get response code  
                int responseCode = connection.getResponseCode();  
                System.out.println("Response Code: " + responseCode);  
      
                // Read the response  
                BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));  
                String inputLine;  
                StringBuilder response = new StringBuilder();  
      
                while ((inputLine = in.readLine()) != null) {  
                    response.append(inputLine);  
                }  
                in.close();  
      
                // Print the response  
                System.out.println("Response: " + response.toString());  
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/charges/brokerage';  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $instrumentToken = 'NSE_EQ|INE669E01016';  
    $quantity = '10';  
    $product = 'I';  
    $transactionType = 'BUY';  
    $price = '13.7';  
      
    // Construct URL with parameters  
    $url .= '?instrument_token=' . urlencode($instrumentToken)  
        . '&quantity=' . urlencode($quantity)  
        . '&product=' . urlencode($product)  
        . '&transaction_type=' . urlencode($transactionType)  
        . '&price=' . urlencode($price);  
      
    $ch = curl_init($url);  
      
    // Set cURL options  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, [  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader,  
    ]);  
      
    // Execute cURL session and get the response  
    $response = curl_exec($ch);  
      
    // Check for cURL errors  
    if (curl_errno($ch)) {  
        echo 'Curl error: ' . curl_error($ch);  
    }  
      
    // Close cURL session  
    curl_close($ch);  
      
    // Print the response  
    echo $response;  
    ?>  
      
      
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
      
    api_instance = upstox_client.ChargeApi(upstox_client.ApiClient(configuration))  
    instrument_token = 'NSE_EQ|INE669E01016'  
    quantity = 10  
    product = 'I'  
    transaction_type = 'BUY'  
    price = 13.4  
      
      
    try:  
        # Brokerage details  
        api_response = api_instance.get_brokerage(instrument_token, quantity, product, transaction_type, price, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling ChargeApi->get_brokerage: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.ChargeApi();  
    let instrumentToken = "NSE_EQ|INE669E01016";   
    let quantity = 10;   
    let product = "I";   
    let transactionType = "BUY";   
    let price = 20.4;   
    let apiVersion = "2.0";   
      
    apiInstance.getBrokerage(instrumentToken, quantity, product, transactionType, price, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetBrokerageResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.ChargeApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            ChargeApi apiInstance = new ChargeApi();  
            String instrumentToken = "NSE_EQ|INE669E01016";  
            int quantity = 56;  
            String product = "I";  
            String transactionType = "BUY";  
            float price = 31.4F;  
            String apiVersion = "2.0";  
            try {  
                GetBrokerageResponse result = apiInstance.getBrokerage(instrumentToken, quantity, product, transactionType, price, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling ChargeApi#getBrokerage");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

## Get brokerage details for equity futures and options delivery orders[â€‹](<https://upstox.com/developer/api-documentation/example-code/charges/brokerage-details/#get-brokerage-details-for-equity-futures-and-options-delivery-orders> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/charges/brokerage?instrument_token=NSE_FO%7C35271&quantity=10&product=D&transaction_type=BUY&price=1400' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'   
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/charges/brokerage'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    params = {  
        'instrument_token': 'NSE_FO|35271',  
        'quantity': '10',  
        'product': 'D',  
        'transaction_type': 'BUY',  
        'price': '1400'  
    }  
      
    response = requests.get(url, headers=headers, params=params)  
      
    print(response.status_code)  
    print(response.json())  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/charges/brokerage';  
    const headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'   
    };  
      
    const params = {  
        'instrument_token': 'NSE_FO|35271',  
        'quantity': '10',  
        'product': 'D',  
        'transaction_type': 'BUY',  
        'price': '1400'  
    };  
      
    axios.get(url, { headers, params })  
        .then(response => {  
            console.log(response.status);  
            console.log(response.data);  
        })  
        .catch(error => {  
            console.error(error.response.status);  
            console.error(error.response.data);  
        });  
    
    
    
    import java.io.BufferedReader;  
    import java.io.IOException;  
    import java.io.InputStreamReader;  
    import java.net.HttpURLConnection;  
    import java.net.URL;  
    import java.util.Map;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            try {  
                String url = "https://api.upstox.com/v2/charges/brokerage";  
                String accessToken = "{your_access_token}"; // Replace {your_access_token} with your actual access token  
      
                // Construct URL with parameters  
                String params = "instrument_token=NSE_FO%7C35271&quantity=10&product=D&transaction_type=BUY&price=1400";  
                URL apiUrl = new URL(url + "?" + params);  
      
                // Open connection  
                HttpURLConnection connection = (HttpURLConnection) apiUrl.openConnection();  
      
                // Set request method  
                connection.setRequestMethod("GET");  
      
                connection.setRequestProperty("Accept", "application/json");  
                connection.setRequestProperty("Authorization", "Bearer " + accessToken);  
      
                // Get response code  
                int responseCode = connection.getResponseCode();  
                System.out.println("Response Code: " + responseCode);  
      
                // Read response  
                BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));  
                String inputLine;  
                StringBuilder response = new StringBuilder();  
      
                while ((inputLine = in.readLine()) != null) {  
                    response.append(inputLine);  
                }  
                in.close();  
      
                // Print response  
                System.out.println("Response: " + response.toString());  
      
            } catch (IOException e) {  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
    $url = 'https://api.upstox.com/v2/charges/brokerage';  
    $accessToken = '{your_access_token}'; // Replace {your_access_token} with your actual access token  
      
    // Construct URL with parameters  
    $params = http_build_query([  
        'instrument_token' => 'NSE_FO|35271',  
        'quantity' => '10',  
        'product' => 'D',  
        'transaction_type' => 'BUY',  
        'price' => '1400',  
    ]);  
      
    $fullUrl = $url . '?' . $params;  
      
    // Set headers  
    $headers = [  
        'Accept: application/json',  
        'Authorization: Bearer ' . $accessToken,  
    ];  
      
    // Initialize cURL session  
    $ch = curl_init($fullUrl);  
      
    // Set cURL options  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    // Execute cURL session and get the response  
    $response = curl_exec($ch);  
      
    // Get HTTP response code  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    // Close cURL session  
    curl_close($ch);  
      
    // Print response code and body  
    echo "Response Code: $httpCode\n";  
    echo "Response: $response\n";  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
      
    api_instance = upstox_client.ChargeApi(upstox_client.ApiClient(configuration))  
    instrument_token = 'NSE_FO|35271'  
    quantity = 10  
    product = 'D'  
    transaction_type = 'BUY'  
    price = 1333.4  
      
      
    try:  
        # Brokerage details  
        api_response = api_instance.get_brokerage(instrument_token, quantity, product, transaction_type, price, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling ChargeApi->get_brokerage: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.ChargeApi();  
    let instrumentToken = "NSE_FO|35271";   
    let quantity = 10;   
    let product = "D";   
    let transactionType = "BUY";   
    let price = 2000.4;   
    let apiVersion = "2.0";   
      
    apiInstance.getBrokerage(instrumentToken, quantity, product, transactionType, price, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetBrokerageResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.ChargeApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            ChargeApi apiInstance = new ChargeApi();  
            String instrumentToken = "NSE_FO|35271";  
            int quantity = 5;  
            String product = "D";  
            String transactionType = "BUY";  
            float price = 1331.4F;  
            String apiVersion = "2.0";  
            try {  
                GetBrokerageResponse result = apiInstance.getBrokerage(instrumentToken, quantity, product, transactionType, price, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling ChargeApi#getBrokerage");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

## Get brokerage details for equity futures and options intraday orders[â€‹](<https://upstox.com/developer/api-documentation/example-code/charges/brokerage-details/#get-brokerage-details-for-equity-futures-and-options-intraday-orders> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/charges/brokerage?instrument_token=NSE_FO%7C35271&quantity=10&product=I&transaction_type=BUY&price=1400' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'   
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/charges/brokerage'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    params = {  
        'instrument_token': 'NSE_FO|35271',  
        'quantity': '10',  
        'product': 'I',  
        'transaction_type': 'BUY',  
        'price': '1400'  
    }  
      
    response = requests.get(url, headers=headers, params=params)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/charges/brokerage';  
    const headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'   
    };  
      
    const params = {  
        'instrument_token': 'NSE_FO|35271',  
        'quantity': '10',  
        'product': 'I',  
        'transaction_type': 'BUY',  
        'price': '1400'  
    };  
      
    axios.get(url, { headers, params })  
        .then(response => {  
            console.log(response.status);  
            console.log(response.data);  
        })  
        .catch(error => {  
            console.error(error.response.status);  
            console.error(error.response.data);  
        });  
      
    
    
    
    import java.io.BufferedReader;  
    import java.io.IOException;  
    import java.io.InputStreamReader;  
    import java.net.HttpURLConnection;  
    import java.net.URL;  
    import java.util.Map;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            try {  
                String url = "https://api.upstox.com/v2/charges/brokerage";  
                String accessToken = "{your_access_token}"; // Replace {your_access_token} with your actual access token  
      
                // Construct URL with parameters  
                String params = "instrument_token=NSE_FO%7C35271&quantity=10&product=I&transaction_type=BUY&price=1400";  
                URL apiUrl = new URL(url + "?" + params);  
      
                // Open connection  
                HttpURLConnection connection = (HttpURLConnection) apiUrl.openConnection();  
      
                // Set request method  
                connection.setRequestMethod("GET");  
      
                // Set headers  
                connection.setRequestProperty("Accept", "application/json");  
                connection.setRequestProperty("Authorization", "Bearer " + accessToken);  
      
                // Get response code  
                int responseCode = connection.getResponseCode();  
                System.out.println("Response Code: " + responseCode);  
      
                // Read response  
                BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));  
                String inputLine;  
                StringBuilder response = new StringBuilder();  
      
                while ((inputLine = in.readLine()) != null) {  
                    response.append(inputLine);  
                }  
                in.close();  
      
                // Print response  
                System.out.println("Response: " + response.toString());  
      
            } catch (IOException e) {  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/charges/brokerage';  
    $accessToken = '{your_access_token}'; // Replace {your_access_token} with your actual access token  
      
    // Construct URL with parameters  
    $params = http_build_query([  
        'instrument_token' => 'NSE_FO|35271',  
        'quantity' => '10',  
        'product' => 'I',  
        'transaction_type' => 'BUY',  
        'price' => '1400',  
    ]);  
      
    $fullUrl = $url . '?' . $params;  
      
    // Set headers  
    $headers = [  
        'Accept: application/json',  
        'Authorization: Bearer ' . $accessToken,  
    ];  
      
    // Initialize cURL session  
    $ch = curl_init($fullUrl);  
      
    // Set cURL options  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    // Execute cURL session and get the response  
    $response = curl_exec($ch);  
      
    // Get HTTP response code  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    // Close cURL session  
    curl_close($ch);  
      
    // Print response code and body  
    echo "Response Code: $httpCode\n";  
    echo "Response: $response\n";  
      
    ?>  
      
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
      
    api_instance = upstox_client.ChargeApi(upstox_client.ApiClient(configuration))  
    instrument_token = 'NSE_FO|35271'  
    quantity = 10  
    product = 'I'  
    transaction_type = 'BUY'  
    price = 1333.4  
      
      
    try:  
        # Brokerage details  
        api_response = api_instance.get_brokerage(instrument_token, quantity, product, transaction_type, price, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling ChargeApi->get_brokerage: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.ChargeApi();  
    let instrumentToken = "NSE_FO|35271";   
    let quantity = 10;   
    let product = "I";   
    let transactionType = "BUY";   
    let price = 2000.4;   
    let apiVersion = "2.0";   
      
    apiInstance.getBrokerage(instrumentToken, quantity, product, transactionType, price, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetBrokerageResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.ChargeApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            ChargeApi apiInstance = new ChargeApi();  
            String instrumentToken = "NSE_FO|35271";  
            int quantity = 5;  
            String product = "I";  
            String transactionType = "BUY";  
            float price = 1331.4F;  
            String apiVersion = "2.0";  
            try {  
                GetBrokerageResponse result = apiInstance.getBrokerage(instrumentToken, quantity, product, transactionType, price, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling ChargeApi#getBrokerage");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/margins/margin-details
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Margins
  * Margin Details



On this page

# Margin Details

## Get margin details for equity delivery orders[â€‹](<https://upstox.com/developer/api-documentation/example-code/margins/margin-details/#get-margin-details-for-equity-delivery-orders> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl -X 'POST' \  
      'https://api.upstox.com/v2/charges/margin' \  
      -H 'accept: application/json' \  
      -H 'Authorization: Bearer {your_access_token}' \  
      -H 'Content-Type: application/json' \  
      -d '{  
      "instruments": [  
        {  
          "instrument_key": "NSE_EQ|INE669E01016",  
          "quantity": 1,  
          "transaction_type": "BUY",  
          "product": "D"  
            
        }  
      ]  
    }'  
    
    
    
    import requests  
      
    url = "https://api.upstox.com/v2/charges/margin"  
    headers = {  
        "accept": "application/json",  
        "Authorization": "Bearer {your_access_token}",  
        "Content-Type": "application/json"  
    }  
    data = {  
        "instruments": [  
            {  
                "instrument_key": "NSE_EQ|INE669E01016",  
                "quantity": 1,  
                "transaction_type": "BUY",  
                "product": "D"  
            }  
        ]  
    }  
      
    response = requests.post(url, headers=headers, json=data)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/charges/margin';  
    const headers = {  
      'accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
      'Content-Type': 'application/json'  
    };  
    const data = {  
      instruments: [  
        {  
          instrument_key: 'NSE_EQ|INE669E01016',  
          quantity: 1,  
          transaction_type: 'BUY',  
          product: 'D'  
        }  
      ]  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpRequest.BodyPublishers;  
    import java.net.http.HttpResponse.BodyHandlers;  
      
    public class Main {  
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/charges/margin";  
            String token = "Bearer {your_access_token}";  
            String json = """  
                {  
                  "instruments": [  
                    {  
                      "instrument_key": "NSE_EQ|INE669E01016",  
                      "quantity": 1,  
                      "transaction_type": "BUY",  
                      "product": "D"  
                    }  
                  ]  
                }  
            """;  
      
            HttpClient client = HttpClient.newHttpClient();  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("accept", "application/json")  
                    .header("Authorization", token)  
                    .header("Content-Type", "application/json")  
                    .POST(BodyPublishers.ofString(json))  
                    .build();  
      
            try {  
                HttpResponse<String> response = client.send(request, BodyHandlers.ofString());  
                System.out.println("Status code: " + response.statusCode());  
                System.out.println("Response body: " + response.body());  
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/charges/margin';  
    $token = 'Bearer {your_access_token}';  
    $data = [  
        "instruments" => [  
            [  
                "instrument_key" => "NSE_EQ|INE669E01016",  
                "quantity" => 1,  
                "transaction_type" => "BUY",  
                "product" => "D"  
            ]  
        ]  
    ];  
      
    $headers = [  
        'Accept: application/json',  
        'Authorization: ' . $token,  
        'Content-Type: application/json'  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
    $httpStatusCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Status code: " . $httpStatusCode . PHP_EOL;  
    echo "Response body: " . $response . PHP_EOL;  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.ChargeApi(upstox_client.ApiClient(configuration))  
    instruments = [upstox_client.Instrument(instrument_key="NSE_EQ|INE528G01035",quantity=5,product="D",transaction_type="BUY")]  
    margin_body = upstox_client.MarginRequest(instruments)  
    try:  
        api_response = api_instance.post_margin(margin_body)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling Margin API: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.ChargeApi();  
      
    let instruments =[new UpstoxClient.Instrument("NSE_EQ|INE669E01016",1,"D","BUY")];  
      
    let postMarginRequest = new UpstoxClient.MarginRequest(instruments)  
      
    apiInstance.postMargin(postMarginRequest, (error, data, response) => {  
        if (error) {  
            console.error(error.response.text);  
        } else {  
          console.log(data);  
        }  
      });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.ChargeApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            ChargeApi api = new ChargeApi();  
            MarginRequest marginRequest = new MarginRequest();  
            Instrument instrument = new Instrument();  
            instrument.setInstrumentKey("NSE_EQ|INE669E01016");  
            instrument.setQuantity(1);  
            instrument.setProduct("D");  
            instrument.setTransactionType("BUY");  
            marginRequest.addInstrumentsItem(instrument);  
            try {  
                PostMarginResponse response = api.postMargin(marginRequest);  
                System.out.println(response);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling Margin API " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get margin details for future delivery orders[â€‹](<https://upstox.com/developer/api-documentation/example-code/margins/margin-details/#get-margin-details-for-future-delivery-orders> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl -X 'POST' \  
      'https://api.upstox.com/v2/charges/margin' \  
      -H 'accept: application/json' \  
      -H 'Authorization: Bearer {your_access_token}' \  
      -H 'Content-Type: application/json' \  
      -d '{  
      "instruments": [  
        {  
          "instrument_key": "NSE_FO|35000",  
          "quantity": 1,  
          "transaction_type": "BUY",  
          "product": "D"  
            
        }  
      ]  
    }'  
    
    
    
    import requests  
      
    url = "https://api.upstox.com/v2/charges/margin"  
    headers = {  
        "accept": "application/json",  
        "Authorization": "Bearer {your_access_token}",  
        "Content-Type": "application/json"  
    }  
    data = {  
        "instruments": [  
            {  
                "instrument_key": "NSE_FO|35000",  
                "quantity": 1,  
                "transaction_type": "BUY",  
                "product": "D"  
            }  
        ]  
    }  
      
    response = requests.post(url, headers=headers, json=data)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/charges/margin';  
    const headers = {  
      'accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
      'Content-Type': 'application/json'  
    };  
    const data = {  
      instruments: [  
        {  
          instrument_key: 'NSE_FO|35000',  
          quantity: 1,  
          transaction_type: 'BUY',  
          product: 'D'  
        }  
      ]  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpRequest.BodyPublishers;  
    import java.net.http.HttpResponse.BodyHandlers;  
      
    public class Main {  
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/charges/margin";  
            String token = "Bearer {your_access_token}";  
            String json = """  
                {  
                  "instruments": [  
                    {  
                      "instrument_key": "NSE_FO|35000",  
                      "quantity": 1,  
                      "transaction_type": "BUY",  
                      "product": "D"  
                    }  
                  ]  
                }  
            """;  
      
            HttpClient client = HttpClient.newHttpClient();  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("accept", "application/json")  
                    .header("Authorization", token)  
                    .header("Content-Type", "application/json")  
                    .POST(BodyPublishers.ofString(json))  
                    .build();  
      
            try {  
                HttpResponse<String> response = client.send(request, BodyHandlers.ofString());  
                System.out.println("Status code: " + response.statusCode());  
                System.out.println("Response body: " + response.body());  
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/charges/margin';  
    $token = 'Bearer {your_access_token}';  
    $data = [  
        "instruments" => [  
            [  
                "instrument_key" => "NSE_FO|35000",  
                "quantity" => 1,  
                "transaction_type" => "BUY",  
                "product" => "D"  
            ]  
        ]  
    ];  
      
    $headers = [  
        'Accept: application/json',  
        'Authorization: ' . $token,  
        'Content-Type: application/json'  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
    $httpStatusCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Status code: " . $httpStatusCode . PHP_EOL;  
    echo "Response body: " . $response . PHP_EOL;  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.ChargeApi(upstox_client.ApiClient(configuration))  
    instruments = [upstox_client.Instrument(instrument_key="NSE_FO|35000",quantity=5,product="D",transaction_type="BUY")]  
    margin_body = upstox_client.MarginRequest(instruments)  
    try:  
        api_response = api_instance.post_margin(margin_body)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling Margin API: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.ChargeApi();  
      
    let instruments =[new UpstoxClient.Instrument("NSE_FO|35000",1,"D","BUY")];  
      
    let postMarginRequest = new UpstoxClient.MarginRequest(instruments)  
      
    apiInstance.postMargin(postMarginRequest, (error, data, response) => {  
        if (error) {  
            console.error(error.response.text);  
        } else {  
          console.log(data);  
        }  
      });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.ChargeApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            ChargeApi api = new ChargeApi();  
            MarginRequest marginRequest = new MarginRequest();  
            Instrument instrument = new Instrument();  
            instrument.setInstrumentKey("NSE_FO|35000");  
            instrument.setQuantity(1);  
            instrument.setProduct("D");  
            instrument.setTransactionType("BUY");  
            marginRequest.addInstrumentsItem(instrument);  
            try {  
                PostMarginResponse response = api.postMargin(marginRequest);  
                System.out.println(response);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling Margin API " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get margin details for option delivery orders[â€‹](<https://upstox.com/developer/api-documentation/example-code/margins/margin-details/#get-margin-details-for-option-delivery-orders> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl -X 'POST' \  
      'https://api.upstox.com/v2/charges/margin' \  
      -H 'accept: application/json' \  
      -H 'Authorization: Bearer {your_access_token}' \  
      -H 'Content-Type: application/json' \  
      -d '{  
      "instruments": [  
        {  
          "instrument_key": "NSE_FO|54524",  
          "quantity": 1,  
          "transaction_type": "BUY",  
          "product": "D"  
            
        }  
      ]  
    }'  
    
    
    
    import requests  
      
    url = "https://api.upstox.com/v2/charges/margin"  
    headers = {  
        "accept": "application/json",  
        "Authorization": "Bearer {your_access_token}",  
        "Content-Type": "application/json"  
    }  
    data = {  
        "instruments": [  
            {  
                "instrument_key": "NSE_FO|54524",  
                "quantity": 1,  
                "transaction_type": "BUY",  
                "product": "D"  
            }  
        ]  
    }  
      
    response = requests.post(url, headers=headers, json=data)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/charges/margin';  
    const headers = {  
      'accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
      'Content-Type': 'application/json'  
    };  
    const data = {  
      instruments: [  
        {  
          instrument_key: 'NSE_FO|54524',  
          quantity: 1,  
          transaction_type: 'BUY',  
          product: 'D'  
        }  
      ]  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpRequest.BodyPublishers;  
    import java.net.http.HttpResponse.BodyHandlers;  
      
    public class Main {  
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/charges/margin";  
            String token = "Bearer {your_access_token}";  
            String json = """  
                {  
                  "instruments": [  
                    {  
                      "instrument_key": "NSE_FO|54524",  
                      "quantity": 1,  
                      "transaction_type": "BUY",  
                      "product": "D"  
                    }  
                  ]  
                }  
            """;  
      
            HttpClient client = HttpClient.newHttpClient();  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("accept", "application/json")  
                    .header("Authorization", token)  
                    .header("Content-Type", "application/json")  
                    .POST(BodyPublishers.ofString(json))  
                    .build();  
      
            try {  
                HttpResponse<String> response = client.send(request, BodyHandlers.ofString());  
                System.out.println("Status code: " + response.statusCode());  
                System.out.println("Response body: " + response.body());  
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/charges/margin';  
    $token = 'Bearer {your_access_token}';  
    $data = [  
        "instruments" => [  
            [  
                "instrument_key" => "NSE_FO|54524",  
                "quantity" => 1,  
                "transaction_type" => "BUY",  
                "product" => "D"  
            ]  
        ]  
    ];  
      
    $headers = [  
        'Accept: application/json',  
        'Authorization: ' . $token,  
        'Content-Type: application/json'  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
    $httpStatusCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Status code: " . $httpStatusCode . PHP_EOL;  
    echo "Response body: " . $response . PHP_EOL;  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.ChargeApi(upstox_client.ApiClient(configuration))  
    instruments = [upstox_client.Instrument(instrument_key="NSE_FO|54524",quantity=5,product="D",transaction_type="BUY")]  
    margin_body = upstox_client.MarginRequest(instruments)  
    try:  
        api_response = api_instance.post_margin(margin_body)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling Margin API: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.ChargeApi();  
      
    let instruments =[new UpstoxClient.Instrument("NSE_FO|54524",1,"D","BUY")];  
      
    let postMarginRequest = new UpstoxClient.MarginRequest(instruments)  
      
    apiInstance.postMargin(postMarginRequest, (error, data, response) => {  
        if (error) {  
            console.error(error.response.text);  
        } else {  
          console.log(data);  
        }  
      });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.ChargeApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            ChargeApi api = new ChargeApi();  
            MarginRequest marginRequest = new MarginRequest();  
            Instrument instrument = new Instrument();  
            instrument.setInstrumentKey("NSE_FO|54524");  
            instrument.setQuantity(1);  
            instrument.setProduct("D");  
            instrument.setTransactionType("BUY");  
            marginRequest.addInstrumentsItem(instrument);  
            try {  
                PostMarginResponse response = api.postMargin(marginRequest);  
                System.out.println(response);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling Margin API " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get margin details for MCX delivery orders[â€‹](<https://upstox.com/developer/api-documentation/example-code/margins/margin-details/#get-margin-details-for-mcx-delivery-orders> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl -X 'POST' \  
      'https://api.upstox.com/v2/charges/margin' \  
      -H 'accept: application/json' \  
      -H 'Authorization: Bearer {your_access_token}' \  
      -H 'Content-Type: application/json' \  
      -d '{  
      "instruments": [  
        {  
          "instrument_key": "MCX_FO|435356",  
          "quantity": 1,  
          "transaction_type": "BUY",  
          "product": "D"  
            
        }  
      ]  
    }'  
    
    
    
    import requests  
      
    url = "https://api.upstox.com/v2/charges/margin"  
    headers = {  
        "accept": "application/json",  
        "Authorization": "Bearer {your_access_token}",  
        "Content-Type": "application/json"  
    }  
    data = {  
        "instruments": [  
            {  
                "instrument_key": "MCX_FO|435356",  
                "quantity": 1,  
                "transaction_type": "BUY",  
                "product": "D"  
            }  
        ]  
    }  
      
    response = requests.post(url, headers=headers, json=data)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/charges/margin';  
    const headers = {  
      'accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
      'Content-Type': 'application/json'  
    };  
    const data = {  
      instruments: [  
        {  
          instrument_key: 'MCX_FO|435356',  
          quantity: 1,  
          transaction_type: 'BUY',  
          product: 'D'  
        }  
      ]  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpRequest.BodyPublishers;  
    import java.net.http.HttpResponse.BodyHandlers;  
      
    public class Main {  
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/charges/margin";  
            String token = "Bearer {your_access_token}";  
            String json = """  
                {  
                  "instruments": [  
                    {  
                      "instrument_key": "MCX_FO|435356",  
                      "quantity": 1,  
                      "transaction_type": "BUY",  
                      "product": "D"  
                    }  
                  ]  
                }  
            """;  
      
            HttpClient client = HttpClient.newHttpClient();  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("accept", "application/json")  
                    .header("Authorization", token)  
                    .header("Content-Type", "application/json")  
                    .POST(BodyPublishers.ofString(json))  
                    .build();  
      
            try {  
                HttpResponse<String> response = client.send(request, BodyHandlers.ofString());  
                System.out.println("Status code: " + response.statusCode());  
                System.out.println("Response body: " + response.body());  
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/charges/margin';  
    $token = 'Bearer {your_access_token}';  
    $data = [  
        "instruments" => [  
            [  
                "instrument_key" => "MCX_FO|435356",  
                "quantity" => 1,  
                "transaction_type" => "BUY",  
                "product" => "D"  
            ]  
        ]  
    ];  
      
    $headers = [  
        'Accept: application/json',  
        'Authorization: ' . $token,  
        'Content-Type: application/json'  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
    $httpStatusCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Status code: " . $httpStatusCode . PHP_EOL;  
    echo "Response body: " . $response . PHP_EOL;  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.ChargeApi(upstox_client.ApiClient(configuration))  
    instruments = [upstox_client.Instrument(instrument_key="MCX_FO|435356",quantity=5,product="D",transaction_type="BUY")]  
    margin_body = upstox_client.MarginRequest(instruments)  
    try:  
        api_response = api_instance.post_margin(margin_body)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling Margin API: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.ChargeApi();  
      
    let instruments =[new UpstoxClient.Instrument("MCX_FO|435356",1,"D","BUY")];  
      
    let postMarginRequest = new UpstoxClient.MarginRequest(instruments)  
      
    apiInstance.postMargin(postMarginRequest, (error, data, response) => {  
        if (error) {  
            console.error(error.response.text);  
        } else {  
          console.log(data);  
        }  
      });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.ChargeApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            ChargeApi api = new ChargeApi();  
            MarginRequest marginRequest = new MarginRequest();  
            Instrument instrument = new Instrument();  
            instrument.setInstrumentKey("MCX_FO|435356");  
            instrument.setQuantity(1);  
            instrument.setProduct("D");  
            instrument.setTransactionType("BUY");  
            marginRequest.addInstrumentsItem(instrument);  
            try {  
                PostMarginResponse response = api.postMargin(marginRequest);  
                System.out.println(response);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling Margin API " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get margin details for currency delivery orders[â€‹](<https://upstox.com/developer/api-documentation/example-code/margins/margin-details/#get-margin-details-for-currency-delivery-orders> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl -X 'POST' \  
      'https://api.upstox.com/v2/charges/margin' \  
      -H 'accept: application/json' \  
      -H 'Authorization: Bearer {your_access_token}' \  
      -H 'Content-Type: application/json' \  
      -d '{  
      "instruments": [  
        {  
          "instrument_key": "NCD_FO|15758",  
          "quantity": 1,  
          "transaction_type": "BUY",  
          "product": "D"  
            
        }  
      ]  
    }'  
    
    
    
    import requests  
      
    url = "https://api.upstox.com/v2/charges/margin"  
    headers = {  
        "accept": "application/json",  
        "Authorization": "Bearer {your_access_token}",  
        "Content-Type": "application/json"  
    }  
    data = {  
        "instruments": [  
            {  
                "instrument_key": "NCD_FO|15758",  
                "quantity": 1,  
                "transaction_type": "BUY",  
                "product": "D"  
            }  
        ]  
    }  
      
    response = requests.post(url, headers=headers, json=data)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/charges/margin';  
    const headers = {  
      'accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
      'Content-Type': 'application/json'  
    };  
    const data = {  
      instruments: [  
        {  
          instrument_key: 'NCD_FO|15758',  
          quantity: 1,  
          transaction_type: 'BUY',  
          product: 'D'  
        }  
      ]  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpRequest.BodyPublishers;  
    import java.net.http.HttpResponse.BodyHandlers;  
      
    public class Main {  
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/charges/margin";  
            String token = "Bearer {your_access_token}";  
            String json = """  
                {  
                  "instruments": [  
                    {  
                      "instrument_key": "NCD_FO|15758",  
                      "quantity": 1,  
                      "transaction_type": "BUY",  
                      "product": "D"  
                    }  
                  ]  
                }  
            """;  
      
            HttpClient client = HttpClient.newHttpClient();  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("accept", "application/json")  
                    .header("Authorization", token)  
                    .header("Content-Type", "application/json")  
                    .POST(BodyPublishers.ofString(json))  
                    .build();  
      
            try {  
                HttpResponse<String> response = client.send(request, BodyHandlers.ofString());  
                System.out.println("Status code: " + response.statusCode());  
                System.out.println("Response body: " + response.body());  
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/charges/margin';  
    $token = 'Bearer {your_access_token}';  
    $data = [  
        "instruments" => [  
            [  
                "instrument_key" => "NCD_FO|15758",  
                "quantity" => 1,  
                "transaction_type" => "BUY",  
                "product" => "D"  
            ]  
        ]  
    ];  
      
    $headers = [  
        'Accept: application/json',  
        'Authorization: ' . $token,  
        'Content-Type: application/json'  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
    $httpStatusCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Status code: " . $httpStatusCode . PHP_EOL;  
    echo "Response body: " . $response . PHP_EOL;  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.ChargeApi(upstox_client.ApiClient(configuration))  
    instruments = [upstox_client.Instrument(instrument_key="NCD_FO|15758",quantity=5,product="D",transaction_type="BUY")]  
    margin_body = upstox_client.MarginRequest(instruments)  
    try:  
        api_response = api_instance.post_margin(margin_body)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling Margin API: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.ChargeApi();  
      
    let instruments =[new UpstoxClient.Instrument("NCD_FO|15758",1,"D","BUY")];  
      
    let postMarginRequest = new UpstoxClient.MarginRequest(instruments)  
      
    apiInstance.postMargin(postMarginRequest, (error, data, response) => {  
        if (error) {  
            console.error(error.response.text);  
        } else {  
          console.log(data);  
        }  
      });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.ChargeApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            ChargeApi api = new ChargeApi();  
            MarginRequest marginRequest = new MarginRequest();  
            Instrument instrument = new Instrument();  
            instrument.setInstrumentKey("NCD_FO|15758");  
            instrument.setQuantity(1);  
            instrument.setProduct("D");  
            instrument.setTransactionType("BUY");  
            marginRequest.addInstrumentsItem(instrument);  
            try {  
                PostMarginResponse response = api.postMargin(marginRequest);  
                System.out.println(response);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling Margin API " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/orders/place-order
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Order
  * Place Order



On this page

# Place Order

## Place a delivery market order[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/place-order/#place-a-delivery-market-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api-hft.upstox.com/v2/order/place' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 1,  
      "product": "D",  
      "validity": "DAY",  
      "price": 0,  
      "tag": "string",  
      "instrument_token": "NSE_EQ|INE669E01016",  
      "order_type": "MARKET",  
      "transaction_type": "BUY",  
      "disclosed_quantity": 0,  
      "trigger_price": 0,  
      "is_amo": false  
    }'  
      
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v2/order/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        'quantity': 1,  
        'product': 'D',  
        'validity': 'DAY',  
        'price': 0,  
        'tag': 'string',  
        'instrument_token': 'NSE_EQ|INE669E01016',  
        'order_type': 'MARKET',  
        'transaction_type': 'BUY',  
        'disclosed_quantity': 0,  
        'trigger_price': 0,  
        'is_amo': False,  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v2/order/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      quantity: 1,  
      product: 'D',  
      validity: 'DAY',  
      price: 0,  
      tag: 'string',  
      instrument_token: 'NSE_EQ|INE669E01016',  
      order_type: 'MARKET',  
      transaction_type: 'BUY',  
      disclosed_quantity: 0,  
      trigger_price: 0,  
      is_amo: false,  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api-hft.upstox.com/v2/order/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"quantity\": 1,"  
                    + "\"product\": \"D\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_EQ|INE669E01016\","  
                    + "\"order_type\": \"MARKET\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 0,"  
                    + "\"is_amo\": false"  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v2/order/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'quantity' => 1,  
        'product' => 'D',  
        'validity' => 'DAY',  
        'price' => 0,  
        'tag' => 'string',  
        'instrument_token' => 'NSE_EQ|INE669E01016',  
        'order_type' => 'MARKET',  
        'transaction_type' => 'BUY',  
        'disclosed_quantity' => 0,  
        'trigger_price' => 0,  
        'is_amo' => false,  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    body = upstox_client.PlaceOrderRequest(1, "D", "DAY", 0.0, "string", "NSE_EQ|INE528G01035", "MARKET", "BUY", 0, 0.0, False)  
    api_version = '2.0'  
    try:  
        api_response = api_instance.place_order(body, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->place_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    let body = new UpstoxClient.PlaceOrderRequest(1, UpstoxClient.PlaceOrderRequest.ProductEnum.D, UpstoxClient.PlaceOrderRequest.ValidityEnum.DAY, 0.0, "NSE_EQ|INE528G01035",UpstoxClient.PlaceOrderRequest.OrderTypeEnum.MARKET,UpstoxClient.PlaceOrderRequest.TransactionTypeEnum.BUY, 0, 0.0, false);   
    let apiVersion = "2.0";   
      
    apiInstance.placeOrder(body, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.PlaceOrderRequest;  
    import com.upstox.api.PlaceOrderResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OrderApi apiInstance = new OrderApi();  
            PlaceOrderRequest body = new PlaceOrderRequest();  
            body.setQuantity(1);  
            body.setProduct(PlaceOrderRequest.ProductEnum.D);  
            body.setValidity(PlaceOrderRequest.ValidityEnum.DAY);  
            body.setPrice(0F);  
            body.setTag("string");  
            body.setInstrumentToken("NSE_EQ|INE669E01016");  
            body.orderType(PlaceOrderRequest.OrderTypeEnum.MARKET);  
            body.setTransactionType(PlaceOrderRequest.TransactionTypeEnum.BUY);  
            body.setDisclosedQuantity(0);  
            body.setTriggerPrice(0F);  
            body.setIsAmo(false);  
      
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                PlaceOrderResponse result = apiInstance.placeOrder(body, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#placeOrder ");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

## Place a delivery limit order[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/place-order/#place-a-delivery-limit-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api-hft.upstox.com/v2/order/place' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 1,  
      "product": "D",  
      "validity": "DAY",  
      "price": 13,  
      "tag": "string",  
      "instrument_token": "NSE_EQ|INE669E01016",  
      "order_type": "LIMIT",  
      "transaction_type": "BUY",  
      "disclosed_quantity": 0,  
      "trigger_price": 13.2,  
      "is_amo": false  
    }'  
      
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v2/order/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        'quantity': 1,  
        'product': 'D',  
        'validity': 'DAY',  
        'price': 13,  
        'tag': 'string',  
        'instrument_token': 'NSE_EQ|INE669E01016',  
        'order_type': 'LIMIT',  
        'transaction_type': 'BUY',  
        'disclosed_quantity': 0,  
        'trigger_price': 13.2,  
        'is_amo': False,  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v2/order/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      quantity: 1,  
      product: 'D',  
      validity: 'DAY',  
      price: 13,  
      tag: 'string',  
      instrument_token: 'NSE_EQ|INE669E01016',  
      order_type: 'LIMIT',  
      transaction_type: 'BUY',  
      disclosed_quantity: 0,  
      trigger_price: 13.2,  
      is_amo: false,  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api-hft.upstox.com/v2/order/place";  
            String token = "Bearer {your_access_token}";  
            // Set up the request body  
            String requestBody = "{"  
                    + "\"quantity\": 1,"  
                    + "\"product\": \"D\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 13,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_EQ|INE669E01016\","  
                    + "\"order_type\": \"LIMIT\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 13.2,"  
                    + "\"is_amo\": false"  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v2/order/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'quantity' => 1,  
        'product' => 'D',  
        'validity' => 'DAY',  
        'price' => 13,  
        'tag' => 'string',  
        'instrument_token' => 'NSE_EQ|INE669E01016',  
        'order_type' => 'LIMIT',  
        'transaction_type' => 'BUY',  
        'disclosed_quantity' => 0,  
        'trigger_price' => 13.2,  
        'is_amo' => false,  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    body = upstox_client.PlaceOrderRequest(1, "D", "DAY", 20.0, "string", "NSE_EQ|INE528G01035", "LIMIT", "BUY", 0, 20.1, False)  
    api_version = '2.0'  
    try:  
        api_response = api_instance.place_order(body, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->place_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    let body = new UpstoxClient.PlaceOrderRequest(1, UpstoxClient.PlaceOrderRequest.ProductEnum.D, UpstoxClient.PlaceOrderRequest.ValidityEnum.DAY, 20.0, "NSE_EQ|INE528G01035",UpstoxClient.PlaceOrderRequest.OrderTypeEnum.LIMIT,UpstoxClient.PlaceOrderRequest.TransactionTypeEnum.BUY, 0, 20.1, false);   
    let apiVersion = "2.0";   
      
    apiInstance.placeOrder(body, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.PlaceOrderRequest;  
    import com.upstox.api.PlaceOrderResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OrderApi apiInstance = new OrderApi();  
            PlaceOrderRequest body = new PlaceOrderRequest();  
            body.setQuantity(1);  
            body.setProduct(PlaceOrderRequest.ProductEnum.D);  
            body.setValidity(PlaceOrderRequest.ValidityEnum.DAY);  
            body.setPrice(14F);  
            body.setTag("string");  
            body.setInstrumentToken("NSE_EQ|INE669E01016");  
            body.orderType(PlaceOrderRequest.OrderTypeEnum.LIMIT);  
            body.setTransactionType(PlaceOrderRequest.TransactionTypeEnum.BUY);  
            body.setDisclosedQuantity(0);  
            body.setTriggerPrice(14.1F);  
            body.setIsAmo(false);  
      
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                PlaceOrderResponse result = apiInstance.placeOrder(body, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#placeOrder ");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

## Place a delivery stop-loss order[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/place-order/#place-a-delivery-stop-loss-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api-hft.upstox.com/v2/order/place' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 1,  
      "product": "D",  
      "validity": "DAY",  
      "price": 14.05,  
      "tag": "string",  
      "instrument_token": "NSE_EQ|INE669E01016",  
      "order_type": "SL",  
      "transaction_type": "BUY",  
      "disclosed_quantity": 0,  
      "trigger_price": 13,  
      "is_amo": false  
    }'  
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v2/order/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        'quantity': 1,  
        'product': 'D',  
        'validity': 'DAY',  
        'price': 14.05,  
        'tag': 'string',  
        'instrument_token': 'NSE_EQ|INE669E01016',  
        'order_type': 'SL',  
        'transaction_type': 'BUY',  
        'disclosed_quantity': 0,  
        'trigger_price': 13,  
        'is_amo': False,  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v2/order/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      quantity: 1,  
      product: 'D',  
      validity: 'DAY',  
      price: 14.05,  
      tag: 'string',  
      instrument_token: 'NSE_EQ|INE669E01016',  
      order_type: 'SL',  
      transaction_type: 'BUY',  
      disclosed_quantity: 0,  
      trigger_price: 13,  
      is_amo: false,  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api-hft.upstox.com/v2/order/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"quantity\": 1,"  
                    + "\"product\": \"D\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 14.05,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_EQ|INE669E01016\","  
                    + "\"order_type\": \"SL\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 13,"  
                    + "\"is_amo\": false"  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v2/order/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'quantity' => 1,  
        'product' => 'D',  
        'validity' => 'DAY',  
        'price' => 14.05,  
        'tag' => 'string',  
        'instrument_token' => 'NSE_EQ|INE669E01016',  
        'order_type' => 'SL',  
        'transaction_type' => 'BUY',  
        'disclosed_quantity' => 0,  
        'trigger_price' => 13,  
        'is_amo' => false,  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    body = upstox_client.PlaceOrderRequest(1, "D", "DAY", 20, "string", "NSE_EQ|INE528G01035", "SL", "BUY", 0, 19.5, False)  
    api_version = '2.0'  
    try:  
        api_response = api_instance.place_order(body, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->place_order: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    let body = new UpstoxClient.PlaceOrderRequest(1, UpstoxClient.PlaceOrderRequest.ProductEnum.D, UpstoxClient.PlaceOrderRequest.ValidityEnum.DAY, 20.0, "NSE_EQ|INE528G01035",UpstoxClient.PlaceOrderRequest.OrderTypeEnum.SL,UpstoxClient.PlaceOrderRequest.TransactionTypeEnum.BUY, 0, 19.5, false);   
    let apiVersion = "2.0";   
      
    apiInstance.placeOrder(body, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.PlaceOrderRequest;  
    import com.upstox.api.PlaceOrderResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OrderApi apiInstance = new OrderApi();  
            PlaceOrderRequest body = new PlaceOrderRequest();  
            body.setQuantity(1);  
            body.setProduct(PlaceOrderRequest.ProductEnum.D);  
            body.setValidity(PlaceOrderRequest.ValidityEnum.DAY);  
            body.setPrice(14F);  
            body.setTag("string");  
            body.setInstrumentToken("NSE_EQ|INE669E01016");  
            body.orderType(PlaceOrderRequest.OrderTypeEnum.SL);  
            body.setTransactionType(PlaceOrderRequest.TransactionTypeEnum.BUY);  
            body.setDisclosedQuantity(0);  
            body.setTriggerPrice(13.1F);  
            body.setIsAmo(false);  
      
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                PlaceOrderResponse result = apiInstance.placeOrder(body, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#placeOrder ");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

## Place a delivery stop-loss order market[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/place-order/#place-a-delivery-stop-loss-order-market> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api-hft.upstox.com/v2/order/place' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 1,  
      "product": "D",  
      "validity": "DAY",  
      "price": 0,  
      "tag": "string",  
      "instrument_token": "NSE_EQ|INE669E01016",  
      "order_type": "SL-M",  
      "transaction_type": "BUY",  
      "disclosed_quantity": 0,  
      "trigger_price": 15,  
      "is_amo": false  
    }'  
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v2/order/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        'quantity': 1,  
        'product': 'D',  
        'validity': 'DAY',  
        'price': 0,  
        'tag': 'string',  
        'instrument_token': 'NSE_EQ|INE669E01016',  
        'order_type': 'SL-M',  
        'transaction_type': 'BUY',  
        'disclosed_quantity': 0,  
        'trigger_price': 15,  
        'is_amo': False,  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v2/order/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      quantity: 1,  
      product: 'D',  
      validity: 'DAY',  
      price: 0.0,  
      tag: 'string',  
      instrument_token: 'NSE_EQ|INE669E01016',  
      order_type: 'SL-M',  
      transaction_type: 'BUY',  
      disclosed_quantity: 0,  
      trigger_price: 15,  
      is_amo: false,  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api-hft.upstox.com/v2/order/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"quantity\": 1,"  
                    + "\"product\": \"D\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 0.0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_EQ|INE669E01016\","  
                    + "\"order_type\": \"SL-M\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 15,"  
                    + "\"is_amo\": false"  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v2/order/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'quantity' => 1,  
        'product' => 'D',  
        'validity' => 'DAY',  
        'price' => 0.0,  
        'tag' => 'string',  
        'instrument_token' => 'NSE_EQ|INE669E01016',  
        'order_type' => 'SL-M',  
        'transaction_type' => 'BUY',  
        'disclosed_quantity' => 0,  
        'trigger_price' => 15,  
        'is_amo' => false,  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    body = upstox_client.PlaceOrderRequest(1, "D", "DAY", 0.0, "string", "NSE_EQ|INE528G01035", "SL-M", "BUY", 0, 21.5, False)  
    api_version = '2.0'  
    try:  
        api_response = api_instance.place_order(body, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->place_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    let body = new UpstoxClient.PlaceOrderRequest(1, UpstoxClient.PlaceOrderRequest.ProductEnum.D, UpstoxClient.PlaceOrderRequest.ValidityEnum.DAY, 0.0, "NSE_EQ|INE528G01035",UpstoxClient.PlaceOrderRequest.OrderTypeEnum.SL_M,UpstoxClient.PlaceOrderRequest.TransactionTypeEnum.BUY, 0, 24.5, false);   
    let apiVersion = "2.0";   
      
    apiInstance.placeOrder(body, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.PlaceOrderRequest;  
    import com.upstox.api.PlaceOrderResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OrderApi apiInstance = new OrderApi();  
            PlaceOrderRequest body = new PlaceOrderRequest();  
            body.setQuantity(1);  
            body.setProduct(PlaceOrderRequest.ProductEnum.D);  
            body.setValidity(PlaceOrderRequest.ValidityEnum.DAY);  
            body.setPrice(0F);  
            body.setTag("string");  
            body.setInstrumentToken("NSE_EQ|INE669E01016");  
            body.orderType(PlaceOrderRequest.OrderTypeEnum.SL_M);  
            body.setTransactionType(PlaceOrderRequest.TransactionTypeEnum.BUY);  
            body.setDisclosedQuantity(0);  
            body.setTriggerPrice(15.1F);  
            body.setIsAmo(false);  
      
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                PlaceOrderResponse result = apiInstance.placeOrder(body, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#placeOrder ");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

## Place an intraday market order[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/place-order/#place-an-intraday-market-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api-hft.upstox.com/v2/order/place' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 1,  
      "product": "I",  
      "validity": "DAY",  
      "price": 0,  
      "tag": "string",  
      "instrument_token": "NSE_EQ|INE528G01035",  
      "order_type": "MARKET",  
      "transaction_type": "BUY",  
      "disclosed_quantity": 0,  
      "trigger_price": 0,  
      "is_amo": false  
    }'  
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v2/order/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        'quantity': 1,  
        'product': 'I',  
        'validity': 'DAY',  
        'price': 0,  
        'tag': 'string',  
        'instrument_token': 'NSE_EQ|INE528G01035',  
        'order_type': 'MARKET',  
        'transaction_type': 'BUY',  
        'disclosed_quantity': 0,  
        'trigger_price': 0,  
        'is_amo': False,  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v2/order/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      quantity: 1,  
      product: 'I',  
      validity: 'DAY',  
      price: 0.0,  
      tag: 'string',  
      instrument_token: 'NSE_EQ|INE528G01035',  
      order_type: 'MARKET',  
      transaction_type: 'BUY',  
      disclosed_quantity: 0,  
      trigger_price: 0,  
      is_amo: false,  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api-hft.upstox.com/v2/order/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"quantity\": 1,"  
                    + "\"product\": \"I\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 0.0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_EQ|INE528G01035\","  
                    + "\"order_type\": \"MARKET\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 0,"  
                    + "\"is_amo\": false"  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v2/order/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'quantity' => 1,  
        'product' => 'I',  
        'validity' => 'DAY',  
        'price' => 0.0,  
        'tag' => 'string',  
        'instrument_token' => 'NSE_EQ|INE528G01035',  
        'order_type' => 'MARKET',  
        'transaction_type' => 'BUY',  
        'disclosed_quantity' => 0,  
        'trigger_price' => 0,  
        'is_amo' => false,  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    body = upstox_client.PlaceOrderRequest(1, "I", "DAY", 0.0, "string", "NSE_EQ|INE528G01035", "MARKET", "BUY", 0, 0.0, False)  
    api_version = '2.0'  
    try:  
        api_response = api_instance.place_order(body, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->place_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    let body = new UpstoxClient.PlaceOrderRequest(1, UpstoxClient.PlaceOrderRequest.ProductEnum.I, UpstoxClient.PlaceOrderRequest.ValidityEnum.DAY, 0.0, "NSE_EQ|INE528G01035",UpstoxClient.PlaceOrderRequest.OrderTypeEnum.MARKET,UpstoxClient.PlaceOrderRequest.TransactionTypeEnum.BUY, 0, 0.0, false);   
    let apiVersion = "2.0";   
      
    apiInstance.placeOrder(body, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.PlaceOrderRequest;  
    import com.upstox.api.PlaceOrderResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OrderApi apiInstance = new OrderApi();  
            PlaceOrderRequest body = new PlaceOrderRequest();  
            body.setQuantity(1);  
            body.setProduct(PlaceOrderRequest.ProductEnum.I);  
            body.setValidity(PlaceOrderRequest.ValidityEnum.DAY);  
            body.setPrice(0F);  
            body.setTag("string");  
            body.setInstrumentToken("NSE_EQ|INE528G01035");  
            body.orderType(PlaceOrderRequest.OrderTypeEnum.MARKET);  
            body.setTransactionType(PlaceOrderRequest.TransactionTypeEnum.BUY);  
            body.setDisclosedQuantity(0);  
            body.setTriggerPrice(0F);  
            body.setIsAmo(false);  
      
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                PlaceOrderResponse result = apiInstance.placeOrder(body, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#placeOrder ");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

## Place an intraday limit order[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/place-order/#place-an-intraday-limit-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api-hft.upstox.com/v2/order/place' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 1,  
      "product": "I",  
      "validity": "DAY",  
      "price": 20.0,  
      "tag": "string",  
      "instrument_token": "NSE_EQ|INE528G01035",  
      "order_type": "LIMIT",  
      "transaction_type": "BUY",  
      "disclosed_quantity": 0,  
      "trigger_price": 20.1,  
      "is_amo": false  
    }'  
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v2/order/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        'quantity': 1,  
        'product': 'I',  
        'validity': 'DAY',  
        'price': 20.0,  
        'tag': 'string',  
        'instrument_token': 'NSE_EQ|INE528G01035',  
        'order_type': 'LIMIT',  
        'transaction_type': 'BUY',  
        'disclosed_quantity': 0,  
        'trigger_price': 20.1,  
        'is_amo': False,  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v2/order/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      quantity: 1,  
      product: 'I',  
      validity: 'DAY',  
      price: 20.0,  
      tag: 'string',  
      instrument_token: 'NSE_EQ|INE528G01035',  
      order_type: 'LIMIT',  
      transaction_type: 'BUY',  
      disclosed_quantity: 0,  
      trigger_price: 20.1,  
      is_amo: false,  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api-hft.upstox.com/v2/order/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"quantity\": 1,"  
                    + "\"product\": \"I\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 20.0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_EQ|INE528G01035\","  
                    + "\"order_type\": \"LIMIT\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 20.1,"  
                    + "\"is_amo\": false"  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v2/order/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'quantity' => 1,  
        'product' => 'I',  
        'validity' => 'DAY',  
        'price' => 20.0,  
        'tag' => 'string',  
        'instrument_token' => 'NSE_EQ|INE528G01035',  
        'order_type' => 'LIMIT',  
        'transaction_type' => 'BUY',  
        'disclosed_quantity' => 0,  
        'trigger_price' => 20.1,  
        'is_amo' => false,  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    body = upstox_client.PlaceOrderRequest(1, "I", "DAY", 20.0, "string", "NSE_EQ|INE528G01035", "LIMIT", "BUY", 0, 20.1, False)  
    api_version = '2.0'  
    try:  
        api_response = api_instance.place_order(body, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->place_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    let body = new UpstoxClient.PlaceOrderRequest(1, UpstoxClient.PlaceOrderRequest.ProductEnum.I, UpstoxClient.PlaceOrderRequest.ValidityEnum.DAY, 20.0, "NSE_EQ|INE528G01035",UpstoxClient.PlaceOrderRequest.OrderTypeEnum.LIMIT,UpstoxClient.PlaceOrderRequest.TransactionTypeEnum.BUY, 0, 20.1, false);   
    let apiVersion = "2.0";   
      
    apiInstance.placeOrder(body, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.PlaceOrderRequest;  
    import com.upstox.api.PlaceOrderResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OrderApi apiInstance = new OrderApi();  
            PlaceOrderRequest body = new PlaceOrderRequest();  
            body.setQuantity(1);  
            body.setProduct(PlaceOrderRequest.ProductEnum.I);  
            body.setValidity(PlaceOrderRequest.ValidityEnum.DAY);  
            body.setPrice(24F);  
            body.setTag("string");  
            body.setInstrumentToken("NSE_EQ|INE528G01035");  
            body.orderType(PlaceOrderRequest.OrderTypeEnum.LIMIT);  
            body.setTransactionType(PlaceOrderRequest.TransactionTypeEnum.BUY);  
            body.setDisclosedQuantity(0);  
            body.setTriggerPrice(24.1F);  
            body.setIsAmo(false);  
      
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                PlaceOrderResponse result = apiInstance.placeOrder(body, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#placeOrder ");  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Place an intraday stop-loss order[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/place-order/#place-an-intraday-stop-loss-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api-hft.upstox.com/v2/order/place' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 1,  
      "product": "I",  
      "validity": "DAY",  
      "price": 20.0,  
      "tag": "string",  
      "instrument_token": "NSE_EQ|INE528G01035",  
      "order_type": "SL",  
      "transaction_type": "BUY",  
      "disclosed_quantity": 0,  
      "trigger_price": 19.5,  
      "is_amo": false  
    }'  
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v2/order/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        'quantity': 1,  
        'product': 'I',  
        'validity': 'DAY',  
        'price': 20.0,  
        'tag': 'string',  
        'instrument_token': 'NSE_EQ|INE528G01035',  
        'order_type': 'SL',  
        'transaction_type': 'BUY',  
        'disclosed_quantity': 0,  
        'trigger_price': 19.5,  
        'is_amo': False,  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v2/order/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      quantity: 1,  
      product: 'I',  
      validity: 'DAY',  
      price: 20.0,  
      tag: 'string',  
      instrument_token: 'NSE_EQ|INE528G01035',  
      order_type: 'SL',  
      transaction_type: 'BUY',  
      disclosed_quantity: 0,  
      trigger_price: 19.5,  
      is_amo: false,  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api-hft.upstox.com/v2/order/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"quantity\": 1,"  
                    + "\"product\": \"I\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 20.0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_EQ|INE528G01035\","  
                    + "\"order_type\": \"SL\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 19.5,"  
                    + "\"is_amo\": false"  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v2/order/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'quantity' => 1,  
        'product' => 'I',  
        'validity' => 'DAY',  
        'price' => 20.0,  
        'tag' => 'string',  
        'instrument_token' => 'NSE_EQ|INE528G01035',  
        'order_type' => 'SL',  
        'transaction_type' => 'BUY',  
        'disclosed_quantity' => 0,  
        'trigger_price' => 19.5,  
        'is_amo' => false,  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    body = upstox_client.PlaceOrderRequest(1, "I", "DAY", 20, "string", "NSE_EQ|INE528G01035", "SL", "BUY", 0, 19.5, False)  
    api_version = '2.0'  
    try:  
        api_response = api_instance.place_order(body, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->place_order: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    let body = new UpstoxClient.PlaceOrderRequest(1, UpstoxClient.PlaceOrderRequest.ProductEnum.I, UpstoxClient.PlaceOrderRequest.ValidityEnum.DAY, 20.0, "NSE_EQ|INE528G01035",UpstoxClient.PlaceOrderRequest.OrderTypeEnum.SL,UpstoxClient.PlaceOrderRequest.TransactionTypeEnum.BUY, 0, 19.5, false);   
    let apiVersion = "2.0";   
      
    apiInstance.placeOrder(body, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.PlaceOrderRequest;  
    import com.upstox.api.PlaceOrderResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OrderApi apiInstance = new OrderApi();  
            PlaceOrderRequest body = new PlaceOrderRequest();  
            body.setQuantity(1);  
            body.setProduct(PlaceOrderRequest.ProductEnum.I);  
            body.setValidity(PlaceOrderRequest.ValidityEnum.DAY);  
            body.setPrice(24F);  
            body.setTag("string");  
            body.setInstrumentToken("NSE_EQ|INE528G01035");  
            body.orderType(PlaceOrderRequest.OrderTypeEnum.SL);  
            body.setTransactionType(PlaceOrderRequest.TransactionTypeEnum.BUY);  
            body.setDisclosedQuantity(0);  
            body.setTriggerPrice(23F);  
            body.setIsAmo(false);  
      
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                PlaceOrderResponse result = apiInstance.placeOrder(body, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#placeOrder ");  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Place an intraday stop-loss market order[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/place-order/#place-an-intraday-stop-loss-market-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api-hft.upstox.com/v2/order/place' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 1,  
      "product": "I",  
      "validity": "DAY",  
      "price": 0,  
      "tag": "string",  
      "instrument_token": "NSE_EQ|INE528G01035",  
      "order_type": "SL-M",  
      "transaction_type": "BUY",  
      "disclosed_quantity": 0,  
      "trigger_price": 21.5,  
      "is_amo": false  
    }'  
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v2/order/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        'quantity': 1,  
        'product': 'I',  
        'validity': 'DAY',  
        'price': 0.0,  
        'tag': 'string',  
        'instrument_token': 'NSE_EQ|INE528G01035',  
        'order_type': 'SL-M',  
        'transaction_type': 'BUY',  
        'disclosed_quantity': 0,  
        'trigger_price': 21.5,  
        'is_amo': False,  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v2/order/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      quantity: 1,  
      product: 'I',  
      validity: 'DAY',  
      price: 0.0,  
      tag: 'string',  
      instrument_token: 'NSE_EQ|INE528G01035',  
      order_type: 'SL-M',  
      transaction_type: 'BUY',  
      disclosed_quantity: 0,  
      trigger_price: 21.5,  
      is_amo: false,  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api-hft.upstox.com/v2/order/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"quantity\": 1,"  
                    + "\"product\": \"I\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 0.0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_EQ|INE528G01035\","  
                    + "\"order_type\": \"SL-M\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 21.5,"  
                    + "\"is_amo\": false"  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v2/order/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'quantity' => 1,  
        'product' => 'I',  
        'validity' => 'DAY',  
        'price' => 0.0,  
        'tag' => 'string',  
        'instrument_token' => 'NSE_EQ|INE528G01035',  
        'order_type' => 'SL-M',  
        'transaction_type' => 'BUY',  
        'disclosed_quantity' => 0,  
        'trigger_price' => 21.5,  
        'is_amo' => false,  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    body = upstox_client.PlaceOrderRequest(1, "I", "DAY", 0.0, "string", "NSE_EQ|INE528G01035", "SL-M", "BUY", 0, 21.5, False)  
    api_version = '2.0'  
    try:  
        api_response = api_instance.place_order(body, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->place_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    let body = new UpstoxClient.PlaceOrderRequest(1, UpstoxClient.PlaceOrderRequest.ProductEnum.I, UpstoxClient.PlaceOrderRequest.ValidityEnum.DAY, 0.0, "NSE_EQ|INE528G01035",UpstoxClient.PlaceOrderRequest.OrderTypeEnum.SL_M,UpstoxClient.PlaceOrderRequest.TransactionTypeEnum.BUY, 0, 24.5, false);   
    let apiVersion = "2.0";   
      
    apiInstance.placeOrder(body, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.PlaceOrderRequest;  
    import com.upstox.api.PlaceOrderResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OrderApi apiInstance = new OrderApi();  
            PlaceOrderRequest body = new PlaceOrderRequest();  
            body.setQuantity(1);  
            body.setProduct(PlaceOrderRequest.ProductEnum.I);  
            body.setValidity(PlaceOrderRequest.ValidityEnum.DAY);  
            body.setPrice(0F);  
            body.setTag("string");  
            body.setInstrumentToken("NSE_EQ|INE528G01035");  
            body.orderType(PlaceOrderRequest.OrderTypeEnum.SL_M);  
            body.setTransactionType(PlaceOrderRequest.TransactionTypeEnum.BUY);  
            body.setDisclosedQuantity(0);  
            body.setTriggerPrice(25F);  
            body.setIsAmo(false);  
      
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                PlaceOrderResponse result = apiInstance.placeOrder(body, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#placeOrder ");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

## Place a delivery market amo (after market order)[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/place-order/#place-a-delivery-market-amo-after-market-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api-hft.upstox.com/v2/order/place' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 1,  
      "product": "D",  
      "validity": "DAY",  
      "price": 0,  
      "tag": "string",  
      "instrument_token": "NSE_EQ|INE669E01016",  
      "order_type": "MARKET",  
      "transaction_type": "BUY",  
      "disclosed_quantity": 0,  
      "trigger_price": 0,  
      "is_amo": true  
    }'  
      
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v2/order/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        'quantity': 1,  
        'product': 'D',  
        'validity': 'DAY',  
        'price': 0,  
        'tag': 'string',  
        'instrument_token': 'NSE_EQ|INE669E01016',  
        'order_type': 'MARKET',  
        'transaction_type': 'BUY',  
        'disclosed_quantity': 0,  
        'trigger_price': 0,  
        'is_amo': True,  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v2/order/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      quantity: 1,  
      product: 'D',  
      validity: 'DAY',  
      price: 0,  
      tag: 'string',  
      instrument_token: 'NSE_EQ|INE669E01016',  
      order_type: 'MARKET',  
      transaction_type: 'BUY',  
      disclosed_quantity: 0,  
      trigger_price: 0,  
      is_amo: true,  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api-hft.upstox.com/v2/order/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"quantity\": 1,"  
                    + "\"product\": \"D\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_EQ|INE669E01016\","  
                    + "\"order_type\": \"MARKET\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 0,"  
                    + "\"is_amo\": true"  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v2/order/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'quantity' => 1,  
        'product' => 'D',  
        'validity' => 'DAY',  
        'price' => 0,  
        'tag' => 'string',  
        'instrument_token' => 'NSE_EQ|INE669E01016',  
        'order_type' => 'MARKET',  
        'transaction_type' => 'BUY',  
        'disclosed_quantity' => 0,  
        'trigger_price' => 0,  
        'is_amo' => true,  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
      
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    body = upstox_client.PlaceOrderRequest(1, "D", "DAY", 0.0, "string", "NSE_EQ|INE528G01035", "MARKET", "BUY", 0, 0.0, True)  
    api_version = '2.0'  
    try:  
        api_response = api_instance.place_order(body, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->place_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    let body = new UpstoxClient.PlaceOrderRequest(1, UpstoxClient.PlaceOrderRequest.ProductEnum.D, UpstoxClient.PlaceOrderRequest.ValidityEnum.DAY, 0.0, "NSE_EQ|INE528G01035",UpstoxClient.PlaceOrderRequest.OrderTypeEnum.MARKET,UpstoxClient.PlaceOrderRequest.TransactionTypeEnum.BUY, 0, 0.0, true);   
    let apiVersion = "2.0";   
      
    apiInstance.placeOrder(body, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.PlaceOrderRequest;  
    import com.upstox.api.PlaceOrderResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OrderApi apiInstance = new OrderApi();  
            PlaceOrderRequest body = new PlaceOrderRequest();  
            body.setQuantity(1);  
            body.setProduct(PlaceOrderRequest.ProductEnum.D);  
            body.setValidity(PlaceOrderRequest.ValidityEnum.DAY);  
            body.setPrice(0F);  
            body.setTag("string");  
            body.setInstrumentToken("NSE_EQ|INE669E01016");  
            body.orderType(PlaceOrderRequest.OrderTypeEnum.MARKET);  
            body.setTransactionType(PlaceOrderRequest.TransactionTypeEnum.BUY);  
            body.setDisclosedQuantity(0);  
            body.setTriggerPrice(0F);  
            body.setIsAmo(true);  
      
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                PlaceOrderResponse result = apiInstance.placeOrder(body, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#placeOrder ");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/orders/v3/place-order
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Order
  * Place Order V3



On this page

# Place Order V3

## Place an order with slicing enabled[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/v3/place-order/#place-an-order-with-slicing-enabled> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api-hft.upstox.com/v3/order/place' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 4000,  
      "product": "D",  
      "validity": "DAY",  
      "price": 0,  
      "tag": "string",  
      "instrument_token": "NSE_FO|43919",  
      "order_type": "MARKET",  
      "transaction_type": "BUY",  
      "disclosed_quantity": 0,  
      "trigger_price": 0,  
      "is_amo": false,  
      "slice": true  
    }'  
      
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v3/order/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        'quantity': 4000,  
        'product': 'D',  
        'validity': 'DAY',  
        'price': 0,  
        'tag': 'string',  
        'instrument_token': 'NSE_FO|43919',  
        'order_type': 'MARKET',  
        'transaction_type': 'BUY',  
        'disclosed_quantity': 0,  
        'trigger_price': 0,  
        'is_amo': False,  
        'slice': True  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v3/order/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      quantity: 4000,  
      product: 'D',  
      validity: 'DAY',  
      price: 0,  
      tag: 'string',  
      instrument_token: 'NSE_FO|43919',  
      order_type: 'MARKET',  
      transaction_type: 'BUY',  
      disclosed_quantity: 0,  
      trigger_price: 0,  
      is_amo: false,  
      slice: true  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api-hft.upstox.com/v3/order/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"quantity\": 4000,"  
                    + "\"product\": \"D\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_FO|43919\","  
                    + "\"order_type\": \"MARKET\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 0,"  
                    + "\"is_amo\": false,"  
                    + "\"slice\": true"  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v3/order/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'quantity' => 4000,  
        'product' => 'D',  
        'validity' => 'DAY',  
        'price' => 0,  
        'tag' => 'string',  
        'instrument_token' => 'NSE_FO|43919',  
        'order_type' => 'MARKET',  
        'transaction_type' => 'BUY',  
        'disclosed_quantity' => 0,  
        'trigger_price' => 0,  
        'is_amo' => false,  
        'slice' => true,  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApiV3(upstox_client.ApiClient(configuration))  
    body = upstox_client.PlaceOrderV3Request(quantity=4000, product="D", validity="DAY",   
        price=0, tag="string", instrument_token="NSE_FO|43919",   
        order_type="MARKET", transaction_type="BUY", disclosed_quantity=0,   
        trigger_price=0.0, is_amo=False, slice=True)  
      
    try:  
        api_response = api_instance.place_order(body)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApiV3->place_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApiV3();  
    let body = new UpstoxClient.PlaceOrderV3Request(4000,   
        UpstoxClient.PlaceOrderV3Request.ProductEnum.D,  
        UpstoxClient.PlaceOrderV3Request.ValidityEnum.DAY,   
        0, "NSE_FO|43919",  
        UpstoxClient.PlaceOrderV3Request.OrderTypeEnum.MARKET,  
        UpstoxClient.PlaceOrderV3Request.TransactionTypeEnum.BUY,  
        0, 0, false);  
    let opt = {"slice": true}  
      
    apiInstance.placeOrder(body, opt, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.OrderApiV3;  
    import com.upstox.api.PlaceOrderV3Request;  
    import com.upstox.api.PlaceOrderV3Response;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            defaultClient.setAccessToken("{your_access_token}");  
      
            OrderApiV3 apiInstance = new OrderApiV3();  
            PlaceOrderV3Request body = new PlaceOrderV3Request();  
            body.setQuantity(4000);  
            body.setProduct(PlaceOrderV3Request.ProductEnum.D);  
            body.setValidity(PlaceOrderV3Request.ValidityEnum.DAY);  
            body.setPrice(0F);  
            body.setTag("string");  
            body.setInstrumentToken("NSE_FO|43919");  
            body.orderType(PlaceOrderV3Request.OrderTypeEnum.MARKET);  
            body.setTransactionType(PlaceOrderV3Request.TransactionTypeEnum.BUY);  
            body.setDisclosedQuantity(0);  
            body.setTriggerPrice(0F);  
            body.setIsAmo(false);  
            body.setSlice(true);  
      
            try {  
                PlaceOrderV3Response result = apiInstance.placeOrder(body);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApiV3->placeOrder: " + e.getMessage());  
            }  
        }  
    }  
    

## Place an order with slicing disabled[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/v3/place-order/#place-an-order-with-slicing-disabled> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api-hft.upstox.com/v3/order/place' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 25,  
      "product": "D",  
      "validity": "DAY",  
      "price": 0,  
      "tag": "string",  
      "instrument_token": "NSE_FO|43919",  
      "order_type": "MARKET",  
      "transaction_type": "BUY",  
      "disclosed_quantity": 0,  
      "trigger_price": 0,  
      "is_amo": false,  
      "slice": false  
    }'  
      
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v3/order/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        'quantity': 25,  
        'product': 'D',  
        'validity': 'DAY',  
        'price': 0,  
        'tag': 'string',  
        'instrument_token': 'NSE_FO|43919',  
        'order_type': 'MARKET',  
        'transaction_type': 'BUY',  
        'disclosed_quantity': 0,  
        'trigger_price': 0,  
        'is_amo': False,  
        'slice': False  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v3/order/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      quantity: 25,  
      product: 'D',  
      validity: 'DAY',  
      price: 0,  
      tag: 'string',  
      instrument_token: 'NSE_FO|43919',  
      order_type: 'MARKET',  
      transaction_type: 'BUY',  
      disclosed_quantity: 0,  
      trigger_price: 0,  
      is_amo: false,  
      slice: false  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api-hft.upstox.com/v3/order/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"quantity\": 25,"  
                    + "\"product\": \"D\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_FO|43919\","  
                    + "\"order_type\": \"MARKET\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 0,"  
                    + "\"is_amo\": false,"  
                    + "\"slice\": false"  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v3/order/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'quantity' => 25,  
        'product' => 'D',  
        'validity' => 'DAY',  
        'price' => 0,  
        'tag' => 'string',  
        'instrument_token' => 'NSE_FO|43919',  
        'order_type' => 'MARKET',  
        'transaction_type' => 'BUY',  
        'disclosed_quantity' => 0,  
        'trigger_price' => 0,  
        'is_amo' => false,  
        'slice' => false,  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApiV3(upstox_client.ApiClient(configuration))  
    body = upstox_client.PlaceOrderV3Request(quantity=75, product="D", validity="DAY",   
        price=0, tag="string", instrument_token="NSE_FO|43919",   
        order_type="MARKET", transaction_type="BUY", disclosed_quantity=0,   
        trigger_price=0.0, is_amo=False, slice=False)  
      
    try:  
        api_response = api_instance.place_order(body)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApiV3->place_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApiV3();  
    let body = new UpstoxClient.PlaceOrderV3Request(75,   
        UpstoxClient.PlaceOrderV3Request.ProductEnum.D,  
        UpstoxClient.PlaceOrderV3Request.ValidityEnum.DAY,   
        0, "NSE_FO|43919",  
        UpstoxClient.PlaceOrderV3Request.OrderTypeEnum.MARKET,  
        UpstoxClient.PlaceOrderV3Request.TransactionTypeEnum.BUY,  
        0, 0, false);  
    let opt = {"slice": false}  
      
    apiInstance.placeOrder(body, opt, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.OrderApiV3;  
    import com.upstox.api.PlaceOrderV3Request;  
    import com.upstox.api.PlaceOrderV3Response;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            defaultClient.setAccessToken("{your_access_token}");  
      
            OrderApiV3 apiInstance = new OrderApiV3();  
            PlaceOrderV3Request body = new PlaceOrderV3Request();  
            body.setQuantity(75);  
            body.setProduct(PlaceOrderV3Request.ProductEnum.D);  
            body.setValidity(PlaceOrderV3Request.ValidityEnum.DAY);  
            body.setPrice(0F);  
            body.setTag("string");  
            body.setInstrumentToken("NSE_FO|43919");  
            body.orderType(PlaceOrderV3Request.OrderTypeEnum.MARKET);  
            body.setTransactionType(PlaceOrderV3Request.TransactionTypeEnum.BUY);  
            body.setDisclosedQuantity(0);  
            body.setTriggerPrice(0F);  
            body.setIsAmo(false);  
            body.setSlice(false);  
      
            try {  
                PlaceOrderV3Response result = apiInstance.placeOrder(body);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApiV3->placeOrder: " + e.getMessage());  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/orders/place-multi-order
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Order
  * Place Multi Order



On this page

# Place Multi Order

## Place a multi order[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/place-multi-order/#place-a-multi-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/order/multi/place' \  
         --header 'Content-Type: application/json' \  
         --header 'Accept: application/json' \  
         --header 'Authorization: Bearer {your_access_token}' \  
         --data '[  
            {  
                "correlation_id": "1",  
                "quantity": 25,  
                "product": "D",  
                "validity": "DAY",  
                "price": 0,  
                "tag": "string",  
                "instrument_token": "NSE_FO|62864",  
                "order_type": "MARKET",  
                "transaction_type": "BUY",  
                "disclosed_quantity": 0,  
                "trigger_price": 0,  
                "is_amo": false,  
                "slice": false  
            },  
            {  
                "correlation_id": "2",  
                "quantity": 25,  
                "product": "D",  
                "validity": "DAY",  
                "price": 0,  
                "tag": "string",  
                "instrument_token": "NSE_FO|62867",  
                "order_type": "MARKET",  
                "transaction_type": "BUY",  
                "disclosed_quantity": 0,  
                "trigger_price": 0,  
                "is_amo": false,  
                "slice": false  
            }  
        ]'  
    '  
      
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/multi/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = [  
        {  
            "correlation_id": "1",  
            "quantity": 25,  
            "product": "D",  
            "validity": "DAY",  
            "price": 0,  
            "tag": "string",  
            "instrument_token": "NSE_FO|62864",  
            "order_type": "MARKET",  
            "transaction_type": "BUY",  
            "disclosed_quantity": 0,  
            "trigger_price": 0,  
            "is_amo": False,  
            "slice": False  
        },  
        {  
            "correlation_id": "2",  
            "quantity": 25,  
            "product": "D",  
            "validity": "DAY",  
            "price": 0,  
            "tag": "string",  
            "instrument_token": "NSE_FO|62867",  
            "order_type": "MARKET",  
            "transaction_type": "BUY",  
            "disclosed_quantity": 0,  
            "trigger_price": 0,  
            "is_amo": False,  
            "slice": False  
        }  
    ]  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/multi/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = [  
      {  
        "correlation_id": "1",  
        "quantity": 25,  
        "product": "D",  
        "validity": "DAY",  
        "price": 0,  
        "tag": "string",  
        "instrument_token": "NSE_FO|62864",  
        "order_type": "MARKET",  
        "transaction_type": "BUY",  
        "disclosed_quantity": 0,  
        "trigger_price": 0,  
        "is_amo": false,  
        "slice": false  
      },  
      {  
        "correlation_id": "2",  
        "quantity": 25,  
        "product": "D",  
        "validity": "DAY",  
        "price": 0,  
        "tag": "string",  
        "instrument_token": "NSE_FO|62867",  
        "order_type": "MARKET",  
        "transaction_type": "BUY",  
        "disclosed_quantity": 0,  
        "trigger_price": 0,  
        "is_amo": false,  
        "slice": false  
      }  
    ];  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response Code:', response.status);  
        console.log('Response Body:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/order/multi/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body with multiple orders  
            String requestBody = "["  
                    + "{"  
                    + "\"correlation_id\": \"1\","  
                    + "\"quantity\": 25,"  
                    + "\"product\": \"D\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_FO|62864\","  
                    + "\"order_type\": \"MARKET\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 0,"  
                    + "\"is_amo\": false,"  
                    + "\"slice\": false"  
                    + "},"  
                    + "{"  
                    + "\"correlation_id\": \"2\","  
                    + "\"quantity\": 25,"  
                    + "\"product\": \"D\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_FO|62867\","  
                    + "\"order_type\": \"MARKET\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 0,"  
                    + "\"is_amo\": false,"  
                    + "\"slice\": false"  
                    + "}"  
                    + "]";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/order/multi/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    // Set up the request body with multiple orders  
    $data = [  
        [  
            "correlation_id" => "1",  
            "quantity" => 25,  
            "product" => "D",  
            "validity" => "DAY",  
            "price" => 0,  
            "tag" => "string",  
            "instrument_token" => "NSE_FO|62864",  
            "order_type" => "MARKET",  
            "transaction_type" => "BUY",  
            "disclosed_quantity" => 0,  
            "trigger_price" => 0,  
            "is_amo" => false,  
            "slice" => false  
        ],  
        [  
            "correlation_id" => "2",  
            "quantity" => 25,  
            "product" => "D",  
            "validity" => "DAY",  
            "price" => 0,  
            "tag" => "string",  
            "instrument_token" => "NSE_FO|62867",  
            "order_type" => "MARKET",  
            "transaction_type" => "BUY",  
            "disclosed_quantity" => 0,  
            "trigger_price" => 0,  
            "is_amo" => false,  
            "slice" => false  
        ]  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    body = [  
        upstox_client.MultiOrderRequest(25, "D", "DAY", 0, "string", False, "NSE_FO|44166", "MARKET", "BUY",  
                                        0, 0, True, "1")  
    ]  
      
    try:  
        api_response = api_instance.place_multi_order(body)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->place_order: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    apiInstance = new UpstoxClient.OrderApi();  
    body = []  
    order = new UpstoxClient.MultiOrderRequest(25,"D","DAY",0,false,"NSE_FO|44166","MARKET","BUY",0,0,true,"1");  
    order.tag = "string"; //optional parameter tag  
    body = body.concat(order);  
      
      
    apiInstance.placeMultiOrder(body, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.MultiOrderRequest;  
    import com.upstox.api.MultiOrderResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OrderApi;  
      
    import java.util.ArrayList;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            OrderApi apiInstance = new OrderApi();  
            MultiOrderRequest orderRequest = new MultiOrderRequest();  
            orderRequest.setQuantity(25);  
            orderRequest.setProduct(MultiOrderRequest.ProductEnum.D);  
            orderRequest.setValidity(MultiOrderRequest.ValidityEnum.DAY);  
            orderRequest.setPrice(0F);  
            orderRequest.setTag("string");  
            orderRequest.setInstrumentToken("NSE_FO|44166");  
            orderRequest.orderType(MultiOrderRequest.OrderTypeEnum.MARKET);  
            orderRequest.setTransactionType(MultiOrderRequest.TransactionTypeEnum.BUY);  
            orderRequest.setDisclosedQuantity(0);  
            orderRequest.setTriggerPrice(0F);  
            orderRequest.setIsAmo(true);  
            orderRequest.setCorrelationId("1");  
            orderRequest.setSlice(false);  
      
            try {  
                ArrayList<MultiOrderRequest> list = new ArrayList<>();  
                list.add(orderRequest);  
                MultiOrderResponse result = apiInstance.placeMultiOrder(list);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#MultiOrder= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Place Multiple BUY and SELL Orders[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/place-multi-order/#place-multiple-buy-and-sell-orders> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/order/multi/place' \  
         --header 'Content-Type: application/json' \  
         --header 'Accept: application/json' \  
         --header 'Authorization: Bearer {your_access_token}' \  
         --data '[  
            {  
                "correlation_id": "1",  
                "quantity": 25,  
                "product": "D",  
                "validity": "DAY",  
                "price": 0,  
                "tag": "string",  
                "instrument_token": "NSE_FO|62864",  
                "order_type": "MARKET",  
                "transaction_type": "BUY",  
                "disclosed_quantity": 0,  
                "trigger_price": 0,  
                "is_amo": false,  
                "slice": false  
            },  
            {  
                "correlation_id": "2",  
                "quantity": 25,  
                "product": "D",  
                "validity": "DAY",  
                "price": 0,  
                "tag": "string",  
                "instrument_token": "NSE_FO|62867",  
                "order_type": "MARKET",  
                "transaction_type": "SELL",  
                "disclosed_quantity": 0,  
                "trigger_price": 0,  
                "is_amo": false,  
                "slice": false  
            }  
        ]'  
    '  
      
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/multi/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = [  
        {  
            "correlation_id": "1",  
            "quantity": 25,  
            "product": "D",  
            "validity": "DAY",  
            "price": 0,  
            "tag": "string",  
            "instrument_token": "NSE_FO|62864",  
            "order_type": "MARKET",  
            "transaction_type": "BUY",  
            "disclosed_quantity": 0,  
            "trigger_price": 0,  
            "is_amo": False,  
            "slice": False  
        },  
        {  
            "correlation_id": "2",  
            "quantity": 25,  
            "product": "D",  
            "validity": "DAY",  
            "price": 0,  
            "tag": "string",  
            "instrument_token": "NSE_FO|62867",  
            "order_type": "MARKET",  
            "transaction_type": "SELL",  
            "disclosed_quantity": 0,  
            "trigger_price": 0,  
            "is_amo": False,  
            "slice": False  
        }  
    ]  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/multi/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = [  
      {  
        "correlation_id": "1",  
        "quantity": 25,  
        "product": "D",  
        "validity": "DAY",  
        "price": 0,  
        "tag": "string",  
        "instrument_token": "NSE_FO|62864",  
        "order_type": "MARKET",  
        "transaction_type": "BUY",  
        "disclosed_quantity": 0,  
        "trigger_price": 0,  
        "is_amo": false,  
        "slice": false  
      },  
      {  
        "correlation_id": "2",  
        "quantity": 25,  
        "product": "D",  
        "validity": "DAY",  
        "price": 0,  
        "tag": "string",  
        "instrument_token": "NSE_FO|62867",  
        "order_type": "MARKET",  
        "transaction_type": "SELL",  
        "disclosed_quantity": 0,  
        "trigger_price": 0,  
        "is_amo": false,  
        "slice": false  
      }  
    ];  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response Code:', response.status);  
        console.log('Response Body:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/order/multi/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body with multiple orders  
            String requestBody = "["  
                    + "{"  
                    + "\"correlation_id\": \"1\","  
                    + "\"quantity\": 25,"  
                    + "\"product\": \"D\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_FO|62864\","  
                    + "\"order_type\": \"MARKET\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 0,"  
                    + "\"is_amo\": false,"  
                    + "\"slice\": false"  
                    + "},"  
                    + "{"  
                    + "\"correlation_id\": \"2\","  
                    + "\"quantity\": 25,"  
                    + "\"product\": \"D\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_FO|62867\","  
                    + "\"order_type\": \"MARKET\","  
                    + "\"transaction_type\": \"SELL\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 0,"  
                    + "\"is_amo\": false,"  
                    + "\"slice\": false"  
                    + "}"  
                    + "]";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/order/multi/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    // Set up the request body with multiple orders  
    $data = [  
        [  
            "correlation_id" => "1",  
            "quantity" => 25,  
            "product" => "D",  
            "validity" => "DAY",  
            "price" => 0,  
            "tag" => "string",  
            "instrument_token" => "NSE_FO|62864",  
            "order_type" => "MARKET",  
            "transaction_type" => "BUY",  
            "disclosed_quantity" => 0,  
            "trigger_price" => 0,  
            "is_amo" => false,  
            "slice" => false  
        ],  
        [  
            "correlation_id" => "2",  
            "quantity" => 25,  
            "product" => "D",  
            "validity" => "DAY",  
            "price" => 0,  
            "tag" => "string",  
            "instrument_token" => "NSE_FO|62867",  
            "order_type" => "MARKET",  
            "transaction_type" => "SELL",  
            "disclosed_quantity" => 0,  
            "trigger_price" => 0,  
            "is_amo" => false,  
            "slice" => false  
        ]  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    body = [  
        upstox_client.MultiOrderRequest(25, "D", "DAY", 0, "string", False, "NSE_FO|44166", "MARKET", "BUY",  
                                        0, 0, True, "1"),  
        upstox_client.MultiOrderRequest(25, "D", "DAY", 0, "string", False, "NSE_FO|44122", "MARKET", "SELL",  
                                        0, 0, True, "2")  
    ]  
      
    try:  
        api_response = api_instance.place_multi_order(body)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->place_order: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    apiInstance = new UpstoxClient.OrderApi();  
    body = []  
    buyRequest = new UpstoxClient.MultiOrderRequest(25,"D","DAY",0,false,"NSE_FO|44166","MARKET","BUY",0,0,true,"1");  
    buyRequest.tag = "string";  
      
    sellRequest = new UpstoxClient.MultiOrderRequest(25,"D","DAY",0,false,"NSE_FO|44122","MARKET","SELL",0,0,true,"2");  
    sellRequest.tag = "string";  
    body = body.concat(buyRequest, sellRequest);  
      
      
    apiInstance.placeMultiOrder(body, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.MultiOrderRequest;  
    import com.upstox.api.MultiOrderResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OrderApi;  
      
    import java.util.List;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            MultiOrderRequest buyOrderRequest = new MultiOrderRequest();  
            buyOrderRequest.setQuantity(25);  
            buyOrderRequest.setProduct(MultiOrderRequest.ProductEnum.D);  
            buyOrderRequest.setValidity(MultiOrderRequest.ValidityEnum.DAY);  
            buyOrderRequest.setPrice(0F);  
            buyOrderRequest.setTag("string");  
            buyOrderRequest.setInstrumentToken("NSE_FO|44166");  
            buyOrderRequest.orderType(MultiOrderRequest.OrderTypeEnum.MARKET);  
            buyOrderRequest.setTransactionType(MultiOrderRequest.TransactionTypeEnum.BUY);  
            buyOrderRequest.setDisclosedQuantity(0);  
            buyOrderRequest.setTriggerPrice(0F);  
            buyOrderRequest.setIsAmo(true);  
            buyOrderRequest.setCorrelationId("1");  
            buyOrderRequest.setSlice(false);  
      
            MultiOrderRequest sellOrderRequest = new MultiOrderRequest();  
            sellOrderRequest.setQuantity(25);  
            sellOrderRequest.setProduct(MultiOrderRequest.ProductEnum.D);  
            sellOrderRequest.setValidity(MultiOrderRequest.ValidityEnum.DAY);  
            sellOrderRequest.setPrice(0F);  
            sellOrderRequest.setTag("string");  
            sellOrderRequest.setInstrumentToken("NSE_FO|44122");  
            sellOrderRequest.orderType(MultiOrderRequest.OrderTypeEnum.MARKET);  
            sellOrderRequest.setTransactionType(MultiOrderRequest.TransactionTypeEnum.SELL);  
            sellOrderRequest.setDisclosedQuantity(0);  
            sellOrderRequest.setTriggerPrice(0F);  
            sellOrderRequest.setIsAmo(true);  
            sellOrderRequest.setCorrelationId("2");  
            sellOrderRequest.setSlice(false);  
      
            try {  
                List<MultiOrderRequest> list = List.of(buyOrderRequest, sellOrderRequest);  
                MultiOrderResponse result = apiInstance.placeMultiOrder(list);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#MultiOrder= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Place Multiple Orders with Auto Slicing enabled[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/place-multi-order/#place-multiple-orders-with-auto-slicing-enabled> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/order/multi/place' \  
         --header 'Content-Type: application/json' \  
         --header 'Accept: application/json' \  
         --header 'Authorization: Bearer {your_access_token}' \  
         --data '[  
            {  
                "correlation_id": "1",  
                "quantity": 2500000,  
                "product": "D",  
                "validity": "DAY",  
                "price": 0,  
                "tag": "string",  
                "instrument_token": "NSE_FO|62864",  
                "order_type": "MARKET",  
                "transaction_type": "BUY",  
                "disclosed_quantity": 0,  
                "trigger_price": 0,  
                "is_amo": false,  
                "slice": true  
            },  
            {  
                "correlation_id": "2",  
                "quantity": 2500000,  
                "product": "D",  
                "validity": "DAY",  
                "price": 0,  
                "tag": "string",  
                "instrument_token": "NSE_FO|62867",  
                "order_type": "MARKET",  
                "transaction_type": "SELL",  
                "disclosed_quantity": 0,  
                "trigger_price": 0,  
                "is_amo": false,  
                "slice": true  
            }  
        ]'  
    '  
      
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/multi/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = [  
        {  
            "correlation_id": "1",  
            "quantity": 2500000,  
            "product": "D",  
            "validity": "DAY",  
            "price": 0,  
            "tag": "string",  
            "instrument_token": "NSE_FO|62864",  
            "order_type": "MARKET",  
            "transaction_type": "BUY",  
            "disclosed_quantity": 0,  
            "trigger_price": 0,  
            "is_amo": False,  
            "slice": True  
        },  
        {  
            "correlation_id": "2",  
            "quantity": 2500000,  
            "product": "D",  
            "validity": "DAY",  
            "price": 0,  
            "tag": "string",  
            "instrument_token": "NSE_FO|62867",  
            "order_type": "MARKET",  
            "transaction_type": "SELL",  
            "disclosed_quantity": 0,  
            "trigger_price": 0,  
            "is_amo": False,  
            "slice": True  
        }  
    ]  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/multi/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = [  
      {  
        "correlation_id": "1",  
        "quantity": 2500000,  
        "product": "D",  
        "validity": "DAY",  
        "price": 0,  
        "tag": "string",  
        "instrument_token": "NSE_FO|62864",  
        "order_type": "MARKET",  
        "transaction_type": "BUY",  
        "disclosed_quantity": 0,  
        "trigger_price": 0,  
        "is_amo": false,  
        "slice": true  
      },  
      {  
        "correlation_id": "2",  
        "quantity": 2500000,  
        "product": "D",  
        "validity": "DAY",  
        "price": 0,  
        "tag": "string",  
        "instrument_token": "NSE_FO|62867",  
        "order_type": "MARKET",  
        "transaction_type": "SELL",  
        "disclosed_quantity": 0,  
        "trigger_price": 0,  
        "is_amo": false,  
        "slice": true  
      }  
    ];  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response Code:', response.status);  
        console.log('Response Body:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/order/multi/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body with multiple orders  
            String requestBody = "["  
                    + "{"  
                    + "\"correlation_id\": \"1\","  
                    + "\"quantity\": 2500000,"  
                    + "\"product\": \"D\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_FO|62864\","  
                    + "\"order_type\": \"MARKET\","  
                    + "\"transaction_type\": \"BUY\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 0,"  
                    + "\"is_amo\": false,"  
                    + "\"slice\": true"  
                    + "},"  
                    + "{"  
                    + "\"correlation_id\": \"2\","  
                    + "\"quantity\": 2500000,"  
                    + "\"product\": \"D\","  
                    + "\"validity\": \"DAY\","  
                    + "\"price\": 0,"  
                    + "\"tag\": \"string\","  
                    + "\"instrument_token\": \"NSE_FO|62867\","  
                    + "\"order_type\": \"MARKET\","  
                    + "\"transaction_type\": \"SELL\","  
                    + "\"disclosed_quantity\": 0,"  
                    + "\"trigger_price\": 0,"  
                    + "\"is_amo\": false,"  
                    + "\"slice\": true"  
                    + "}"  
                    + "]";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/order/multi/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    // Set up the request body with multiple orders  
    $data = [  
        [  
            "correlation_id" => "1",  
            "quantity" => 2500000,  
            "product" => "D",  
            "validity" => "DAY",  
            "price" => 0,  
            "tag" => "string",  
            "instrument_token" => "NSE_FO|62864",  
            "order_type" => "MARKET",  
            "transaction_type" => "BUY",  
            "disclosed_quantity" => 0,  
            "trigger_price" => 0,  
            "is_amo" => false,  
            "slice" => true  
        ],  
        [  
            "correlation_id" => "2",  
            "quantity" => 2500000,  
            "product" => "D",  
            "validity" => "DAY",  
            "price" => 0,  
            "tag" => "string",  
            "instrument_token" => "NSE_FO|62867",  
            "order_type" => "MARKET",  
            "transaction_type" => "SELL",  
            "disclosed_quantity" => 0,  
            "trigger_price" => 0,  
            "is_amo" => false,  
            "slice" => true  
        ]  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    body = [  
        upstox_client.MultiOrderRequest(25, "D", "DAY", 0, "string", True, "NSE_FO|44166", "MARKET", "BUY",  
                                        0, 0, True, "1")  
    ]  
      
    try:  
        api_response = api_instance.place_multi_order(body)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->place_order: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    apiInstance = new UpstoxClient.OrderApi();  
    body = []  
    order = new UpstoxClient.MultiOrderRequest(25,"D","DAY",0,true,"NSE_FO|44166","MARKET","BUY",0,0,true,"1");  
    order.tag = "string"; //optional parameter tag  
    body = body.concat(order);  
      
      
    apiInstance.placeMultiOrder(body, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.MultiOrderRequest;  
    import com.upstox.api.MultiOrderResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OrderApi;  
      
    import java.util.ArrayList;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            OrderApi apiInstance = new OrderApi();  
            MultiOrderRequest orderRequest = new MultiOrderRequest();  
            orderRequest.setQuantity(25);  
            orderRequest.setProduct(MultiOrderRequest.ProductEnum.D);  
            orderRequest.setValidity(MultiOrderRequest.ValidityEnum.DAY);  
            orderRequest.setPrice(0F);  
            orderRequest.setTag("string");  
            orderRequest.setInstrumentToken("NSE_FO|44166");  
            orderRequest.orderType(MultiOrderRequest.OrderTypeEnum.MARKET);  
            orderRequest.setTransactionType(MultiOrderRequest.TransactionTypeEnum.BUY);  
            orderRequest.setDisclosedQuantity(0);  
            orderRequest.setTriggerPrice(0F);  
            orderRequest.setIsAmo(true);  
            orderRequest.setCorrelationId("1");  
            orderRequest.setSlice(true);  
      
            try {  
                ArrayList<MultiOrderRequest> list = new ArrayList<>();  
                list.add(orderRequest);  
                MultiOrderResponse result = apiInstance.placeMultiOrder(list);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#MultiOrder= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/orders/cancel-multi-order
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Order
  * Cancel Multi Order



On this page

# Cancel Multi Order

## Cancel all the open orders[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/cancel-multi-order/#cancel-all-the-open-orders> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request DELETE 'https://api.upstox.com/v2/order/multi/cancel' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/multi/cancel'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.delete(url, headers=headers)  
      
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/multi/cancel';  
    const headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}', // Replace {your_access_token} with the actual access token  
    };  
      
    axios.delete(url, { headers })  
        .then(response => {  
            console.log(response.data);  
        })  
        .catch(error => {  
            console.error(error.response ? error.response.data : error.message);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/order/multi/cancel";  
      
            // Replace with your actual values  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient client = HttpClient.newHttpClient();  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .DELETE()  
                    .build();  
      
            HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
      
            System.out.println("Response Code: " + response.statusCode());  
            System.out.println("Response Body: " + response.body());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/order/multi/cancel';  
      
    // Replace with your actual values  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
      
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'DELETE');  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, array(  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader  
    ));  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'Response Code: ' . $httpCode . PHP_EOL;  
    echo 'Response Body: ' . $response . PHP_EOL;  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = "{your_access_token}"  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.cancel_multi_order()  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->cancel all: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    apiInstance.cancelMultiOrder(null, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.CancelOrExitMultiOrderResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OrderApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            OrderApi apiInstance = new OrderApi();  
      
            try {  
                CancelOrExitMultiOrderResponse result = apiInstance.cancelMultiOrder(null,null);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#cancelMultiOrder= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

## Cancel all the open orders for a given segment[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/cancel-multi-order/#cancel-all-the-open-orders-for-a-given-segment> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request DELETE 'https://api.upstox.com/v2/order/multi/cancel?segment=NSE_FO' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/multi/cancel?segment=NSE_FO'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.delete(url, headers=headers)  
      
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/multi/cancel?segment=NSE_FO';  
    const headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}', // Replace {your_access_token} with the actual access token  
    };  
      
    axios.delete(url, { headers })  
        .then(response => {  
            console.log(response.data);  
        })  
        .catch(error => {  
            console.error(error.response ? error.response.data : error.message);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/order/multi/cancel?segment=NSE_FO";  
      
            // Replace with your actual values  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient client = HttpClient.newHttpClient();  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .DELETE()  
                    .build();  
      
            HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
      
            System.out.println("Response Code: " + response.statusCode());  
            System.out.println("Response Body: " + response.body());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/order/multi/cancel?segment=NSE_FO';  
      
    // Replace with your actual values  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
      
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'DELETE');  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, array(  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader  
    ));  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'Response Code: ' . $httpCode . PHP_EOL;  
    echo 'Response Body: ' . $response . PHP_EOL;  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = "{your_access_token}"  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
      
    param = {  
        'segment': "NSE_FO"  
    }  
      
    try:  
        api_response = api_instance.cancel_multi_order(**param)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->cancel all: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    opts = {  
      'segment': 'NSE_FO'  
    }  
    apiInstance.cancelMultiOrder(opts, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.CancelOrExitMultiOrderResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OrderApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            OrderApi apiInstance = new OrderApi();  
      
            try {  
                CancelOrExitMultiOrderResponse result = apiInstance.cancelMultiOrder(null,"NSE_FO");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#cancelMultiOrder= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

## Cancel all the open orders for a given tag[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/cancel-multi-order/#cancel-all-the-open-orders-for-a-given-tag> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request DELETE 'https://api.upstox.com/v2/order/multi/cancel?tag=xyz' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/multi/cancel?tag=xyz'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.delete(url, headers=headers)  
      
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/multi/cancel?tag=xyz';  
    const headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}', // Replace {your_access_token} with the actual access token  
    };  
      
    axios.delete(url, { headers })  
        .then(response => {  
            console.log(response.data);  
        })  
        .catch(error => {  
            console.error(error.response ? error.response.data : error.message);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/order/multi/cancel?tag=xyz";  
      
            // Replace with your actual values  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient client = HttpClient.newHttpClient();  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .DELETE()  
                    .build();  
      
            HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
      
            System.out.println("Response Code: " + response.statusCode());  
            System.out.println("Response Body: " + response.body());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/order/multi/cancel?tag=xyz';  
      
    // Replace with your actual values  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
      
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'DELETE');  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, array(  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader  
    ));  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'Response Code: ' . $httpCode . PHP_EOL;  
    echo 'Response Body: ' . $response . PHP_EOL;  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = "{your_access_token}"  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
      
    param = {  
        'tag': "xyz"  
    }  
      
    try:  
        api_response = api_instance.cancel_multi_order(**param)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->cancel all: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    opts = {  
      'tag': 'xyz'  
    }  
    apiInstance.cancelMultiOrder(opts, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.CancelOrExitMultiOrderResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OrderApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            OrderApi apiInstance = new OrderApi();  
      
            try {  
                CancelOrExitMultiOrderResponse result = apiInstance.cancelMultiOrder("xyz",null);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#cancelMultiOrder= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
      
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/orders/exit-all-positions
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Order
  * Exit All Positions



On this page

# Exit All Positions

## Exit all the open positions[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/exit-all-positions/#exit-all-the-open-positions> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request POST 'https://api.upstox.com/v2/order/positions/exit' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/positions/exit'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {}  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/positions/exit';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {};  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/order/positions/exit";  
            String token = "Bearer {your_access_token}";  
      
            // empty request body  
            String requestBody = "";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/order/positions/exit';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = "{your_access_token}"  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.exit_positions()  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->exit all positions: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    apiInstance.exitPositions(null, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.CancelOrExitMultiOrderResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OrderApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            OrderApi apiInstance = new OrderApi();  
      
            try {  
                CancelOrExitMultiOrderResponse result = apiInstance.exitPositions(null,null);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#exitPositions= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

## Exit all the open positions for a given segment[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/exit-all-positions/#exit-all-the-open-positions-for-a-given-segment> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request POST 'https://api.upstox.com/v2/order/positions/exit?segment=NSE_FO' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/positions/exit?segment=NSE_FO'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {}  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/positions/exit?segment=NSE_FO';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {};  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/order/positions/exit?segment=NSE_FO";  
            String token = "Bearer {your_access_token}";  
      
            // empty request body  
            String requestBody = "";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/order/positions/exit?segment=NSE_FO';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = "{your_access_token}"  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
      
    param = {  
        'segment': "NSE_FO"  
    }  
      
    try:  
        api_response = api_instance.exit_positions(**param)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->exit all position: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    opts = {  
      'segment': 'NSE_FO'  
    }  
    apiInstance.exitPositions(opts, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.CancelOrExitMultiOrderResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OrderApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            OrderApi apiInstance = new OrderApi();  
      
            try {  
                CancelOrExitMultiOrderResponse result = apiInstance.exitPositions(null,"NSE_FO");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#exitPositions= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

## Exit all the open positions for a given tag[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/exit-all-positions/#exit-all-the-open-positions-for-a-given-tag> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request POST 'https://api.upstox.com/v2/order/positions/exit?tag=xyz' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/positions/exit?tag=xyz'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {}  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/positions/exit?tag=xyz';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {};  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/order/positions/exit?tag=xyz";  
            String token = "Bearer {your_access_token}";  
      
            // empty request body  
            String requestBody = "";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/order/positions/exit?tag=xyz';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = "{your_access_token}"  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
      
    param = {  
        'tag': "xyz"  
    }  
      
    try:  
        api_response = api_instance.exit_positions(**param)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->exit all position: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    opts = {  
      'tag': 'xyz'  
    }  
    apiInstance.exitPositions(opts, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.CancelOrExitMultiOrderResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OrderApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            OrderApi apiInstance = new OrderApi();  
      
            try {  
                CancelOrExitMultiOrderResponse result = apiInstance.exitPositions("xyz",null);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#exitPositions= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
      
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/orders/modify-order
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Order
  * Modify Order



On this page

# Modify Order

## Modify a delivery order[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/modify-order/#modify-a-delivery-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request PUT 'https://api-hft.upstox.com/v2/order/modify' \  
    --header 'Accept: application/json' \  
    --header 'Content-Type: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 2,  
      "validity": "DAY",  
      "price": 16.8,  
      "order_id": "240108010918222",  
      "order_type": "LIMIT",  
      "disclosed_quantity": 0,  
      "trigger_price": 16.9  
    }'  
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v2/order/modify'  
    headers = {  
        'Accept': 'application/json',  
        'Content-Type': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    data = {  
        'quantity': 3,  
        'validity': 'DAY',  
        'price': 16.8,  
        'order_id': '240108010918222',  
        'order_type': 'LIMIT',  
        'disclosed_quantity': 0,  
        'trigger_price': 16.9  
    }  
      
    response = requests.put(url, headers=headers, json=data)  
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v2/order/modify';  
    const headers = {  
        'Accept': 'application/json',  
        'Content-Type': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    const data = {  
        'quantity': 2,  
        'validity': 'DAY',  
        'price': 16.8,  
        'order_id': '240108010918222',  
        'order_type': 'LIMIT',  
        'disclosed_quantity': 0,  
        'trigger_price': 16.9  
    };  
      
    axios.put(url, data, { headers })  
        .then(response => console.log(response.data))  
        .catch(error => console.error(error.response.data));  
      
    
    
    
    import java.io.OutputStream;  
    import java.net.HttpURLConnection;  
    import java.net.URL;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            try {  
                URL url = new URL("https://api-hft.upstox.com/v2/order/modify");  
                HttpURLConnection connection = (HttpURLConnection) url.openConnection();  
      
                connection.setRequestMethod("PUT");  
                connection.setRequestProperty("Accept", "application/json");  
                connection.setRequestProperty("Content-Type", "application/json");  
                connection.setRequestProperty("Authorization", "Bearer {your_access_token}");  
      
                connection.setDoOutput(true);  
      
                String data = "{\"quantity\": 2, \"validity\": \"DAY\", \"price\": 16.8, \"order_id\": \"240108010918222\", \"order_type\": \"LIMIT\", \"disclosed_quantity\": 0, \"trigger_price\": 16.9}";  
      
                try (OutputStream os = connection.getOutputStream()) {  
                    byte[] input = data.getBytes("utf-8");  
                    os.write(input, 0, input.length);  
                }  
      
                int responseCode = connection.getResponseCode();  
                System.out.println("Response Code: " + responseCode);  
      
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v2/order/modify';  
    $headers = array(  
        'Accept: application/json',  
        'Content-Type: application/json',  
        'Authorization: Bearer {your_access_token}'  
    );  
      
    $data = array(  
        'quantity' => 2,  
        'validity' => 'DAY',  
        'price' => 16.8,  
        'order_id' => '240108010918222',  
        'order_type' => 'LIMIT',  
        'disclosed_quantity' => 0,  
        'trigger_price' => 16.9  
    );  
      
    $ch = curl_init();  
      
    curl_setopt($ch, CURLOPT_URL, $url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);  
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'PUT');  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $result = curl_exec($ch);  
      
    if (curl_errno($ch)) {  
        echo 'Error: ' . curl_error($ch);  
    }  
      
    curl_close($ch);  
      
    echo $result;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    body = upstox_client.ModifyOrderRequest(2, "DAY", 0, "231222010275930", "MARKET", 0, 0)  
    api_version = '2.0'  # str | API Version Header  
      
    try:  
        # Modify order  
        api_response = api_instance.modify_order(body, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->modify_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.OrderApi();  
      
    let body = new UpstoxClient.ModifyOrderRequest(UpstoxClient.ModifyOrderRequest.ValidityEnum.DAY,0,"240111010331447",UpstoxClient.ModifyOrderRequest.OrderTypeEnum.MARKET,0);  
    let apiVersion = "2.0"; // String | API Version Header  
      
    apiInstance.modifyOrder(body, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.ModifyOrderRequest;  
    import com.upstox.api.ModifyOrderResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OrderApi apiInstance = new OrderApi();  
            ModifyOrderRequest body = new ModifyOrderRequest();  
            body.setQuantity(2);  
            body.setValidity(ModifyOrderRequest.ValidityEnum.DAY);  
            body.setPrice(0F);  
            body.setDisclosedQuantity(0);  
            body.setTriggerPrice(0F);  
            body.setOrderType(ModifyOrderRequest.OrderTypeEnum.MARKET);  
            body.setOrderId("240125010587640");  
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                ModifyOrderResponse result = apiInstance.modifyOrder(body, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#placeOrder ");  
                e.printStackTrace();  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/orders/v3/modify-order
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Order
  * Modify Order V3



On this page

# Modify Order V3

## Modify a delivery order[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/v3/modify-order/#modify-a-delivery-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request PUT 'https://api-hft.upstox.com/v3/order/modify' \  
    --header 'Accept: application/json' \  
    --header 'Content-Type: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "quantity": 2,  
      "validity": "DAY",  
      "price": 16.8,  
      "order_id": "240108010918222",  
      "order_type": "LIMIT",  
      "disclosed_quantity": 0,  
      "trigger_price": 16.9  
    }'  
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v3/order/modify'  
    headers = {  
        'Accept': 'application/json',  
        'Content-Type': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    data = {  
        'quantity': 3,  
        'validity': 'DAY',  
        'price': 16.8,  
        'order_id': '240108010918222',  
        'order_type': 'LIMIT',  
        'disclosed_quantity': 0,  
        'trigger_price': 16.9  
    }  
      
    response = requests.put(url, headers=headers, json=data)  
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v3/order/modify';  
    const headers = {  
        'Accept': 'application/json',  
        'Content-Type': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    const data = {  
        'quantity': 2,  
        'validity': 'DAY',  
        'price': 16.8,  
        'order_id': '240108010918222',  
        'order_type': 'LIMIT',  
        'disclosed_quantity': 0,  
        'trigger_price': 16.9  
    };  
      
    axios.put(url, data, { headers })  
        .then(response => console.log(response.data))  
        .catch(error => console.error(error.response.data));  
      
    
    
    
    import java.io.OutputStream;  
    import java.net.HttpURLConnection;  
    import java.net.URL;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            try {  
                URL url = new URL("https://api-hft.upstox.com/v3/order/modify");  
                HttpURLConnection connection = (HttpURLConnection) url.openConnection();  
      
                connection.setRequestMethod("PUT");  
                connection.setRequestProperty("Accept", "application/json");  
                connection.setRequestProperty("Content-Type", "application/json");  
                connection.setRequestProperty("Authorization", "Bearer {your_access_token}");  
      
                connection.setDoOutput(true);  
      
                String data = "{\"quantity\": 2, \"validity\": \"DAY\", \"price\": 16.8, \"order_id\": \"240108010918222\", \"order_type\": \"LIMIT\", \"disclosed_quantity\": 0, \"trigger_price\": 16.9}";  
      
                try (OutputStream os = connection.getOutputStream()) {  
                    byte[] input = data.getBytes("utf-8");  
                    os.write(input, 0, input.length);  
                }  
      
                int responseCode = connection.getResponseCode();  
                System.out.println("Response Code: " + responseCode);  
      
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v3/order/modify';  
    $headers = array(  
        'Accept: application/json',  
        'Content-Type: application/json',  
        'Authorization: Bearer {your_access_token}'  
    );  
      
    $data = array(  
        'quantity' => 2,  
        'validity' => 'DAY',  
        'price' => 16.8,  
        'order_id' => '240108010918222',  
        'order_type' => 'LIMIT',  
        'disclosed_quantity' => 0,  
        'trigger_price' => 16.9  
    );  
      
    $ch = curl_init();  
      
    curl_setopt($ch, CURLOPT_URL, $url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);  
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'PUT');  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $result = curl_exec($ch);  
      
    if (curl_errno($ch)) {  
        echo 'Error: ' . curl_error($ch);  
    }  
      
    curl_close($ch);  
      
    echo $result;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApiV3(upstox_client.ApiClient(configuration))  
    body = upstox_client.ModifyOrderRequest(1, "DAY", 9.12, "25030310405859", "LIMIT", 0, 0)  
      
    try:  
        api_response = api_instance.modify_order(body)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApiV3->modify_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApiV3();  
    body = new UpstoxClient.ModifyOrderRequest(UpstoxClient.ModifyOrderRequest.ValidityEnum.DAY,0,"2505010177418",UpstoxClient.ModifyOrderRequest.OrderTypeEnum.MARKET,1);   
    body.quantity = 1;  
      
    apiInstance.modifyOrder(body, (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.OrderApiV3;  
    import com.upstox.api.ModifyOrderRequest;  
    import com.upstox.api.ModifyOrderV3Response;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            defaultClient.setAccessToken("{your_access_token}");  
              
            OrderApiV3 apiInstance = new OrderApiV3();  
            ModifyOrderRequest modifyOrderRequest1 = new ModifyOrderRequest();  
            modifyOrderRequest1.setQuantity(2);  
            modifyOrderRequest1.setValidity(ModifyOrderRequest.ValidityEnum.DAY);  
            modifyOrderRequest1.setPrice(9F);  
            modifyOrderRequest1.setDisclosedQuantity(0);  
            modifyOrderRequest1.setTriggerPrice(0F);  
            modifyOrderRequest1.setOrderType(ModifyOrderRequest.OrderTypeEnum.LIMIT);  
            modifyOrderRequest1.setOrderId("250128010532402");  
              
            try {  
                ModifyOrderV3Response result = apiInstance.modifyOrder(modifyOrderRequest1);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApiV3->modifyOrder: " + e.getMessage());  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/orders/cancel-order
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Order
  * Cancel Order



On this page

# Cancel Order

## Cancel an open order[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/cancel-order/#cancel-an-open-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request DELETE 'https://api-hft.upstox.com/v2/order/cancel?order_id=240108010445130' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v2/order/cancel?order_id=240108010445130'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.delete(url, headers=headers)  
      
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v2/order/cancel?order_id=240108010445130';  
    const headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}', // Replace {your_access_token} with the actual access token  
    };  
      
    axios.delete(url, { headers })  
        .then(response => {  
            console.log(response.data);  
        })  
        .catch(error => {  
            console.error(error.response ? error.response.data : error.message);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) throws Exception {  
            String url = "https://api-hft.upstox.com/v2/order/cancel?order_id=240108010913262";  
      
            // Replace with your actual values  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient client = HttpClient.newHttpClient();  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .DELETE()  
                    .build();  
      
            HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
      
            System.out.println("Response Code: " + response.statusCode());  
            System.out.println("Response Body: " + response.body());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v2/order/cancel?order_id=240108010445130';  
      
    // Replace with your actual values  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
      
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'DELETE');  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, array(  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader  
    ));  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'Response Code: ' . $httpCode . PHP_EOL;  
    echo 'Response Body: ' . $response . PHP_EOL;  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    order_id = '231221011081579'  
    api_version = '2.0'  
      
    try:  
        # Cancel order  
        api_response = api_instance.cancel_order(order_id, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->cancel_order: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.OrderApi();  
      
    let orderId = "240111010403654";  
    let apiVersion = "2.0";  
      
    apiInstance.cancelOrder(orderId, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.CancelOrderResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            OrderApi apiInstance = new OrderApi();  
            String orderId = "240125010599037";  
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                CancelOrderResponse result = apiInstance.cancelOrder(orderId,apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#placeOrder ");  
                e.printStackTrace();  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/orders/v3/cancel-order
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Order
  * Cancel Order V3



On this page

# Cancel Order V3

## Cancel an open order[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/v3/cancel-order/#cancel-an-open-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request DELETE 'https://api-hft.upstox.com/v3/order/cancel?order_id=240108010445130' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api-hft.upstox.com/v3/order/cancel?order_id=240108010445130'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.delete(url, headers=headers)  
      
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api-hft.upstox.com/v3/order/cancel?order_id=240108010445130';  
    const headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}', // Replace {your_access_token} with the actual access token  
    };  
      
    axios.delete(url, { headers })  
        .then(response => {  
            console.log(response.data);  
        })  
        .catch(error => {  
            console.error(error.response ? error.response.data : error.message);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
      
    public class Main {  
      
        public static void main(String[] args) throws Exception {  
            String url = "https://api-hft.upstox.com/v3/order/cancel?order_id=240108010913262";  
      
            // Replace with your actual values  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient client = HttpClient.newHttpClient();  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .DELETE()  
                    .build();  
      
            HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
      
            System.out.println("Response Code: " + response.statusCode());  
            System.out.println("Response Body: " + response.body());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api-hft.upstox.com/v3/order/cancel?order_id=240108010445130';  
      
    // Replace with your actual values  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
      
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'DELETE');  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, array(  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader  
    ));  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'Response Code: ' . $httpCode . PHP_EOL;  
    echo 'Response Body: ' . $response . PHP_EOL;  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApiV3(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.cancel_order("2501211050101")  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApiV3->cancel_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApiV3();  
      
    apiInstance.cancelOrder("2503050177418", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + data);  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.OrderApiV3;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            defaultClient.setAccessToken("{your_access_token}");  
              
            OrderApiV3 apiInstance = new OrderApiV3();  
            try {  
                System.out.println(apiInstance.cancelOrder("250128010534339"));  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApiV3->cancelOrder: " + e.getMessage());  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/orders/get-order-details
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Order
  * Get Order Details



On this page

# Get Order Details

## Get order details for an order number[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/get-order-details/#get-order-details-for-an-order-number> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/order/details?order_id=240108010445130' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/details'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    params = {'order_id': '240108010445130'}  
      
    response = requests.get(url, headers=headers, params=params)  
      
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/details';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access}'  
    };  
      
    const params = {  
      order_id: '240108010445130'  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.util.Map;  
      
    public class Main {  
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/order/details";  
            String accept = "application/json";  
            String authorization = "Bearer {your_access_token}";  
            String orderId = "240108010445130";  
      
            try {  
                HttpClient httpClient = HttpClient.newHttpClient();  
      
                // Build the URI with query parameters  
                URI uri = URI.create(url + "?order_id=" + orderId);  
      
                // Build the request  
                HttpRequest request = HttpRequest.newBuilder()  
                        .uri(uri)  
                        .header("Accept", accept)  
                        .header("Authorization", authorization)  
                        .GET()  
                        .build();  
      
                // Send the request and get the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response: " + response.body());  
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/order/details?order_id=240108010445130';  
    $headers = array(  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}'  
    );  
      
    $ch = curl_init();  
      
    curl_setopt($ch, CURLOPT_URL, $url);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Response Code: " . $httpCode . PHP_EOL;  
    echo "Response: " . $response . PHP_EOL;  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = "{your_access_token}"  
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.get_order_status(order_id="2410170106208487")  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->get order status: %s\n" % e.body)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    let optsOrderStatus = {  
      orderId: "241017010620465"  
    };  
    apiInstance.getOrderStatus(optsOrderStatus,(error,data,response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    })  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetOrderDetailsResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OrderApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            OrderApi apiInstance = new OrderApi();  
      
            try {  
                GetOrderDetailsResponse result = apiInstance.getOrderStatus("241017010620466");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#cancelMultiOrder= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
      
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/orders/get-order-book
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Order
  * Get Order Book



On this page

# Get Order Book

## Get all orders for the day[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/get-order-book/#get-all-orders-for-the-day> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/order/retrieve-all' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/retrieve-all'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/retrieve-all';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    axios.get(url, { headers })  
      .then(response => console.log(response.data))  
      .catch(error => console.error(error.response.data));  
    
    
    
    import java.net.HttpURLConnection;  
    import java.net.URL;  
    import java.io.BufferedReader;  
    import java.io.InputStreamReader;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/order/retrieve-all";  
            URL obj = new URL(url);  
            HttpURLConnection con = (HttpURLConnection) obj.openConnection();  
      
            // Set request headers  
            con.setRequestMethod("GET");  
            con.setRequestProperty("Accept", "application/json");  
            con.setRequestProperty("Authorization", "Bearer {your_access_token}");  
      
            int responseCode = con.getResponseCode();  
            BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));  
            String inputLine;  
            StringBuilder response = new StringBuilder();  
      
            while ((inputLine = in.readLine()) != null) {  
                response.append(inputLine);  
            }  
            in.close();  
      
            System.out.println(response.toString());  
        }  
    }  
    
    
    
    <?php  
    $url = 'https://api.upstox.com/v2/order/retrieve-all';  
    $headers = [  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
    curl_close($ch);  
      
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    api_version = '2.0'  
    try:  
        # Get order book  
        api_response = api_instance.get_order_book(api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->get_order_book: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.OrderApi();  
      
    let apiVersion = "2.0";  
      
    apiInstance.getOrderBook(apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetOrderBookResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            OrderApi apiInstance = new OrderApi();  
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                GetOrderBookResponse result = apiInstance.getOrderBook(apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#placeOrder ");  
                e.printStackTrace();  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/orders/get-order-history
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Order
  * Get Order History



On this page

# Get Order History

## Get order history for an order number[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/get-order-history/#get-order-history-for-an-order-number> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/order/history?order_id=240108010445130' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/history'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    params = {'order_id': '240108010445130'}  
      
    response = requests.get(url, headers=headers, params=params)  
      
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/history';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access}'  
    };  
      
    const params = {  
      order_id: '240108010445130'  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.util.Map;  
      
    public class Main {  
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/order/history";  
            String accept = "application/json";  
            String authorization = "Bearer {your_access_token}";  
            String orderId = "240108010445130";  
      
            try {  
                HttpClient httpClient = HttpClient.newHttpClient();  
      
                // Build the URI with query parameters  
                URI uri = URI.create(url + "?order_id=" + orderId);  
      
                // Build the request  
                HttpRequest request = HttpRequest.newBuilder()  
                        .uri(uri)  
                        .header("Accept", accept)  
                        .header("Authorization", authorization)  
                        .GET()  
                        .build();  
      
                // Send the request and get the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response: " + response.body());  
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/order/history?order_id=240108010445130';  
    $headers = array(  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}'  
    );  
      
    $ch = curl_init();  
      
    curl_setopt($ch, CURLOPT_URL, $url);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Response Code: " . $httpCode . PHP_EOL;  
    echo "Response: " . $response . PHP_EOL;  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    api_version = '2.0'  
    order_id = '240112010371054'  
      
    try:  
        api_response = api_instance.get_order_details(api_version, order_id=order_id)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->get_order_details: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApi();  
    let apiVersion = "2.0";  
    let opts = {  
      'orderId': "240112010371054"  
    };  
    apiInstance.getOrderDetails(apiVersion, opts, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetOrderResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OrderApi apiInstance = new OrderApi();  
            String apiVersion = "2.0";  
            String orderId = "240125010587640";  
            String tag = "string";  
            try {  
                GetOrderResponse result = apiInstance.getOrderDetails(apiVersion, orderId, tag);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#getOrderDetails");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/orders/get-trades
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Order
  * Get Trades



On this page

# Get Trades

## Get all trades for the day[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/get-trades/#get-all-trades-for-the-day> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/order/trades/get-trades-for-day' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/trades/get-trades-for-day'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/trades/get-trades-for-day';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    axios.get(url, { headers })  
      .then(response => console.log(response.data))  
      .catch(error => console.error(error.response.data));  
    
    
    
    import java.net.HttpURLConnection;  
    import java.net.URL;  
    import java.io.BufferedReader;  
    import java.io.InputStreamReader;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/order/trades/get-trades-for-day";  
            URL obj = new URL(url);  
            HttpURLConnection con = (HttpURLConnection) obj.openConnection();  
      
            // Set request headers  
            con.setRequestMethod("GET");  
            con.setRequestProperty("Accept", "application/json");  
            con.setRequestProperty("Authorization", "Bearer {your_access_token}");  
      
            int responseCode = con.getResponseCode();  
            BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));  
            String inputLine;  
            StringBuilder response = new StringBuilder();  
      
            while ((inputLine = in.readLine()) != null) {  
                response.append(inputLine);  
            }  
            in.close();  
      
            System.out.println(response.toString());  
        }  
    }  
    
    
    
    <?php  
    $url = 'https://api.upstox.com/v2/trades/get-trades-for-day';  
    $headers = [  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
    curl_close($ch);  
      
    echo $response;  
    ?>  
      
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    api_version = '2.0'  
      
    try:  
        # Get trades  
        api_response = api_instance.get_trade_history(api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->get_trade_history: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.OrderApi();  
      
    let apiVersion = "2.0";  
      
    apiInstance.getTradeHistory(apiVersion, (error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
      });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetTradeResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            OrderApi apiInstance = new OrderApi();  
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                GetTradeResponse result = apiInstance.getTradeHistory(apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#getTradeHistory");  
                e.printStackTrace();  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/orders/get-historical-trades
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Order
  * Get Trade History



On this page

# Get Trade History

## Get trade history for equity segment[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/get-historical-trades/#get-trade-history-for-equity-segment> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/charges/historical-trades?segment=EQ&start_date=2022-04-01&end_date=2023-03-31&page_number=1&page_size=100' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/charges/historical-trades'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
    params = {  
        'segment': 'EQ',  
        'start_date': '2022-04-01',  
        'end_date': '2023-03-31',  
        'page_number': '1',  
        'page_size': '100'  
    }  
      
    response = requests.get(url, headers=headers, params=params)  
      
    if response.status_code == 200:  
        data = response.json()  
        print(data)  
    else:  
        print(f"Error: {response.status_code} - {response.text}")  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/charges/historical-trades';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
    const params = {  
      'segment': 'EQ',  
      'start_date': '2022-04-01',  
      'end_date': '2023-03-31',  
      'page_number': '1',  
      'page_size': '100'  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log(response.data); // or do something with the data  
      })  
      .catch(error => {  
        console.error('Error:', error.response.data);  
      });  
      
    
    
    
    import java.io.BufferedReader;  
    import java.io.IOException;  
    import java.io.InputStreamReader;  
    import java.net.HttpURLConnection;  
    import java.net.URI;  
    import java.net.URL;  
    import java.util.stream.Collectors;  
      
    public class Main {  
        public static void main(String[] args) throws IOException {  
            String baseUrl = "https://api.upstox.com/v2/charges/historical-trades";  
            String accessToken = "{your_access_token}";  
            String segment = "EQ";  
            String startDate = "2022-04-01";  
            String endDate = "2023-03-31";  
            int pageNumber = 1;  
            int pageSize = 100;  
      
            URI uri = URI.create(String.format("%s?segment=%s&start_date=%s&end_date=%s&page_number=%d&page_size=%d",  
                    baseUrl, segment, startDate, endDate, pageNumber, pageSize));  
            URL url = uri.toURL();  
      
            HttpURLConnection connection = (HttpURLConnection) url.openConnection();  
            connection.setRequestMethod("GET");  
            connection.setRequestProperty("Accept", "application/json");  
            connection.setRequestProperty("Authorization", "Bearer " + accessToken);  
      
            int responseCode = connection.getResponseCode();  
            if (responseCode == HttpURLConnection.HTTP_OK) {  
                BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));  
                String responseBody = reader.lines().collect(Collectors.joining(System.lineSeparator()));  
                System.out.println(responseBody);  
                reader.close();  
            } else {  
                System.out.println("Error: " + responseCode + " - " + connection.getResponseMessage());  
            }  
      
            connection.disconnect();  
        }  
    }  
      
    
    
    
    <?php  
      
    $curl = curl_init();  
      
    curl_setopt_array($curl, [  
      CURLOPT_URL => 'https://api.upstox.com/v2/charges/historical-trades?segment=EQ&start_date=2022-04-01&end_date=2023-03-31&page_number=1&page_size=100',  
      CURLOPT_RETURNTRANSFER => true,  
      CURLOPT_FOLLOWLOCATION => true,  
      CURLOPT_HTTPHEADER => [  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}'  
      ],  
    ]);  
      
    $response = curl_exec($curl);  
      
    if ($response === false) {  
      echo 'Error: ' . curl_error($curl);  
    } else {  
      echo $response;  
    }  
      
    curl_close($curl);  
      
    ?>  
      
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = "{your_access_token}"  
    api_instance = upstox_client.PostTradeApi(upstox_client.ApiClient(configuration))  
      
    param = {  
        'segment': "EQ"  
    }  
      
    try:  
        api_response = api_instance.get_trades_by_date_range("2023-04-01", "2025-03-31",1,1000,**param)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->get trades_by_date_range: %s\n" % e.body)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    apiInstance = new UpstoxClient.PostTradeApi();  
    opts = {  
        segment: "EQ"  
    }  
    apiInstance.getTradesByDateRange("2023-04-01","2024-08-30",1,1000,opts,(error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.TradeHistoryResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.PostTradeApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            PostTradeApi apiInstance = new PostTradeApi();  
      
            try {  
                TradeHistoryResponse result = apiInstance.getTradesByDateRange("2023-04-01","2025-08-01",1,1000,"EQ");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#getTradesByDateRange= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

## Get trade history for futures and options segment[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/get-historical-trades/#get-trade-history-for-futures-and-options-segment> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/charges/historical-trades?segment=FO&start_date=2022-04-01&end_date=2023-03-31&page_number=1&page_size=100' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/charges/historical-trades'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
    params = {  
        'segment': 'FO',  
        'start_date': '2022-04-01',  
        'end_date': '2023-03-31',  
        'page_number': '1',  
        'page_size': '100'  
    }  
      
    response = requests.get(url, headers=headers, params=params)  
      
    if response.status_code == 200:  
        data = response.json()  
        print(data)  
    else:  
        print(f"Error: {response.status_code} - {response.text}")  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/charges/historical-trades';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
    const params = {  
      'segment': 'FO',  
      'start_date': '2022-04-01',  
      'end_date': '2023-03-31',  
      'page_number': '1',  
      'page_size': '100'  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log(response.data); // or do something with the data  
      })  
      .catch(error => {  
        console.error('Error:', error.response.data);  
      });  
      
    
    
    
    import java.io.BufferedReader;  
    import java.io.IOException;  
    import java.io.InputStreamReader;  
    import java.net.HttpURLConnection;  
    import java.net.URI;  
    import java.net.URL;  
    import java.util.stream.Collectors;  
      
    public class Main {  
        public static void main(String[] args) throws IOException {  
            String baseUrl = "https://api.upstox.com/v2/charges/historical-trades";  
            String accessToken = "{your_access_token}";  
            String segment = "FO";  
            String startDate = "2022-04-01";  
            String endDate = "2023-03-31";  
            int pageNumber = 1;  
            int pageSize = 100;  
      
            URI uri = URI.create(String.format("%s?segment=%s&start_date=%s&end_date=%s&page_number=%d&page_size=%d",  
                    baseUrl, segment, startDate, endDate, pageNumber, pageSize));  
            URL url = uri.toURL();  
      
            HttpURLConnection connection = (HttpURLConnection) url.openConnection();  
            connection.setRequestMethod("GET");  
            connection.setRequestProperty("Accept", "application/json");  
            connection.setRequestProperty("Authorization", "Bearer " + accessToken);  
      
            int responseCode = connection.getResponseCode();  
            if (responseCode == HttpURLConnection.HTTP_OK) {  
                BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));  
                String responseBody = reader.lines().collect(Collectors.joining(System.lineSeparator()));  
                System.out.println(responseBody);  
                reader.close();  
            } else {  
                System.out.println("Error: " + responseCode + " - " + connection.getResponseMessage());  
            }  
      
            connection.disconnect();  
        }  
    }  
      
    
    
    
    <?php  
      
    $curl = curl_init();  
      
    curl_setopt_array($curl, [  
      CURLOPT_URL => 'https://api.upstox.com/v2/charges/historical-trades?segment=FO&start_date=2022-04-01&end_date=2023-03-31&page_number=1&page_size=100',  
      CURLOPT_RETURNTRANSFER => true,  
      CURLOPT_FOLLOWLOCATION => true,  
      CURLOPT_HTTPHEADER => [  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}'  
      ],  
    ]);  
      
    $response = curl_exec($curl);  
      
    if ($response === false) {  
      echo 'Error: ' . curl_error($curl);  
    } else {  
      echo $response;  
    }  
      
    curl_close($curl);  
      
    ?>  
      
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = "{your_access_token}"  
    api_instance = upstox_client.PostTradeApi(upstox_client.ApiClient(configuration))  
      
    param = {  
        'segment': "FO"  
    }  
      
    try:  
        api_response = api_instance.get_trades_by_date_range("2023-04-01", "2025-03-31",1,1000,**param)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->get trades_by_date_range: %s\n" % e.body)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    apiInstance = new UpstoxClient.PostTradeApi();  
    opts = {  
        segment: "FO"  
    }  
    apiInstance.getTradesByDateRange("2023-04-01","2024-08-30",1,1000,opts,(error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.TradeHistoryResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.PostTradeApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            PostTradeApi apiInstance = new PostTradeApi();  
      
            try {  
                TradeHistoryResponse result = apiInstance.getTradesByDateRange("2023-04-01","2025-08-01",1,1000,"FO");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#getTradesByDateRange= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
      
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/orders/get-order-trades
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Order
  * Get Order Trades



On this page

# Get Order Trades

## Get trades for an order number[â€‹](<https://upstox.com/developer/api-documentation/example-code/orders/get-order-trades/#get-trades-for-an-order-number> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/order/trades?order_id=240108010445100' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/order/trades?order_id=240108010445100'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/order/trades?order_id=240108010445100';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    axios.get(url, { headers })  
      .then(response => console.log(response.data))  
      .catch(error => console.error(error.response.data));  
    
    
    
    import java.net.HttpURLConnection;  
    import java.net.URL;  
    import java.io.BufferedReader;  
    import java.io.InputStreamReader;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/order/trades?order_id=240108010445100";  
            URL obj = new URL(url);  
            HttpURLConnection con = (HttpURLConnection) obj.openConnection();  
      
            // Set request headers  
            con.setRequestMethod("GET");  
            con.setRequestProperty("Accept", "application/json");  
            con.setRequestProperty("Authorization", "Bearer {your_access_token}");  
      
            int responseCode = con.getResponseCode();  
            BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));  
            String inputLine;  
            StringBuilder response = new StringBuilder();  
      
            while ((inputLine = in.readLine()) != null) {  
                response.append(inputLine);  
            }  
            in.close();  
      
            System.out.println(response.toString());  
        }  
    }  
    
    
    
    <?php  
    $url = 'https://api.upstox.com/v2/trades?order_id=240108010445100';  
    $headers = [  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
    curl_close($ch);  
      
    echo $response;  
    ?>  
      
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.OrderApi(upstox_client.ApiClient(configuration))  
    order_id = '{your_order_id}'  
    api_version = '2.0'  
      
    try:  
        # Get trades for order  
        api_response = api_instance.get_trades_by_order(order_id, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->get_trades_by_order: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access}";  
    let apiInstance = new UpstoxClient.OrderApi();  
      
    let orderId = "240111010861817";  
    let apiVersion = "2.0";  
      
    apiInstance.getTradesByOrder(orderId, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetTradeResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.OrderApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OrderApi apiInstance = new OrderApi();  
            String apiVersion = "2.0";  
            String orderId = "240125010587640";  
            try {  
                GetTradeResponse result = apiInstance.getTradesByOrder(orderId, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi#getTradesByOrder");  
                e.printStackTrace();  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/gtt-orders/place-order
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * GTT Orders
  * Place GTT Order



On this page

# Place GTT Order

## Place Single Leg GTT Order[â€‹](<https://upstox.com/developer/api-documentation/example-code/gtt-orders/place-order/#place-single-leg-gtt-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/order/gtt/place' \  
    --header 'accept: application/json' \  
    --header 'Content-Type: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "type": "SINGLE",  
      "quantity": 1,  
      "product": "D",  
      "rules": [  
        {  
          "strategy": "ENTRY",  
          "trigger_type": "ABOVE",  
          "trigger_price": 6  
        }  
      ],  
      "instrument_token": "NSE_EQ|INE669E01016",  
      "transaction_type": "BUY"  
    }'  
      
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/order/gtt/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        "type": "SINGLE",  
        "quantity": 1,  
        "product": "D",  
        "rules": [  
            {  
                "strategy": "ENTRY",  
                "trigger_type": "ABOVE",  
                "trigger_price": 6  
            }  
        ],  
        "instrument_token": "NSE_EQ|INE669E01016",  
        "transaction_type": "BUY"  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/order/gtt/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      type: 'SINGLE',  
      quantity: 1,  
      product: 'D',  
      rules: [  
        {  
          strategy: 'ENTRY',  
          trigger_type: 'ABOVE',  
          trigger_price: 6  
        }  
      ],  
      instrument_token: 'NSE_EQ|INE669E01016',  
      transaction_type: 'BUY'  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/order/gtt/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"type\": \"SINGLE\","  
                    + "\"quantity\": 1,"  
                    + "\"product\": \"D\","  
                    + "\"rules\": [{"  
                    + "\"strategy\": \"ENTRY\","  
                    + "\"trigger_type\": \"ABOVE\","  
                    + "\"trigger_price\": 6"  
                    + "}],"  
                    + "\"instrument_token\": \"NSE_EQ|INE669E01016\","  
                    + "\"transaction_type\": \"BUY\""  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/order/gtt/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'type' => 'SINGLE',  
        'quantity' => 1,  
        'product' => 'D',  
        'rules' => [  
            [  
                'strategy' => 'ENTRY',  
                'trigger_type' => 'ABOVE',  
                'trigger_price' => 6  
            ]  
        ],  
        'instrument_token' => 'NSE_EQ|INE669E01016',  
        'transaction_type' => 'BUY',  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApiV3(upstox_client.ApiClient(configuration))  
      
    entry_rule = upstox_client.GttRule(strategy="ENTRY", trigger_type="ABOVE", trigger_price=7)  
    rules = [entry_rule]  
      
    body = upstox_client.GttPlaceOrderRequest(  
        type="SINGLE",   
        instrument_token="NSE_EQ|INE669E01016",   
        product="D",   
        quantity=1,   
        rules=rules,   
        transaction_type="BUY"  
    )  
      
    try:  
        api_response = api_instance.place_gtt_order(body=body)  
        print("GTT order response:", api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->gtt_place_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApiV3();  
    let entryRule = new UpstoxClient.GttRule(  
        UpstoxClient.GttRule.StrategyEnum.ENTRY,   
        UpstoxClient.GttRule.TriggerTypeEnum.ABOVE,   
        100  
    );  
      
    let body = new UpstoxClient.GttPlaceOrderRequest(  
        UpstoxClient.GttPlaceOrderRequest.TypeEnum.SINGLE,   
        1,   
        UpstoxClient.GttPlaceOrderRequest.ProductEnum.D,   
        [entryRule],  
        "NSE_EQ|INE669E01016",   
        UpstoxClient.GttPlaceOrderRequest.TransactionTypeEnum.BUY  
    );  
      
    apiInstance.placeGTTOrder(body, (error, data, response) => {  
        if (error) {  
            console.error(error.response.text);  
        } else {  
            console.log('API called successfully. Returned data:', data);  
        }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import java.util.ArrayList;  
    import java.util.List;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            defaultClient.setAccessToken("{your_access_token}");  
              
            OrderApiV3 apiInstance = new OrderApiV3();  
            GttPlaceOrderRequest gttPlaceOrderRequest = new GttPlaceOrderRequest();  
            gttPlaceOrderRequest.setQuantity(1);  
            gttPlaceOrderRequest.setProduct(GttPlaceOrderRequest.ProductEnum.D);  
            gttPlaceOrderRequest.setInstrumentToken("NSE_EQ|INE669E01016");  
            gttPlaceOrderRequest.setType(GttPlaceOrderRequest.TypeEnum.SINGLE);  
            gttPlaceOrderRequest.setTransactionType(GttPlaceOrderRequest.TransactionTypeEnum.BUY);  
              
            List<GttRule> gttRules = new ArrayList<>();  
              
            GttRule entryRule = new GttRule();  
            entryRule.setStrategy(GttRule.StrategyEnum.ENTRY);  
            entryRule.setTriggerType(GttRule.TriggerTypeEnum.ABOVE);  
            entryRule.setTriggerPrice(7D);  
            gttRules.add(entryRule);  
      
            gttPlaceOrderRequest.setRules(gttRules);  
      
            try {  
                GttTriggerOrderResponse result = apiInstance.placeGTTOrder(gttPlaceOrderRequest);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi->placeGTTOrder: " + e.getMessage());  
            }  
        }  
    }  
    

## Place Multiple Leg GTT Order[â€‹](<https://upstox.com/developer/api-documentation/example-code/gtt-orders/place-order/#place-multiple-leg-gtt-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/order/gtt/place' \  
    --header 'accept: application/json' \  
    --header 'Content-Type: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "type": "MULTIPLE",  
      "quantity": 1,  
      "product": "I",  
      "rules": [  
        {  
          "strategy": "ENTRY",  
          "trigger_type": "ABOVE",  
          "trigger_price": 7.3  
        },  
        {  
          "strategy": "TARGET",  
          "trigger_type": "IMMEDIATE",  
          "trigger_price": 9  
        },  
        {  
          "strategy": "STOPLOSS",  
          "trigger_type": "IMMEDIATE",  
          "trigger_price": 6  
        }  
      ],  
      "instrument_token": "NSE_EQ|INE669E01016",  
      "transaction_type": "BUY"  
    }'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/order/gtt/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        "type": "MULTIPLE",  
        "quantity": 1,  
        "product": "I",  
        "rules": [  
            {  
                "strategy": "ENTRY",  
                "trigger_type": "ABOVE",  
                "trigger_price": 7.3  
            },  
            {  
                "strategy": "TARGET",  
                "trigger_type": "IMMEDIATE",  
                "trigger_price": 9  
            },  
            {  
                "strategy": "STOPLOSS",  
                "trigger_type": "IMMEDIATE",  
                "trigger_price": 6  
            }  
        ],  
        "instrument_token": "NSE_EQ|INE669E01016",  
        "transaction_type": "BUY"  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/order/gtt/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      type: 'MULTIPLE',  
      quantity: 1,  
      product: 'I',  
      rules: [  
        {  
          strategy: 'ENTRY',  
          trigger_type: 'ABOVE',  
          trigger_price: 7.3  
        },  
        {  
          strategy: 'TARGET',  
          trigger_type: 'IMMEDIATE',  
          trigger_price: 9  
        },  
        {  
          strategy: 'STOPLOSS',  
          trigger_type: 'IMMEDIATE',  
          trigger_price: 6  
        }  
      ],  
      instrument_token: 'NSE_EQ|INE669E01016',  
      transaction_type: 'BUY'  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/order/gtt/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"type\": \"MULTIPLE\","  
                    + "\"quantity\": 1,"  
                    + "\"product\": \"I\","  
                    + "\"rules\": ["  
                    + "{"  
                    + "\"strategy\": \"ENTRY\","  
                    + "\"trigger_type\": \"ABOVE\","  
                    + "\"trigger_price\": 7.3"  
                    + "},"  
                    + "{"  
                    + "\"strategy\": \"TARGET\","  
                    + "\"trigger_type\": \"IMMEDIATE\","  
                    + "\"trigger_price\": 9"  
                    + "},"  
                    + "{"  
                    + "\"strategy\": \"STOPLOSS\","  
                    + "\"trigger_type\": \"IMMEDIATE\","  
                    + "\"trigger_price\": 6"  
                    + "}"  
                    + "],"  
                    + "\"instrument_token\": \"NSE_EQ|INE669E01016\","  
                    + "\"transaction_type\": \"BUY\""  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/order/gtt/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'type' => 'MULTIPLE',  
        'quantity' => 1,  
        'product' => 'I',  
        'rules' => [  
            [  
                'strategy' => 'ENTRY',  
                'trigger_type' => 'ABOVE',  
                'trigger_price' => 7.3  
            ],  
            [  
                'strategy' => 'TARGET',  
                'trigger_type' => 'IMMEDIATE',  
                'trigger_price' => 9  
            ],  
            [  
                'strategy' => 'STOPLOSS',  
                'trigger_type' => 'IMMEDIATE',  
                'trigger_price' => 6  
            ]  
        ],  
        'instrument_token' => 'NSE_EQ|INE669E01016',  
        'transaction_type' => 'BUY',  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApiV3(upstox_client.ApiClient(configuration))  
      
    entry_rule = upstox_client.GttRule(strategy="ENTRY", trigger_type="ABOVE", trigger_price=7)  
    target_rule = upstox_client.GttRule(strategy="TARGET", trigger_type="IMMEDIATE", trigger_price=9)  
    stoploss_rule = upstox_client.GttRule(strategy="STOPLOSS", trigger_type="IMMEDIATE", trigger_price=5)  
    rules = [entry_rule, target_rule, stoploss_rule]  
      
    body = upstox_client.GttPlaceOrderRequest(  
        type="MULTIPLE",   
        instrument_token="NSE_EQ|INE669E01016",   
        product="D",   
        quantity=1,   
        rules=rules,   
        transaction_type="BUY"  
    )  
      
    try:  
        api_response = api_instance.place_gtt_order(body=body)  
        print("GTT order response:", api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->gtt_place_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApiV3();  
    let entryRule = new UpstoxClient.GttRule(  
        UpstoxClient.GttRule.StrategyEnum.ENTRY,   
        UpstoxClient.GttRule.TriggerTypeEnum.ABOVE,   
        100  
    );  
    let stopLossRule = new UpstoxClient.GttRule(  
        UpstoxClient.GttRule.StrategyEnum.STOPLOSS,   
        UpstoxClient.GttRule.TriggerTypeEnum.IMMEDIATE,   
        80  
    );  
    let targetRule = new UpstoxClient.GttRule(  
        UpstoxClient.GttRule.StrategyEnum.TARGET,   
        UpstoxClient.GttRule.TriggerTypeEnum.IMMEDIATE,   
        120  
    );  
      
    let body = new UpstoxClient.GttPlaceOrderRequest(  
        UpstoxClient.GttPlaceOrderRequest.TypeEnum.MULTIPLE,   
        1,   
        UpstoxClient.GttPlaceOrderRequest.ProductEnum.D,   
        [entryRule,stopLossRule,targetRule],  
        "NSE_EQ|INE669E01016",   
        UpstoxClient.GttPlaceOrderRequest.TransactionTypeEnum.BUY  
    );  
      
    apiInstance.placeGTTOrder(body, (error, data, response) => {  
        if (error) {  
            console.error(error.response.text);  
        } else {  
            console.log('API called successfully. Returned data:', data);  
        }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import java.util.ArrayList;  
    import java.util.List;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            defaultClient.setAccessToken("{your_access_token}");  
              
            OrderApiV3 apiInstance = new OrderApiV3();  
            GttPlaceOrderRequest gttPlaceOrderRequest = new GttPlaceOrderRequest();  
            gttPlaceOrderRequest.setQuantity(1);  
            gttPlaceOrderRequest.setProduct(GttPlaceOrderRequest.ProductEnum.D);  
            gttPlaceOrderRequest.setInstrumentToken("NSE_EQ|INE669E01016");  
            gttPlaceOrderRequest.setType(GttPlaceOrderRequest.TypeEnum.MULTIPLE);  
            gttPlaceOrderRequest.setTransactionType(GttPlaceOrderRequest.TransactionTypeEnum.BUY);  
              
            List<GttRule> gttRules = new ArrayList<>();  
              
            GttRule entryRule = new GttRule();  
            entryRule.setStrategy(GttRule.StrategyEnum.ENTRY);  
            entryRule.setTriggerType(GttRule.TriggerTypeEnum.ABOVE);  
            entryRule.setTriggerPrice(7D);  
            gttRules.add(entryRule);  
      
            GttRule stopLossRule = new GttRule();  
            stopLossRule.setStrategy(GttRule.StrategyEnum.STOPLOSS);  
            stopLossRule.setTriggerType(GttRule.TriggerTypeEnum.IMMEDIATE);  
            stopLossRule.setTriggerPrice(6D);  
            gttRules.add(stopLossRule);  
      
            GttRule targetRule = new GttRule();  
            targetRule.setStrategy(GttRule.StrategyEnum.TARGET);  
            targetRule.setTriggerType(GttRule.TriggerTypeEnum.IMMEDIATE);  
            targetRule.setTriggerPrice(60D);  
            gttRules.add(targetRule);  
      
            gttPlaceOrderRequest.setRules(gttRules);  
      
            try {  
                GttTriggerOrderResponse result = apiInstance.placeGTTOrder(gttPlaceOrderRequest);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi->placeGTTOrder: " + e.getMessage());  
            }  
        }  
    }  
    

## Place Trailing Stop Loss GTT Order[â€‹](<https://upstox.com/developer/api-documentation/example-code/gtt-orders/place-order/#place-trailing-stop-loss-gtt-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP


    
    
    curl --location 'https://api.upstox.com/v3/order/gtt/place' \  
    --header 'accept: application/json' \  
    --header 'Content-Type: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "type": "MULTIPLE",  
      "quantity": 1,  
      "product": "I",  
      "rules": [  
        {  
          "strategy": "ENTRY",  
          "trigger_type": "ABOVE",  
          "trigger_price": 7.3  
        },  
        {  
          "strategy": "TARGET",  
          "trigger_type": "IMMEDIATE",  
          "trigger_price": 9  
        },  
        {  
          "strategy": "STOPLOSS",  
          "trigger_type": "IMMEDIATE",  
          "trigger_price": 6,  
          "trailing_gap": 0.1  
        }  
      ],  
      "instrument_token": "NSE_EQ|INE669E01016",  
      "transaction_type": "BUY"  
    }'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/order/gtt/place'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        "type": "MULTIPLE",  
        "quantity": 1,  
        "product": "I",  
        "rules": [  
            {  
                "strategy": "ENTRY",  
                "trigger_type": "ABOVE",  
                "trigger_price": 7.3  
            },  
            {  
                "strategy": "TARGET",  
                "trigger_type": "IMMEDIATE",  
                "trigger_price": 9  
            },  
            {  
                "strategy": "STOPLOSS",  
                "trigger_type": "IMMEDIATE",  
                "trigger_price": 6,  
                "trailing_gap": 0.1  
            }  
        ],  
        "instrument_token": "NSE_EQ|INE669E01016",  
        "transaction_type": "BUY"  
    }  
      
    try:  
        # Send the POST request  
        response = requests.post(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/order/gtt/place';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      type: 'MULTIPLE',  
      quantity: 1,  
      product: 'I',  
      rules: [  
        {  
          strategy: 'ENTRY',  
          trigger_type: 'ABOVE',  
          trigger_price: 7.3  
        },  
        {  
          strategy: 'TARGET',  
          trigger_type: 'IMMEDIATE',  
          trigger_price: 9  
        },  
        {  
          strategy: 'STOPLOSS',  
          trigger_type: 'IMMEDIATE',  
          trigger_price: 6,  
          trailing_gap: 0.1  
        }  
      ],  
      instrument_token: 'NSE_EQ|INE669E01016',  
      transaction_type: 'BUY'  
    };  
      
    axios.post(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/order/gtt/place";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"type\": \"MULTIPLE\","  
                    + "\"quantity\": 1,"  
                    + "\"product\": \"I\","  
                    + "\"rules\": ["  
                    + "{"  
                    + "\"strategy\": \"ENTRY\","  
                    + "\"trigger_type\": \"ABOVE\","  
                    + "\"trigger_price\": 7.3"  
                    + "},"  
                    + "{"  
                    + "\"strategy\": \"TARGET\","  
                    + "\"trigger_type\": \"IMMEDIATE\","  
                    + "\"trigger_price\": 9"  
                    + "},"  
                    + "{"  
                    + "\"strategy\": \"STOPLOSS\","  
                    + "\"trigger_type\": \"IMMEDIATE\","  
                    + "\"trigger_price\": 6,"  
                    + "\"trailing_gap\": 0.1"  
                    + "}"  
                    + "],"  
                    + "\"instrument_token\": \"NSE_EQ|INE669E01016\","  
                    + "\"transaction_type\": \"BUY\""  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .POST(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/order/gtt/place';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'type' => 'MULTIPLE',  
        'quantity' => 1,  
        'product' => 'I',  
        'rules' => [  
            [  
                'strategy' => 'ENTRY',  
                'trigger_type' => 'ABOVE',  
                'trigger_price' => 7.3  
            ],  
            [  
                'strategy' => 'TARGET',  
                'trigger_type' => 'IMMEDIATE',  
                'trigger_price' => 9  
            ],  
            [  
                'strategy' => 'STOPLOSS',  
                'trigger_type' => 'IMMEDIATE',  
                'trigger_price' => 6,  
                'trailing_gap' => 0.1  
            ]  
        ],  
        'instrument_token' => 'NSE_EQ|INE669E01016',  
        'transaction_type' => 'BUY',  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_POST, true);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/gtt-orders/modify-order
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * GTT Orders
  * Modify GTT Order



On this page

# Modify GTT Order

## Modify Single Leg GTT Order[â€‹](<https://upstox.com/developer/api-documentation/example-code/gtt-orders/modify-order/#modify-single-leg-gtt-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request PUT 'https://api.upstox.com/v3/order/gtt/modify' \  
    --header 'accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --header 'Content-Type: application/json' \  
    --data '{  
      "type": "SINGLE",  
      "quantity": 1,  
      "rules": [  
        {  
          "strategy": "ENTRY",  
          "trigger_type": "ABOVE",  
          "trigger_price": 7.3  
        }  
      ],  
      "gtt_order_id": "GTT-C25270200137952"  
    }'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/order/gtt/modify'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        "type": "SINGLE",  
        "quantity": 1,  
        "rules": [  
            {  
                "strategy": "ENTRY",  
                "trigger_type": "ABOVE",  
                "trigger_price": 7.3  
            }  
        ],  
        "gtt_order_id": "GTT-C25270200137952"  
    }  
      
    try:  
        # Send the PUT request  
        response = requests.put(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/order/gtt/modify';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      type: 'SINGLE',  
      quantity: 1,  
      rules: [  
        {  
          strategy: 'ENTRY',  
          trigger_type: 'ABOVE',  
          trigger_price: 7.3  
        }  
      ],  
      gtt_order_id: 'GTT-C25270200137952'  
    };  
      
    axios.put(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/order/gtt/modify";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"type\": \"SINGLE\","  
                    + "\"quantity\": 1,"  
                    + "\"rules\": ["  
                    + "{"  
                    + "\"strategy\": \"ENTRY\","  
                    + "\"trigger_type\": \"ABOVE\","  
                    + "\"trigger_price\": 7.3"  
                    + "}"  
                    + "],"  
                    + "\"gtt_order_id\": \"GTT-C25270200137952\""  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .PUT(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/order/gtt/modify';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'type' => 'SINGLE',  
        'quantity' => 1,  
        'rules' => [  
            [  
                'strategy' => 'ENTRY',  
                'trigger_type' => 'ABOVE',  
                'trigger_price' => 7.3  
            ]  
        ],  
        'gtt_order_id' => 'GTT-C25270200137952'  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'PUT');  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApiV3(upstox_client.ApiClient(configuration))  
      
    entry_rule = upstox_client.GttRule(strategy="ENTRY", trigger_type="ABOVE", trigger_price=7.3)  
    rules = [entry_rule]  
      
    body = upstox_client.GttModifyOrderRequest(  
        type="SINGLE",   
        gtt_order_id="GTT-C25270200137952",  
        rules=rules,  
        quantity=1  
    )  
      
    try:  
        api_response = api_instance.modify_gtt_order(body=body)  
        print("GTT order response:", api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->modify_gtt_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApiV3();  
    let entryRule = new UpstoxClient.GttRule(  
        UpstoxClient.GttRule.StrategyEnum.ENTRY,   
        UpstoxClient.GttRule.TriggerTypeEnum.ABOVE,   
        100  
    );  
      
    let body = new UpstoxClient.GttModifyOrderRequest(  
        UpstoxClient.GttModifyOrderRequest.TypeEnum.SINGLE,   
        1,   
        [entryRule],   
        "GTT-C25270200137952"  
    );  
      
    apiInstance.modifyGTTOrder(body, (error, data, response) => {  
        if (error) {  
            console.error(error.response.text);  
        } else {  
            console.log('API called successfully. Returned data:', data);  
        }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import java.util.ArrayList;  
    import java.util.List;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            defaultClient.setAccessToken("{your_access_token}");  
              
            OrderApiV3 apiInstance = new OrderApiV3();  
            List<GttRule> gttRules = new ArrayList<>();  
              
            GttRule entryRule = new GttRule();  
            entryRule.setStrategy(GttRule.StrategyEnum.ENTRY);  
            entryRule.setTriggerType(GttRule.TriggerTypeEnum.ABOVE);  
            entryRule.setTriggerPrice(7.3D);  
            gttRules.add(entryRule);  
      
            GttModifyOrderRequest modifyOrderRequest = new GttModifyOrderRequest();  
            modifyOrderRequest.setQuantity(1);  
            modifyOrderRequest.setGttOrderId("GTT-C25270200137952");  
            modifyOrderRequest.setType(GttModifyOrderRequest.TypeEnum.SINGLE);  
            modifyOrderRequest.setRules(gttRules);  
      
            try {  
                GttTriggerOrderResponse result = apiInstance.modifyGTTOrder(modifyOrderRequest);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi->modifyGTTOrder: " + e.getMessage());  
            }  
        }  
    }  
    

## Modify Multiple Leg GTT Order[â€‹](<https://upstox.com/developer/api-documentation/example-code/gtt-orders/modify-order/#modify-multiple-leg-gtt-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request PUT 'https://api.upstox.com/v3/order/gtt/modify' \  
    --header 'accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --header 'Content-Type: application/json' \  
    --data '{  
      "type": "MULTIPLE",  
      "quantity": 1,  
      "rules": [  
        {  
          "strategy": "ENTRY",  
          "trigger_type": "ABOVE",  
          "trigger_price": 7.3  
        },  
        {  
          "strategy": "TARGET",  
          "trigger_type": "IMMEDIATE",  
          "trigger_price": 7.64  
        },  
        {  
          "strategy": "STOPLOSS",  
          "trigger_type": "IMMEDIATE",  
          "trigger_price": 7.1  
        }  
      ],  
      "gtt_order_id": "GTT-C25280200137522"  
    }'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/order/gtt/modify'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        "type": "MULTIPLE",  
        "quantity": 1,  
        "rules": [  
            {  
                "strategy": "ENTRY",  
                "trigger_type": "ABOVE",  
                "trigger_price": 7.3  
            },  
            {  
                "strategy": "TARGET",  
                "trigger_type": "IMMEDIATE",  
                "trigger_price": 7.64  
            },  
            {  
                "strategy": "STOPLOSS",  
                "trigger_type": "IMMEDIATE",  
                "trigger_price": 7.1  
            }  
        ],  
        "gtt_order_id": "GTT-C25280200137522"  
    }  
      
    try:  
        # Send the PUT request  
        response = requests.put(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/order/gtt/modify';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      type: 'MULTIPLE',  
      quantity: 1,  
      rules: [  
        {  
          strategy: 'ENTRY',  
          trigger_type: 'ABOVE',  
          trigger_price: 7.3  
        },  
        {  
          strategy: 'TARGET',  
          trigger_type: 'IMMEDIATE',  
          trigger_price: 7.64  
        },  
        {  
          strategy: 'STOPLOSS',  
          trigger_type: 'IMMEDIATE',  
          trigger_price: 7.1  
        }  
      ],  
      gtt_order_id: 'GTT-C25280200137522'  
    };  
      
    axios.put(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/order/gtt/modify";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"type\": \"MULTIPLE\","  
                    + "\"quantity\": 1,"  
                    + "\"rules\": ["  
                    + "{"  
                    + "\"strategy\": \"ENTRY\","  
                    + "\"trigger_type\": \"ABOVE\","  
                    + "\"trigger_price\": 7.3"  
                    + "},"  
                    + "{"  
                    + "\"strategy\": \"TARGET\","  
                    + "\"trigger_type\": \"IMMEDIATE\","  
                    + "\"trigger_price\": 7.64"  
                    + "},"  
                    + "{"  
                    + "\"strategy\": \"STOPLOSS\","  
                    + "\"trigger_type\": \"IMMEDIATE\","  
                    + "\"trigger_price\": 7.1"  
                    + "}"  
                    + "],"  
                    + "\"gtt_order_id\": \"GTT-C25280200137522\""  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .PUT(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/order/gtt/modify';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'type' => 'MULTIPLE',  
        'quantity' => 1,  
        'rules' => [  
            [  
                'strategy' => 'ENTRY',  
                'trigger_type' => 'ABOVE',  
                'trigger_price' => 7.3  
            ],  
            [  
                'strategy' => 'TARGET',  
                'trigger_type' => 'IMMEDIATE',  
                'trigger_price' => 7.64  
            ],  
            [  
                'strategy' => 'STOPLOSS',  
                'trigger_type' => 'IMMEDIATE',  
                'trigger_price' => 7.1  
            ]  
        ],  
        'gtt_order_id' => 'GTT-C25280200137522'  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'PUT');  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApiV3(upstox_client.ApiClient(configuration))  
      
    entry_rule = upstox_client.GttRule(strategy="ENTRY", trigger_type="ABOVE", trigger_price=7.3)  
    target_rule = upstox_client.GttRule(strategy="TARGET", trigger_type="IMMEDIATE", trigger_price=7.64)  
    stoploss_rule = upstox_client.GttRule(strategy="STOPLOSS", trigger_type="IMMEDIATE", trigger_price=7.1)  
    rules = [entry_rule, target_rule, stoploss_rule]  
      
    body = upstox_client.GttModifyOrderRequest(  
        type="MULTIPLE",   
        gtt_order_id="GTT-C25280200137522",  
        rules=rules,  
        quantity=1  
    )  
      
    try:  
        api_response = api_instance.modify_gtt_order(body=body)  
        print("GTT order response:", api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->modify_gtt_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApiV3();  
    let entryRule = new UpstoxClient.GttRule(  
        UpstoxClient.GttRule.StrategyEnum.ENTRY,   
        UpstoxClient.GttRule.TriggerTypeEnum.ABOVE,   
        7.3  
    );  
    let targetRule = new UpstoxClient.GttRule(  
        UpstoxClient.GttRule.StrategyEnum.TARGET,  
        UpstoxClient.GttRule.TriggerTypeEnum.IMMEDIATE,  
        7.64  
    );  
    let stopLossRule = new UpstoxClient.GttRule(  
        UpstoxClient.GttRule.StrategyEnum.STOPLOSS,  
        UpstoxClient.GttRule.TriggerTypeEnum.IMMEDIATE,  
        7.1  
    );  
      
    let body = new UpstoxClient.GttModifyOrderRequest(  
        UpstoxClient.GttModifyOrderRequest.TypeEnum.MULTIPLE,  
        1,  
        [entryRule, targetRule, stopLossRule],  
        "GTT-C25280200137522"  
    );  
      
    apiInstance.modifyGTTOrder(body, (error, data, response) => {  
        if (error) {  
            console.error(error.response.text);  
        } else {  
            console.log('API called successfully. Returned data:', data);  
        }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
    import java.util.ArrayList;  
    import java.util.List;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            defaultClient.setAccessToken("{your_access_token}");  
              
            OrderApiV3 apiInstance = new OrderApiV3();  
            List<GttRule> gttRules = new ArrayList<>();  
              
            GttRule entryRule = new GttRule();  
            entryRule.setStrategy(GttRule.StrategyEnum.ENTRY);  
            entryRule.setTriggerType(GttRule.TriggerTypeEnum.ABOVE);  
            entryRule.setTriggerPrice(7.3D);  
            gttRules.add(entryRule);  
      
            GttRule targetRule = new GttRule();  
            targetRule.setStrategy(GttRule.StrategyEnum.TARGET);  
            targetRule.setTriggerType(GttRule.TriggerTypeEnum.IMMEDIATE);  
            targetRule.setTriggerPrice(7.64D);  
            gttRules.add(targetRule);  
      
            GttRule stopLossRule = new GttRule();  
            stopLossRule.setStrategy(GttRule.StrategyEnum.STOPLOSS);  
            stopLossRule.setTriggerType(GttRule.TriggerTypeEnum.IMMEDIATE);  
            stopLossRule.setTriggerPrice(7.1D);  
            gttRules.add(stopLossRule);  
      
            GttModifyOrderRequest modifyOrderRequest = new GttModifyOrderRequest();  
            modifyOrderRequest.setQuantity(1);  
            modifyOrderRequest.setGttOrderId("GTT-C25280200137522");  
            modifyOrderRequest.setType(GttModifyOrderRequest.TypeEnum.MULTIPLE);  
            modifyOrderRequest.setRules(gttRules);  
      
            try {  
                GttTriggerOrderResponse result = apiInstance.modifyGTTOrder(modifyOrderRequest);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi->modifyGTTOrder: " + e.getMessage());  
            }  
        }  
    }  
    

## Modify Trailing Stop Loss GTT Order[â€‹](<https://upstox.com/developer/api-documentation/example-code/gtt-orders/modify-order/#modify-trailing-stop-loss-gtt-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP


    
    
    curl --location --request PUT 'https://api.upstox.com/v3/order/gtt/modify' \  
    --header 'accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --header 'Content-Type: application/json' \  
    --data '{  
      "type": "MULTIPLE",  
      "quantity": 1,  
      "rules": [  
        {  
          "strategy": "ENTRY",  
          "trigger_type": "ABOVE",  
          "trigger_price": 7.3  
        },  
        {  
          "strategy": "TARGET",  
          "trigger_type": "IMMEDIATE",  
          "trigger_price": 7.64  
        },  
        {  
          "strategy": "STOPLOSS",  
          "trigger_type": "IMMEDIATE",  
          "trigger_price": 7.1,  
          "trailing_gap": 0.1  
        }  
      ],  
      "gtt_order_id": "GTT-C25280200137522"  
    }'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/order/gtt/modify'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        "type": "MULTIPLE",  
        "quantity": 1,  
        "rules": [  
            {  
                "strategy": "ENTRY",  
                "trigger_type": "ABOVE",  
                "trigger_price": 7.3  
            },  
            {  
                "strategy": "TARGET",  
                "trigger_type": "IMMEDIATE",  
                "trigger_price": 7.64  
            },  
            {  
                "strategy": "STOPLOSS",  
                "trigger_type": "IMMEDIATE",  
                "trigger_price": 7.1,  
                "trailing_gap": 0.1  
            }  
        ],  
        "gtt_order_id": "GTT-C25280200137522"  
    }  
      
    try:  
        # Send the PUT request  
        response = requests.put(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/order/gtt/modify';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      type: 'MULTIPLE',  
      quantity: 1,  
      rules: [  
        {  
          strategy: 'ENTRY',  
          trigger_type: 'ABOVE',  
          trigger_price: 7.3  
        },  
        {  
          strategy: 'TARGET',  
          trigger_type: 'IMMEDIATE',  
          trigger_price: 7.64  
        },  
        {  
          strategy: 'STOPLOSS',  
          trigger_type: 'IMMEDIATE',  
          trigger_price: 7.1,  
          trailing_gap: 0.1  
        }  
      ],  
      gtt_order_id: 'GTT-C25280200137522'  
    };  
      
    axios.put(url, data, { headers })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/order/gtt/modify";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"type\": \"MULTIPLE\","  
                    + "\"quantity\": 1,"  
                    + "\"rules\": ["  
                    + "{"  
                    + "\"strategy\": \"ENTRY\","  
                    + "\"trigger_type\": \"ABOVE\","  
                    + "\"trigger_price\": 7.3"  
                    + "},"  
                    + "{"  
                    + "\"strategy\": \"TARGET\","  
                    + "\"trigger_type\": \"IMMEDIATE\","  
                    + "\"trigger_price\": 7.64"  
                    + "},"  
                    + "{"  
                    + "\"strategy\": \"STOPLOSS\","  
                    + "\"trigger_type\": \"IMMEDIATE\","  
                    + "\"trigger_price\": 7.1,"  
                    + "\"trailing_gap\": 0.1"  
                    + "}"  
                    + "],"  
                    + "\"gtt_order_id\": \"GTT-C25280200137522\""  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .PUT(HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/order/gtt/modify';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'type' => 'MULTIPLE',  
        'quantity' => 1,  
        'rules' => [  
            [  
                'strategy' => 'ENTRY',  
                'trigger_type' => 'ABOVE',  
                'trigger_price' => 7.3  
            ],  
            [  
                'strategy' => 'TARGET',  
                'trigger_type' => 'IMMEDIATE',  
                'trigger_price' => 7.64  
            ],  
            [  
                'strategy' => 'STOPLOSS',  
                'trigger_type' => 'IMMEDIATE',  
                'trigger_price' => 7.1,  
                'trailing_gap' => 0.1  
            ]  
        ],  
        'gtt_order_id' => 'GTT-C25280200137522'  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'PUT');  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/gtt-orders/cancel-order
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * GTT Orders
  * Cancel GTT Order



On this page

# Cancel GTT Order

## Cancel GTT Order[â€‹](<https://upstox.com/developer/api-documentation/example-code/gtt-orders/cancel-order/#cancel-gtt-order> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request DELETE 'https://api.upstox.com/v3/order/gtt/cancel' \  
    --header 'accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --header 'Content-Type: application/json' \  
    --data '{  
      "gtt_order_id": "GTT-C25280200137522"  
    }'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/order/gtt/cancel'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    data = {  
        'gtt_order_id': 'GTT-C25280200137522'  
    }  
      
    try:  
        # Send the DELETE request  
        response = requests.delete(url, json=data, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/order/gtt/cancel';  
    const headers = {  
      'Content-Type': 'application/json',  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const data = {  
      gtt_order_id: 'GTT-C25280200137522'  
    };  
      
    axios.delete(url, { headers, data })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/order/gtt/cancel";  
            String token = "Bearer {your_access_token}";  
      
            // Set up the request body  
            String requestBody = "{"  
                    + "\"gtt_order_id\": \"GTT-C25280200137522\""  
                    + "}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Content-Type", "application/json")  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .method("DELETE", HttpRequest.BodyPublishers.ofString(requestBody))  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/order/gtt/cancel';  
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: ' . 'Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'gtt_order_id' => 'GTT-C25280200137522'  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'DELETE');  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApiV3(upstox_client.ApiClient(configuration))  
      
    body = upstox_client.GttCancelOrderRequest(gtt_order_id="GTT-C250303008840")  
      
    try:  
        api_response = api_instance.cancel_gtt_order(body=body)  
        print("GTT order canceled:", api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->cancel_gtt_order: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApiV3();  
    let body = new UpstoxClient.GttCancelOrderRequest("GTT-C25050300168902");  
      
    apiInstance.cancelGTTOrder(body, (error, data, response) => {  
        if (error) {  
            console.error(error.response.text);  
        } else {  
            console.log('API called successfully. Returned data:', data);  
        }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            defaultClient.setAccessToken("{your_access_token}");  
              
            OrderApiV3 apiInstance = new OrderApiV3();  
            GttCancelOrderRequest gttCancelOrderRequest = new GttCancelOrderRequest();  
            gttCancelOrderRequest.setGttOrderId("GTT-C25040144712");  
              
            try {  
                GttTriggerOrderResponse result = apiInstance.cancelGTTOrder(gttCancelOrderRequest);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi->cancelGTTOrder: " + e.getMessage());  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/gtt-orders/get-gtt-order-details
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * GTT Orders
  * Get GTT Order Details



On this page

# Get GTT Order Details

## Get GTT Order Details[â€‹](<https://upstox.com/developer/api-documentation/example-code/gtt-orders/get-gtt-order-details/#get-gtt-order-details> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/order/gtt?gtt_order_id=GTT-C25280200071351' \  
    --header 'accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'   
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/order/gtt'  
    params = {  
        'gtt_order_id': 'GTT-C25280200071351'  
    }  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  
    }  
      
    try:  
        # Send the GET request  
        response = requests.get(url, params=params, headers=headers)  
      
        # Print the response status code and body  
        print('Response Code:', response.status_code)  
        print('Response Body:', response.json())  
      
    except Exception as e:  
        # Handle exceptions  
        print('Error:', str(e))  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/order/gtt';  
    const params = {  
      gtt_order_id: 'GTT-C25280200071351'  
    };  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log('Response:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/order/gtt?gtt_order_id=GTT-C25280200071351";  
            String token = "Bearer {your_access_token}";  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Create the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .header("Authorization", token)  
                    .GET()  
                    .build();  
      
            try {  
                // Send the request and retrieve the response  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Print the response status code and body  
                System.out.println("Response Code: " + response.statusCode());  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/order/gtt?gtt_order_id=GTT-C25280200071351';  
    $headers = [  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo 'Response: ' . $response;  
    }  
      
    curl_close($ch);  
    ?>  
      
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_instance = upstox_client.OrderApiV3(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.get_gtt_order_details(gtt_order_id="GTT-C25030300128840")  
        print("GTT order details:", api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->get_gtt_order_details: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OrderApiV3();  
      
    apiInstance.getGttOrderDetails({gttOrderId: 'GTT-C25130300047732'}, (error, data, response) => {  
        if (error) {  
            console.error(error.response.text);  
        } else {  
            console.log('API called successfully. Returned data:', data);  
        }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            defaultClient.setAccessToken("{your_access_token}");  
              
            OrderApiV3 apiInstance = new OrderApiV3();  
            try {  
                GetGttOrderResponse result = apiInstance.getGttOrderDetails("GTT-C25040144712");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling OrderApi->getGttOrderDetails: " + e.getMessage());  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/portfolio/convert-positions
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Portfolio
  * Convert Positions



On this page

# Convert Positions

## Convert a position from intraday to delivery[â€‹](<https://upstox.com/developer/api-documentation/example-code/portfolio/convert-positions/#convert-a-position-from-intraday-to-delivery> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request PUT 'https://api.upstox.com/v2/portfolio/convert-position' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "instrument_token": "NSE_EQ|INE528G01035",  
      "new_product": "D",  
      "old_product": "I",  
      "transaction_type": "BUY",  
      "quantity": 1  
    }'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/portfolio/convert-position'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  # Replace {your_access_token} with your actual access token  
    }  
      
    data = {  
        "instrument_token": "NSE_EQ|INE528G01035",  
        "new_product": "D",  
        "old_product": "I",  
        "transaction_type": "BUY",  
        "quantity": 1  
    }  
      
    response = requests.put(url, headers=headers, json=data)  
      
    print(response.status_code)  
    print(response.json())  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/portfolio/convert-position';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}', // Replace {your_access_token} with your actual access token  
    };  
      
    const data = {  
        "instrument_token": "NSE_EQ|INE528G01035",  
        "new_product": "D",  
        "old_product": "I",  
        "transaction_type": "BUY",  
        "quantity": 1  
    };  
      
    axios.put(url, data, { headers })  
        .then(response => {  
            console.log('Status Code:', response.status);  
            console.log('Response Data:', response.data);  
        })  
        .catch(error => {  
            console.error('Error:', error.message);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.nio.charset.StandardCharsets;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            try {  
                String url = "https://api.upstox.com/v2/portfolio/convert-position";  
      
                // Building the request payload  
                String payload = "{\n" +  
                        "  \"instrument_token\": \"NSE_EQ|INE528G01035\",\n" +  
                        "  \"new_product\": \"D\",\n" +  
                        "  \"old_product\": \"I\",\n" +  
                        "  \"transaction_type\": \"BUY\",\n" +  
                        "  \"quantity\": 1\n" +  
                        "}";  
      
                // Replace {your_access_token} with your actual access token  
                String accessToken = "{your_access_token}";  
      
                HttpRequest request = HttpRequest.newBuilder()  
                        .uri(URI.create(url))  
                        .header("Content-Type", "application/json")  
                        .header("Accept", "application/json")  
                        .header("Authorization", "Bearer " + accessToken)  
                        .method("PUT", HttpRequest.BodyPublishers.ofString(payload, StandardCharsets.UTF_8))  
                        .build();  
      
                HttpClient client = HttpClient.newHttpClient();  
                HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Reading the response  
                int responseCode = response.statusCode();  
                System.out.println("Response Code: " + responseCode);  
      
                // Printing the response body  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/portfolio/convert-position';  
      
    // Replace {your_access_token} with your actual access token  
    $accessToken = '{your_access_token}';  
      
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer ' . $accessToken,  
    ];  
      
    $data = [  
        "instrument_token" => "NSE_EQ|INE528G01035",  
        "new_product" => "D",  
        "old_product" => "I",  
        "transaction_type" => "BUY",  
        "quantity" => 1  
    ];  
      
    $ch = curl_init();  
      
    curl_setopt($ch, CURLOPT_URL, $url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "PUT");  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    // Output the response code and body  
    echo "Response Code: " . $httpCode . PHP_EOL;  
    echo "Response Body: " . $response . PHP_EOL;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.PortfolioApi(upstox_client.ApiClient(configuration))  
    body = upstox_client.ConvertPositionRequest(instrument_token= "NSE_EQ|INE528G01035",quantity=1,new_product="D",old_product="I",transaction_type="BUY")  
    api_version = '2.0'  
      
    try:  
        # Convert Positions  
        api_response = api_instance.convert_positions(body, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling PortfolioApi->convert_positions: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
      
    // Configure OAuth2 access token for authorization: OAUTH2  
    let OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = '{your_access_token}';  
      
    let apiInstance = new UpstoxClient.PortfolioApi();  
    let body = new UpstoxClient.ConvertPositionRequest("NSE_EQ|INE528G01035",UpstoxClient.ConvertPositionRequest.NewProductEnum.D,UpstoxClient.ConvertPositionRequest.OldProductEnum.I,UpstoxClient.ConvertPositionRequest.TransactionTypeEnum.BUY,1); // ConvertPositionRequest |   
    let apiVersion = "2.0"; // String | API Version Header  
      
    apiInstance.convertPositions(body, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.ConvertPositionRequest;  
    import com.upstox.api.ConvertPositionResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.PortfolioApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            PortfolioApi apiInstance = new PortfolioApi();  
            ConvertPositionRequest body = new ConvertPositionRequest();  
            body.setInstrumentToken("NSE_EQ|INE528G01035");  
            body.setNewProduct(ConvertPositionRequest.NewProductEnum.D);  
            body.setOldProduct(ConvertPositionRequest.OldProductEnum.I);  
            body.setQuantity(2);  
            body.setTransactionType(ConvertPositionRequest.TransactionTypeEnum.BUY);  
            String apiVersion = "2.0";  
            try {  
                ConvertPositionResponse result = apiInstance.convertPositions(body, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling PortfolioApi#convertPositions");  
                e.printStackTrace();  
            }  
      
        }  
    }  
      
    

## Convert a position from delivery to intraday[â€‹](<https://upstox.com/developer/api-documentation/example-code/portfolio/convert-positions/#convert-a-position-from-delivery-to-intraday> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location --request PUT 'https://api.upstox.com/v2/portfolio/convert-position' \  
    --header 'Content-Type: application/json' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}' \  
    --data '{  
      "instrument_token": "NSE_EQ|INE528G01035",  
      "new_product": "I",  
      "old_product": "D",  
      "transaction_type": "BUY",  
      "quantity": 1  
    }'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/portfolio/convert-position'  
    headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',  # Replace {your_access_token} with your actual access token  
    }  
      
    data = {  
        "instrument_token": "NSE_EQ|INE528G01035",  
        "new_product": "I",  
        "old_product": "D",  
        "transaction_type": "BUY",  
        "quantity": 1  
    }  
      
    response = requests.put(url, headers=headers, json=data)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/portfolio/convert-position';  
    const headers = {  
        'Content-Type': 'application/json',  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}', // Replace {your_access_token} with your actual access token  
    };  
      
    const data = {  
        "instrument_token": "NSE_EQ|INE528G01035",  
        "new_product": "I",  
        "old_product": "D",  
        "transaction_type": "BUY",  
        "quantity": 1  
    };  
      
    axios.put(url, data, { headers })  
        .then(response => {  
            console.log('Status Code:', response.status);  
            console.log('Response Data:', response.data);  
        })  
        .catch(error => {  
            console.error('Error:', error.message);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.nio.charset.StandardCharsets;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            try {  
                String url = "https://api.upstox.com/v2/portfolio/convert-position";  
      
                // Building the request payload  
                String payload = "{\n" +  
                        "  \"instrument_token\": \"NSE_EQ|INE528G01035\",\n" +  
                        "  \"new_product\": \"I\",\n" +  
                        "  \"old_product\": \"D\",\n" +  
                        "  \"transaction_type\": \"BUY\",\n" +  
                        "  \"quantity\": 1\n" +  
                        "}";  
      
                // Replace {your_access_token} with your actual access token  
                String accessToken = "{your_access_token}";  
      
                HttpRequest request = HttpRequest.newBuilder()  
                        .uri(URI.create(url))  
                        .header("Content-Type", "application/json")  
                        .header("Accept", "application/json")  
                        .header("Authorization", "Bearer " + accessToken)  
                        .method("PUT", HttpRequest.BodyPublishers.ofString(payload, StandardCharsets.UTF_8))  
                        .build();  
      
                HttpClient client = HttpClient.newHttpClient();  
                HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
      
                // Reading the response  
                int responseCode = response.statusCode();  
                System.out.println("Response Code: " + responseCode);  
      
                // Printing the response body  
                System.out.println("Response Body: " + response.body());  
      
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/portfolio/convert-position';  
      
    // Replace {your_access_token} with your actual access token  
    $accessToken = '{your_access_token}';  
      
    $headers = [  
        'Content-Type: application/json',  
        'Accept: application/json',  
        'Authorization: Bearer ' . $accessToken,  
    ];  
      
    $data = [  
        "instrument_token" => "NSE_EQ|INE528G01035",  
        "new_product" => "I",  
        "old_product" => "D",  
        "transaction_type" => "BUY",  
        "quantity" => 1  
    ];  
      
    $ch = curl_init();  
      
    curl_setopt($ch, CURLOPT_URL, $url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "PUT");  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    // Output the response code and body  
    echo "Response Code: " . $httpCode . PHP_EOL;  
    echo "Response Body: " . $response . PHP_EOL;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.PortfolioApi(upstox_client.ApiClient(configuration))  
    body = upstox_client.ConvertPositionRequest(instrument_token= "NSE_EQ|INE528G01035",quantity=1,new_product="I",old_product="D",transaction_type="BUY")  
    api_version = '2.0'  
      
    try:  
        # Convert Positions  
        api_response = api_instance.convert_positions(body, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling PortfolioApi->convert_positions: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
      
    // Configure OAuth2 access token for authorization: OAUTH2  
    let OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = '{your_access_token}';  
      
    let apiInstance = new UpstoxClient.PortfolioApi();  
    let body = new UpstoxClient.ConvertPositionRequest("NSE_EQ|INE528G01035",UpstoxClient.ConvertPositionRequest.NewProductEnum.I,UpstoxClient.ConvertPositionRequest.OldProductEnum.D,UpstoxClient.ConvertPositionRequest.TransactionTypeEnum.BUY,1); // ConvertPositionRequest |   
    let apiVersion = "2.0"; // String | API Version Header  
      
    apiInstance.convertPositions(body, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.ConvertPositionRequest;  
    import com.upstox.api.ConvertPositionResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.PortfolioApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            PortfolioApi apiInstance = new PortfolioApi();  
            ConvertPositionRequest body = new ConvertPositionRequest();  
            body.setInstrumentToken("NSE_EQ|INE528G01035");  
            body.setNewProduct(ConvertPositionRequest.NewProductEnum.I);  
            body.setOldProduct(ConvertPositionRequest.OldProductEnum.D);  
            body.setQuantity(2);  
            body.setTransactionType(ConvertPositionRequest.TransactionTypeEnum.BUY);  
            String apiVersion = "2.0";  
            try {  
                ConvertPositionResponse result = apiInstance.convertPositions(body, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling PortfolioApi#convertPositions");  
                e.printStackTrace();  
            }  
      
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/portfolio/get-holdings
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Portfolio
  * Get Holdings



On this page

# Get Holdings

## Get user holdings[â€‹](<https://upstox.com/developer/api-documentation/example-code/portfolio/get-holdings/#get-user-holdings> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/portfolio/long-term-holdings' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'   
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/portfolio/long-term-holdings'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.json())  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/portfolio/long-term-holdings';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/portfolio/long-term-holdings";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient client = HttpClient.newHttpClient();  
      
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            try {  
                HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
                System.out.println(response.body());  
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/portfolio/long-term-holdings';  
    $headers = [  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if (curl_errno($ch)) {  
        echo 'Curl error: ' . curl_error($ch);  
    }  
      
    curl_close($ch);  
      
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    api_instance = upstox_client.PortfolioApi(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.get_holdings(api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling ChargeApi->get_brokerage: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.PortfolioApi();  
    let apiVersion = "2.0";  
    apiInstance.getHoldings(apiVersion,(error,data,response)=>{  
      if(error) {  
        console.log(error);  
      }  
      else{  
        console.log("API called=  "  + JSON.stringify(data))  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.ConvertPositionRequest;  
    import com.upstox.api.ConvertPositionResponse;  
    import com.upstox.api.GetHoldingsResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.PortfolioApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            PortfolioApi apiInstance = new PortfolioApi();  
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                GetHoldingsResponse result = apiInstance.getHoldings(apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling PortfolioApi#getHoldings");  
                e.printStackTrace();  
            }  
      
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/portfolio/get-positions
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Portfolio
  * Get Positions



On this page

# Get Positions

## Get user positions[â€‹](<https://upstox.com/developer/api-documentation/example-code/portfolio/get-positions/#get-user-positions> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/portfolio/short-term-positions' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'   
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/portfolio/short-term-positions'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.json())  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/portfolio/short-term-positions';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/portfolio/short-term-positions";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient client = HttpClient.newHttpClient();  
      
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            try {  
                HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
                System.out.println(response.body());  
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/portfolio/short-term-positions';  
    $headers = [  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if (curl_errno($ch)) {  
        echo 'Curl error: ' . curl_error($ch);  
    }  
      
    curl_close($ch);  
      
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    api_instance = upstox_client.PortfolioApi(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.get_positions(api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling ChargeApi->get_brokerage: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.PortfolioApi();  
    let apiVersion = "2.0";  
    apiInstance.getPositions(apiVersion,(error,data,response)=>{  
      if(error) {  
        console.log(error);  
      }  
      else{  
        console.log("API called=  "  + JSON.stringify(data))  
      }  
    })  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetPositionResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.PortfolioApi;  
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            PortfolioApi apiInstance = new PortfolioApi();  
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                GetPositionResponse result = apiInstance.getPositions(apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling PortfolioApi#getPositions");  
                e.printStackTrace();  
            }  
      
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/portfolio/get-mtf-positions
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Portfolio
  * Get MTF Positions



On this page

# Get MTF Positions

## Get user MTF positions[â€‹](<https://upstox.com/developer/api-documentation/example-code/portfolio/get-mtf-positions/#get-user-mtf-positions> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/portfolio/mtf-positions' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'   
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/portfolio/mtf-positions'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.json())  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/portfolio/mtf-positions';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/portfolio/mtf-positions";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient client = HttpClient.newHttpClient();  
      
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            try {  
                HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
                System.out.println(response.body());  
            } catch (Exception e) {  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/portfolio/mtf-positions';  
    $headers = [  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
      
    if (curl_errno($ch)) {  
        echo 'Curl error: ' . curl_error($ch);  
    }  
      
    curl_close($ch);  
      
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    apiInstance = upstox_client.PortfolioApi(upstox_client.ApiClient(configuration))  
      
    try:  
        response = apiInstance.get_mtf_positions()  
        print("MTF positions:", response)  
    except ApiException as e:  
        print("Exception when calling PortfolioApi->get_mtf_positions: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.PortfolioApi();  
    apiInstance.getMtfPositions((error, data, response) => {  
        if (error) {  
            console.error(error.response.text);  
        } else {  
            console.log('API called successfully. Returned data:', data);  
        }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.*;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            defaultClient.setAccessToken("{your_access_token}");  
              
            PortfolioApi portfolioApi = new PortfolioApi();  
            try {  
                GetPositionResponse result = portfolioApi.getMtfPositions();  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling PortfolioApi->getMtfPositions: " + e.getMessage());  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/trade-profit-and-loss/get-report-meta-data
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Trade Profit and Loss
  * Get Report Meta Data



On this page

# Get Report Meta Data

## Get report meta data for equity segment[â€‹](<https://upstox.com/developer/api-documentation/example-code/trade-profit-and-loss/get-report-meta-data/#get-report-meta-data-for-equity-segment> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/trade/profit-loss/metadata?from_date=05-11-2023%20&to_date=19-12-2023&segment=EQ&financial_year=2324' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'   
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/trade/profit-loss/metadata'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    params = {  
        'from_date': '05-11-2023',  
        'to_date': '19-12-2023',  
        'segment': 'EQ',  
        'financial_year': '2324'  
    }  
      
    response = requests.get(url, headers=headers, params=params)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/trade/profit-loss/metadata';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    const params = {  
      'from_date': '05-11-2023',  
      'to_date': '19-12-2023',  
      'segment': 'EQ',  
      'financial_year': '2324'  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message || error);  
      });  
      
    
    
    
    import java.io.BufferedReader;  
    import java.io.InputStreamReader;  
    import java.net.HttpURLConnection;  
    import java.net.URL;  
    import java.net.URLEncoder;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/trade/profit-loss/metadata";  
            String acceptHeader = "application/json";  
            String authToken = "Bearer {your_access_token}";  
      
            String fromDate = "05-11-2023";  
            String toDate = "19-12-2023";  
            String segment = "EQ";  
            String financialYear = "2324";  
      
            String encodedParams = String.format("from_date=%s&to_date=%s&segment=%s&financial_year=%s",  
                    URLEncoder.encode(fromDate, "UTF-8"),  
                    URLEncoder.encode(toDate, "UTF-8"),  
                    URLEncoder.encode(segment, "UTF-8"),  
                    URLEncoder.encode(financialYear, "UTF-8"));  
      
            String fullUrl = url + "?" + encodedParams;  
      
            URL obj = new URL(fullUrl);  
            HttpURLConnection connection = (HttpURLConnection) obj.openConnection();  
      
            // Set request method  
            connection.setRequestMethod("GET");  
      
            connection.setRequestProperty("Accept", acceptHeader);  
            connection.setRequestProperty("Authorization", authToken);  
      
            int responseCode = connection.getResponseCode();  
      
            System.out.println("Sending 'GET' request to URL: " + fullUrl);  
            System.out.println("Response Code: " + responseCode);  
      
            BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));  
            String inputLine;  
            StringBuilder response = new StringBuilder();  
      
            while ((inputLine = in.readLine()) != null) {  
                response.append(inputLine);  
            }  
            in.close();  
      
            // Print the response  
            System.out.println("Response: " + response.toString());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/trade/profit-loss/metadata';  
    $acceptHeader = 'application/json';  
    $authToken = 'Bearer {your_access_token}';  
      
    $fromDate = '05-11-2023';  
    $toDate = '19-12-2023';  
    $segment = 'EQ';  
    $financialYear = '2324';  
      
    $params = [  
        'from_date' => $fromDate,  
        'to_date' => $toDate,  
        'segment' => $segment,  
        'financial_year' => $financialYear  
    ];  
      
    $encodedParams = http_build_query($params);  
    $fullUrl = $url . '?' . $encodedParams;  
      
    $headers = [  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authToken,  
    ];  
      
    $ch = curl_init($fullUrl);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'URL: ' . $fullUrl . PHP_EOL;  
    echo 'Response Code: ' . $httpCode . PHP_EOL;  
    echo 'Response: ' . $response . PHP_EOL;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.TradeProfitAndLossApi(upstox_client.ApiClient(configuration))  
    segment = 'EQ'  
    financial_year = '2324' # str | Financial year for which data has been requested. Concatenation of last 2 digits of from year and to year Sample:for 2021-2022, financial_year will be 2122  
    api_version = '2.0' # str | API Version Header  
    from_date = '02-04-2023' # str | Date from which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format (optional)  
    to_date = '20-03-2024' # str | Date till which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format (optional)  
      
    try:  
        # Get Trade-wise Profit and Loss Report Data  
        api_response = api_instance.get_trade_wise_profit_and_loss_meta_data(segment, financial_year, api_version, from_date=from_date, to_date=to_date)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling TradeProfitAndLossApi->get_trade_wise_profit_and_loss_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
      
    // Configure OAuth2 access token for authorization: OAUTH2  
    let OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = '{your_access_token}';  
      
    let apiInstance = new UpstoxClient.TradeProfitAndLossApi();  
    let segment = "EQ"; // String | Segment for which data is requested can be from the following options EQ - Equity,   FO - Futures and Options,   COM  - Commodity,   CD - Currency Derivatives  
    let financialYear = "2324"; // String | Financial year for which data has been requested. Concatenation of last 2 digits of from year and to year Sample:for 2021-2022, financial_year will be 2122  
    let apiVersion = "2.0"; // String | API Version Header  
    let opts = {   
      'fromDate': "02-04-2023", // String | Date from which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format  
      'toDate': "20-03-2024" // String | Date till which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format  
    };  
    apiInstance.getTradeWiseProfitAndLossMetaData(segment, financialYear, apiVersion, opts, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetTradeWiseProfitAndLossMetaDataResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.TradeProfitAndLossApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            TradeProfitAndLossApi apiInstance = new TradeProfitAndLossApi();  
            String segment = "EQ";  
            String financialYear = "2324";  
            String apiVersion = "2.0";  
            String fromDate = "02-04-2023";  
            String toDate = "20-03-2024";  
            try {  
                GetTradeWiseProfitAndLossMetaDataResponse result = apiInstance.getTradeWiseProfitAndLossMetaData(segment, financialYear, apiVersion, fromDate, toDate);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling TradeProfitAndLossApi#getTradeWiseProfitAndLossMetaData");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

## Get report meta data for futures and options segment[â€‹](<https://upstox.com/developer/api-documentation/example-code/trade-profit-and-loss/get-report-meta-data/#get-report-meta-data-for-futures-and-options-segment> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/trade/profit-loss/metadata?from_date=05-11-2023%20&to_date=19-12-2023&segment=FO&financial_year=2324' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'   
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/trade/profit-loss/metadata'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    params = {  
        'from_date': '05-11-2023',  
        'to_date': '19-12-2023',  
        'segment': 'FO',  
        'financial_year': '2324'  
    }  
      
    response = requests.get(url, headers=headers, params=params)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/trade/profit-loss/metadata';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    const params = {  
      'from_date': '05-11-2023',  
      'to_date': '19-12-2023',  
      'segment': 'FO',  
      'financial_year': '2324'  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message || error);  
      });  
      
    
    
    
    import java.io.BufferedReader;  
    import java.io.InputStreamReader;  
    import java.net.HttpURLConnection;  
    import java.net.URL;  
    import java.net.URLEncoder;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/trade/profit-loss/metadata";  
            String acceptHeader = "application/json";  
            String authToken = "Bearer {your_access_token}";  
      
            String fromDate = "05-11-2023";  
            String toDate = "19-12-2023";  
            String segment = "FO";  
            String financialYear = "2324";  
      
            String encodedParams = String.format("from_date=%s&to_date=%s&segment=%s&financial_year=%s",  
                    URLEncoder.encode(fromDate, "UTF-8"),  
                    URLEncoder.encode(toDate, "UTF-8"),  
                    URLEncoder.encode(segment, "UTF-8"),  
                    URLEncoder.encode(financialYear, "UTF-8"));  
      
            String fullUrl = url + "?" + encodedParams;  
      
            URL obj = new URL(fullUrl);  
            HttpURLConnection connection = (HttpURLConnection) obj.openConnection();  
      
            // Set request method  
            connection.setRequestMethod("GET");  
      
            connection.setRequestProperty("Accept", acceptHeader);  
            connection.setRequestProperty("Authorization", authToken);  
      
            int responseCode = connection.getResponseCode();  
      
            System.out.println("Sending 'GET' request to URL: " + fullUrl);  
            System.out.println("Response Code: " + responseCode);  
      
            BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));  
            String inputLine;  
            StringBuilder response = new StringBuilder();  
      
            while ((inputLine = in.readLine()) != null) {  
                response.append(inputLine);  
            }  
            in.close();  
      
            // Print the response  
            System.out.println("Response: " + response.toString());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/trade/profit-loss/metadata';  
    $acceptHeader = 'application/json';  
    $authToken = 'Bearer {your_access_token}';  
      
    $fromDate = '05-11-2023';  
    $toDate = '19-12-2023';  
    $segment = 'FO';  
    $financialYear = '2324';  
      
    $params = [  
        'from_date' => $fromDate,  
        'to_date' => $toDate,  
        'segment' => $segment,  
        'financial_year' => $financialYear  
    ];  
      
    $encodedParams = http_build_query($params);  
    $fullUrl = $url . '?' . $encodedParams;  
      
    $headers = [  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authToken,  
    ];  
      
    $ch = curl_init($fullUrl);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'URL: ' . $fullUrl . PHP_EOL;  
    echo 'Response Code: ' . $httpCode . PHP_EOL;  
    echo 'Response: ' . $response . PHP_EOL;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.TradeProfitAndLossApi(upstox_client.ApiClient(configuration))  
    segment = 'FO'  
    financial_year = '2324' # str | Financial year for which data has been requested. Concatenation of last 2 digits of from year and to year Sample:for 2021-2022, financial_year will be 2122  
    api_version = '2.0' # str | API Version Header  
    from_date = '02-04-2023' # str | Date from which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format (optional)  
    to_date = '20-03-2024' # str | Date till which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format (optional)  
      
    try:  
        # Get Trade-wise Profit and Loss Report Data  
        api_response = api_instance.get_trade_wise_profit_and_loss_meta_data(segment, financial_year, api_version, from_date=from_date, to_date=to_date)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling TradeProfitAndLossApi->get_trade_wise_profit_and_loss_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
      
    // Configure OAuth2 access token for authorization: OAUTH2  
    let OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = '{your_access_token}';  
      
    let apiInstance = new UpstoxClient.TradeProfitAndLossApi();  
    let segment = "FO"; // String | Segment for which data is requested can be from the following options EQ - Equity,   FO - Futures and Options,   COM  - Commodity,   CD - Currency Derivatives  
    let financialYear = "2324"; // String | Financial year for which data has been requested. Concatenation of last 2 digits of from year and to year Sample:for 2021-2022, financial_year will be 2122  
    let apiVersion = "2.0"; // String | API Version Header  
    let opts = {   
      'fromDate': "02-04-2023", // String | Date from which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format  
      'toDate': "20-03-2024" // String | Date till which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format  
    };  
    apiInstance.getTradeWiseProfitAndLossMetaData(segment, financialYear, apiVersion, opts, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetTradeWiseProfitAndLossMetaDataResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.TradeProfitAndLossApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            TradeProfitAndLossApi apiInstance = new TradeProfitAndLossApi();  
            String segment = "FO";  
            String financialYear = "2324";  
            String apiVersion = "2.0";  
            String fromDate = "02-04-2023";  
            String toDate = "20-03-2024";  
            try {  
                GetTradeWiseProfitAndLossMetaDataResponse result = apiInstance.getTradeWiseProfitAndLossMetaData(segment, financialYear, apiVersion, fromDate, toDate);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling TradeProfitAndLossApi#getTradeWiseProfitAndLossMetaData");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/trade-profit-and-loss/get-profit-loss-report
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Trade Profit and Loss
  * Get Profit Loss Report



On this page

# Get Profit Loss Report

## Get profit loss report for equity segment[â€‹](<https://upstox.com/developer/api-documentation/example-code/trade-profit-and-loss/get-profit-loss-report/#get-profit-loss-report-for-equity-segment> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/trade/profit-loss/data?from_date=05-11-2023%20&to_date=19-12-2023&segment=EQ&financial_year=2324&page_number=1&page_size=4' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'   
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/trade/profit-loss/data'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    params = {  
        'from_date': '05-11-2023',  
        'to_date': '19-12-2023',  
        'segment': 'EQ',  
        'financial_year': '2324',  
        'page_number': '1',  
        'page_size': '4'  
    }  
      
    response = requests.get(url, headers=headers, params=params)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/trade/profit-loss/data';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    const params = {  
      'from_date': '05-11-2023',  
      'to_date': '19-12-2023',  
      'segment': 'EQ',  
      'financial_year': '2324',  
      'page_number': '1',  
      'page_size': '4'  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message || error);  
      });  
      
    
    
    
    import java.io.BufferedReader;  
    import java.io.InputStreamReader;  
    import java.net.HttpURLConnection;  
    import java.net.URL;  
    import java.net.URLEncoder;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/trade/profit-loss/data";  
            String acceptHeader = "application/json";  
            String authToken = "Bearer {your_access_token}";  
      
            String fromDate = "05-11-2023";  
            String toDate = "19-12-2023";  
            String segment = "EQ";  
            String financialYear = "2324";  
            String pageNumber = "1";  
            String pageSize = "4";  
      
            String encodedParams = String.format("from_date=%s&to_date=%s&segment=%s&financial_year=%s&page_number=%s&page_size=%s",  
                    URLEncoder.encode(fromDate, "UTF-8"),  
                    URLEncoder.encode(toDate, "UTF-8"),  
                    URLEncoder.encode(segment, "UTF-8"),  
                    URLEncoder.encode(financialYear, "UTF-8"),  
                    URLEncoder.encode(pageNumber, "UTF-8"),  
                    URLEncoder.encode(pageSize, "UTF-8"));  
      
            String fullUrl = url + "?" + encodedParams;  
      
            URL obj = new URL(fullUrl);  
            HttpURLConnection connection = (HttpURLConnection) obj.openConnection();  
      
            // Set request method  
            connection.setRequestMethod("GET");  
      
            connection.setRequestProperty("Accept", acceptHeader);  
            connection.setRequestProperty("Authorization", authToken);  
      
            int responseCode = connection.getResponseCode();  
      
            System.out.println("Sending 'GET' request to URL: " + fullUrl);  
            System.out.println("Response Code: " + responseCode);  
      
            BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));  
            String inputLine;  
            StringBuilder response = new StringBuilder();  
      
            while ((inputLine = in.readLine()) != null) {  
                response.append(inputLine);  
            }  
            in.close();  
      
            // Print the response  
            System.out.println("Response: " + response.toString());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/trade/profit-loss/data';  
    $acceptHeader = 'application/json';  
    $authToken = 'Bearer {your_access_token}';  
      
    $fromDate = '05-11-2023';  
    $toDate = '19-12-2023';  
    $segment = 'EQ';  
    $financialYear = '2324';  
    $pageNumber = '1';  
    $pageSize = '4';  
      
    $params = [  
        'from_date' => $fromDate,  
        'to_date' => $toDate,  
        'segment' => $segment,  
        'financial_year' => $financialYear,  
        'page_number' => $pageNumber,  
        'page_size' => $pageSize,  
    ];  
      
    $encodedParams = http_build_query($params);  
    $fullUrl = $url . '?' . $encodedParams;  
      
    $headers = [  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authToken,  
    ];  
      
    $ch = curl_init($fullUrl);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'URL: ' . $fullUrl . PHP_EOL;  
    echo 'Response Code: ' . $httpCode . PHP_EOL;  
    echo 'Response: ' . $response . PHP_EOL;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.TradeProfitAndLossApi(upstox_client.ApiClient(configuration))  
    segment = 'EQ'  
    financial_year = '2324' # str | Financial year for which data has been requested. Concatenation of last 2 digits of from year and to year Sample:for 2021-2022, financial_year will be 2122  
    page_number = 1  
    page_size = 4  
    api_version = '2.0' # str | API Version Header  
    from_date = '02-04-2023' # str | Date from which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format (optional)  
    to_date = '20-03-2024' # str | Date till which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format (optional)  
      
    try:  
        # Get Trade-wise Profit and Loss Report Data  
        api_response = api_instance.get_trade_wise_profit_and_loss_data(segment, financial_year, page_number, page_size, api_version, from_date=from_date, to_date=to_date)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling TradeProfitAndLossApi->get_trade_wise_profit_and_loss_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
      
    // Configure OAuth2 access token for authorization: OAUTH2  
    let OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = '{your_access_token}';  
      
    let apiInstance = new UpstoxClient.TradeProfitAndLossApi();  
    let segment = "EQ"; // String | Segment for which data is requested can be from the following options EQ - Equity,   FO - Futures and Options,   COM  - Commodity,   CD - Currency Derivatives  
    let financialYear = "2324"; // String | Financial year for which data has been requested. Concatenation of last 2 digits of from year and to year Sample:for 2021-2022, financial_year will be 2122  
    let pageNumber = 1; // Number | Page Number, the pages are starting from 1  
    let pageSize = 40; // Number | Page size for pagination. The maximum page size value is obtained from P and L report metadata API.  
    let apiVersion = "2.0"; // String | API Version Header  
    let opts = {   
      'fromDate': "02-04-2023", // String | Date from which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format  
      'toDate': "20-03-2024" // String | Date till which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format  
    };  
    apiInstance.getTradeWiseProfitAndLossData(segment, financialYear, pageNumber, pageSize, apiVersion, opts, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetTradeWiseProfitAndLossDataResponse;  
    import com.upstox.api.GetTradeWiseProfitAndLossMetaDataResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.TradeProfitAndLossApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            TradeProfitAndLossApi apiInstance = new TradeProfitAndLossApi();  
            String segment = "EQ";  
            String financialYear = "2324";  
            String apiVersion = "2.0";  
            String fromDate = "02-04-2023";  
            String toDate = "20-03-2024";  
            Integer pageNumber = 1;  
            Integer pageSize = 5;  
            try {  
                GetTradeWiseProfitAndLossDataResponse result = apiInstance.getTradeWiseProfitAndLossData(segment, financialYear, pageNumber, pageSize, apiVersion, fromDate, toDate);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling TradeProfitAndLossApi#getTradeWiseProfitAndLossData");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

## Get profit loss report for futures and options segment[â€‹](<https://upstox.com/developer/api-documentation/example-code/trade-profit-and-loss/get-profit-loss-report/#get-profit-loss-report-for-futures-and-options-segment> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/trade/profit-loss/data?from_date=05-11-2023%20&to_date=19-12-2023&segment=FO&financial_year=2324&page_number=1&page_size=4' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'   
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/trade/profit-loss/data'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    params = {  
        'from_date': '05-11-2023',  
        'to_date': '19-12-2023',  
        'segment': 'FO',  
        'financial_year': '2324',  
        'page_number': '1',  
        'page_size': '4'  
    }  
      
    response = requests.get(url, headers=headers, params=params)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/trade/profit-loss/data';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    const params = {  
      'from_date': '05-11-2023',  
      'to_date': '19-12-2023',  
      'segment': 'FO',  
      'financial_year': '2324',  
      'page_number': '1',  
      'page_size': '4'  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message || error);  
      });  
      
    
    
    
    import java.io.BufferedReader;  
    import java.io.InputStreamReader;  
    import java.net.HttpURLConnection;  
    import java.net.URL;  
    import java.net.URLEncoder;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/trade/profit-loss/data";  
            String acceptHeader = "application/json";  
            String authToken = "Bearer {your_access_token}";  
      
            String fromDate = "05-11-2023";  
            String toDate = "19-12-2023";  
            String segment = "FO";  
            String financialYear = "2324";  
            String pageNumber = "1";  
            String pageSize = "4";  
      
            String encodedParams = String.format("from_date=%s&to_date=%s&segment=%s&financial_year=%s&page_number=%s&page_size=%s",  
                    URLEncoder.encode(fromDate, "UTF-8"),  
                    URLEncoder.encode(toDate, "UTF-8"),  
                    URLEncoder.encode(segment, "UTF-8"),  
                    URLEncoder.encode(financialYear, "UTF-8"),  
                    URLEncoder.encode(pageNumber, "UTF-8"),  
                    URLEncoder.encode(pageSize, "UTF-8"));  
      
            String fullUrl = url + "?" + encodedParams;  
      
            URL obj = new URL(fullUrl);  
            HttpURLConnection connection = (HttpURLConnection) obj.openConnection();  
      
            // Set request method  
            connection.setRequestMethod("GET");  
      
            connection.setRequestProperty("Accept", acceptHeader);  
            connection.setRequestProperty("Authorization", authToken);  
      
            int responseCode = connection.getResponseCode();  
      
            System.out.println("Sending 'GET' request to URL: " + fullUrl);  
            System.out.println("Response Code: " + responseCode);  
      
            BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));  
            String inputLine;  
            StringBuilder response = new StringBuilder();  
      
            while ((inputLine = in.readLine()) != null) {  
                response.append(inputLine);  
            }  
            in.close();  
      
            // Print the response  
            System.out.println("Response: " + response.toString());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/trade/profit-loss/data';  
    $acceptHeader = 'application/json';  
    $authToken = 'Bearer {your_access_token}';  
      
    $fromDate = '05-11-2023';  
    $toDate = '19-12-2023';  
    $segment = 'FO';  
    $financialYear = '2324';  
    $pageNumber = '1';  
    $pageSize = '4';  
      
    $params = [  
        'from_date' => $fromDate,  
        'to_date' => $toDate,  
        'segment' => $segment,  
        'financial_year' => $financialYear,  
        'page_number' => $pageNumber,  
        'page_size' => $pageSize,  
    ];  
      
    $encodedParams = http_build_query($params);  
    $fullUrl = $url . '?' . $encodedParams;  
      
    $headers = [  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authToken,  
    ];  
      
    $ch = curl_init($fullUrl);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'URL: ' . $fullUrl . PHP_EOL;  
    echo 'Response Code: ' . $httpCode . PHP_EOL;  
    echo 'Response: ' . $response . PHP_EOL;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.TradeProfitAndLossApi(upstox_client.ApiClient(configuration))  
    segment = 'FO'  
    financial_year = '2324' # str | Financial year for which data has been requested. Concatenation of last 2 digits of from year and to year Sample:for 2021-2022, financial_year will be 2122  
    page_number = 1  
    page_size = 4  
    api_version = '2.0' # str | API Version Header  
    from_date = '02-04-2023' # str | Date from which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format (optional)  
    to_date = '20-03-2024' # str | Date till which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format (optional)  
      
    try:  
        # Get Trade-wise Profit and Loss Report Data  
        api_response = api_instance.get_trade_wise_profit_and_loss_data(segment, financial_year, page_number, page_size, api_version, from_date=from_date, to_date=to_date)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling TradeProfitAndLossApi->get_trade_wise_profit_and_loss_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
      
    // Configure OAuth2 access token for authorization: OAUTH2  
    let OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = '{your_access_token}';  
      
    let apiInstance = new UpstoxClient.TradeProfitAndLossApi();  
    let segment = "FO"; // String | Segment for which data is requested can be from the following options EQ - Equity,   FO - Futures and Options,   COM  - Commodity,   CD - Currency Derivatives  
    let financialYear = "2324"; // String | Financial year for which data has been requested. Concatenation of last 2 digits of from year and to year Sample:for 2021-2022, financial_year will be 2122  
    let pageNumber = 1; // Number | Page Number, the pages are starting from 1  
    let pageSize = 40; // Number | Page size for pagination. The maximum page size value is obtained from P and L report metadata API.  
    let apiVersion = "2.0"; // String | API Version Header  
    let opts = {   
      'fromDate': "02-04-2023", // String | Date from which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format  
      'toDate': "20-03-2024" // String | Date till which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format  
    };  
    apiInstance.getTradeWiseProfitAndLossData(segment, financialYear, pageNumber, pageSize, apiVersion, opts, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetTradeWiseProfitAndLossDataResponse;  
    import com.upstox.api.GetTradeWiseProfitAndLossMetaDataResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.TradeProfitAndLossApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            TradeProfitAndLossApi apiInstance = new TradeProfitAndLossApi();  
            String segment = "FO";  
            String financialYear = "2324";  
            String apiVersion = "2.0";  
            String fromDate = "02-04-2023";  
            String toDate = "20-03-2024";  
            Integer pageNumber = 1;  
            Integer pageSize = 5;  
            try {  
                GetTradeWiseProfitAndLossDataResponse result = apiInstance.getTradeWiseProfitAndLossData(segment, financialYear, pageNumber, pageSize, apiVersion, fromDate, toDate);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling TradeProfitAndLossApi#getTradeWiseProfitAndLossData");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/trade-profit-and-loss/get-trade-charges
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Trade Profit and Loss
  * Get Trade Charges



On this page

# Get Trade Charges

## Get trade charges for equity segment[â€‹](<https://upstox.com/developer/api-documentation/example-code/trade-profit-and-loss/get-trade-charges/#get-trade-charges-for-equity-segment> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/trade/profit-loss/charges?from_date=05-11-2023%20&to_date=19-12-2023&segment=EQ&financial_year=2324' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'   
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/trade/profit-loss/charges'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    params = {  
        'from_date': '05-11-2023',  
        'to_date': '19-12-2023',  
        'segment': 'EQ',  
        'financial_year': '2324'  
    }  
      
    response = requests.get(url, headers=headers, params=params)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/trade/profit-loss/charges';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    const params = {  
      'from_date': '05-11-2023',  
      'to_date': '19-12-2023',  
      'segment': 'EQ',  
      'financial_year': '2324'  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message || error);  
      });  
      
    
    
    
    import java.io.BufferedReader;  
    import java.io.InputStreamReader;  
    import java.net.HttpURLConnection;  
    import java.net.URL;  
    import java.net.URLEncoder;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/trade/profit-loss/charges";  
            String acceptHeader = "application/json";  
            String authToken = "Bearer {your_access_token}";  
      
            String fromDate = "05-11-2023";  
            String toDate = "19-12-2023";  
            String segment = "EQ";  
            String financialYear = "2324";  
      
            String encodedParams = String.format("from_date=%s&to_date=%s&segment=%s&financial_year=%s",  
                    URLEncoder.encode(fromDate, "UTF-8"),  
                    URLEncoder.encode(toDate, "UTF-8"),  
                    URLEncoder.encode(segment, "UTF-8"),  
                    URLEncoder.encode(financialYear, "UTF-8"));  
      
            String fullUrl = url + "?" + encodedParams;  
      
            URL obj = new URL(fullUrl);  
            HttpURLConnection connection = (HttpURLConnection) obj.openConnection();  
      
            // Set request method  
            connection.setRequestMethod("GET");  
      
            connection.setRequestProperty("Accept", acceptHeader);  
            connection.setRequestProperty("Authorization", authToken);  
      
            int responseCode = connection.getResponseCode();  
      
            System.out.println("Sending 'GET' request to URL: " + fullUrl);  
            System.out.println("Response Code: " + responseCode);  
      
            BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));  
            String inputLine;  
            StringBuilder response = new StringBuilder();  
      
            while ((inputLine = in.readLine()) != null) {  
                response.append(inputLine);  
            }  
            in.close();  
      
            // Print the response  
            System.out.println("Response: " + response.toString());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/trade/profit-loss/charges';  
    $acceptHeader = 'application/json';  
    $authToken = 'Bearer {your_access_token}';  
      
    $fromDate = '05-11-2023';  
    $toDate = '19-12-2023';  
    $segment = 'EQ';  
    $financialYear = '2324';  
      
    $params = [  
        'from_date' => $fromDate,  
        'to_date' => $toDate,  
        'segment' => $segment,  
        'financial_year' => $financialYear  
    ];  
      
    $encodedParams = http_build_query($params);  
    $fullUrl = $url . '?' . $encodedParams;  
      
    $headers = [  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authToken,  
    ];  
      
    $ch = curl_init($fullUrl);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'URL: ' . $fullUrl . PHP_EOL;  
    echo 'Response Code: ' . $httpCode . PHP_EOL;  
    echo 'Response: ' . $response . PHP_EOL;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.TradeProfitAndLossApi(upstox_client.ApiClient(configuration))  
    segment = 'EQ'  
    financial_year = '2324' # str | Financial year for which data has been requested. Concatenation of last 2 digits of from year and to year Sample:for 2021-2022, financial_year will be 2122  
    api_version = '2.0' # str | API Version Header  
    from_date = '02-04-2023' # str | Date from which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format (optional)  
    to_date = '20-03-2024' # str | Date till which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format (optional)  
      
    try:  
        # Get Trade-wise Profit and Loss Report Data  
        api_response = api_instance.get_profit_and_loss_charges(segment, financial_year, api_version, from_date=from_date, to_date=to_date)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling TradeProfitAndLossApi->get_trade_wise_profit_and_loss_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
      
    // Configure OAuth2 access token for authorization: OAUTH2  
    let OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = '{your_access_token}';  
      
    let apiInstance = new UpstoxClient.TradeProfitAndLossApi();  
    let segment = "EQ"; // String | Segment for which data is requested can be from the following options EQ - Equity,   FO - Futures and Options,   COM  - Commodity,   CD - Currency Derivatives  
    let financialYear = "2324"; // String | Financial year for which data has been requested. Concatenation of last 2 digits of from year and to year Sample:for 2021-2022, financial_year will be 2122  
    let apiVersion = "2.0"; // String | API Version Header  
    let opts = {   
      'fromDate': "02-04-2023", // String | Date from which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format  
      'toDate': "20-03-2024" // String | Date till which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format  
    };  
    apiInstance.getProfitAndLossCharges(segment, financialYear, apiVersion, opts, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetProfitAndLossChargesResponse;  
    import com.upstox.api.GetTradeWiseProfitAndLossDataResponse;  
    import com.upstox.api.GetTradeWiseProfitAndLossMetaDataResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.TradeProfitAndLossApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            TradeProfitAndLossApi apiInstance = new TradeProfitAndLossApi();  
            String segment = "EQ";  
            String financialYear = "2324";  
            String apiVersion = "2.0";  
            String fromDate = "02-04-2023";  
            String toDate = "20-03-2024";  
            try {  
                GetProfitAndLossChargesResponse result = apiInstance.getProfitAndLossCharges(segment, financialYear, apiVersion, fromDate, toDate);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling TradeProfitAndLossApi#getProfitAndLossCharges");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

## Get trade charges for futures and options segment[â€‹](<https://upstox.com/developer/api-documentation/example-code/trade-profit-and-loss/get-trade-charges/#get-trade-charges-for-futures-and-options-segment> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/trade/profit-loss/charges?from_date=05-11-2023%20&to_date=19-12-2023&segment=FO&financial_year=2324' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'   
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/trade/profit-loss/charges'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    params = {  
        'from_date': '05-11-2023',  
        'to_date': '19-12-2023',  
        'segment': 'FO',  
        'financial_year': '2324'  
    }  
      
    response = requests.get(url, headers=headers, params=params)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/trade/profit-loss/charges';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    const params = {  
      'from_date': '05-11-2023',  
      'to_date': '19-12-2023',  
      'segment': 'FO',  
      'financial_year': '2324'  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log(response.status);  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message || error);  
      });  
      
    
    
    
    import java.io.BufferedReader;  
    import java.io.InputStreamReader;  
    import java.net.HttpURLConnection;  
    import java.net.URL;  
    import java.net.URLEncoder;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/trade/profit-loss/charges";  
            String acceptHeader = "application/json";  
            String authToken = "Bearer {your_access_token}";  
      
            String fromDate = "05-11-2023";  
            String toDate = "19-12-2023";  
            String segment = "FO";  
            String financialYear = "2324";  
      
            String encodedParams = String.format("from_date=%s&to_date=%s&segment=%s&financial_year=%s",  
                    URLEncoder.encode(fromDate, "UTF-8"),  
                    URLEncoder.encode(toDate, "UTF-8"),  
                    URLEncoder.encode(segment, "UTF-8"),  
                    URLEncoder.encode(financialYear, "UTF-8"));  
      
            String fullUrl = url + "?" + encodedParams;  
      
            URL obj = new URL(fullUrl);  
            HttpURLConnection connection = (HttpURLConnection) obj.openConnection();  
      
            // Set request method  
            connection.setRequestMethod("GET");  
      
            connection.setRequestProperty("Accept", acceptHeader);  
            connection.setRequestProperty("Authorization", authToken);  
      
            int responseCode = connection.getResponseCode();  
      
            System.out.println("Sending 'GET' request to URL: " + fullUrl);  
            System.out.println("Response Code: " + responseCode);  
      
            BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));  
            String inputLine;  
            StringBuilder response = new StringBuilder();  
      
            while ((inputLine = in.readLine()) != null) {  
                response.append(inputLine);  
            }  
            in.close();  
      
            // Print the response  
            System.out.println("Response: " + response.toString());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/trade/profit-loss/charges';  
    $acceptHeader = 'application/json';  
    $authToken = 'Bearer {your_access_token}';  
      
    $fromDate = '05-11-2023';  
    $toDate = '19-12-2023';  
    $segment = 'FO';  
    $financialYear = '2324';  
      
    $params = [  
        'from_date' => $fromDate,  
        'to_date' => $toDate,  
        'segment' => $segment,  
        'financial_year' => $financialYear  
    ];  
      
    $encodedParams = http_build_query($params);  
    $fullUrl = $url . '?' . $encodedParams;  
      
    $headers = [  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authToken,  
    ];  
      
    $ch = curl_init($fullUrl);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'URL: ' . $fullUrl . PHP_EOL;  
    echo 'Response Code: ' . $httpCode . PHP_EOL;  
    echo 'Response: ' . $response . PHP_EOL;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    api_instance = upstox_client.TradeProfitAndLossApi(upstox_client.ApiClient(configuration))  
    segment = 'FO'  
    financial_year = '2324' # str | Financial year for which data has been requested. Concatenation of last 2 digits of from year and to year Sample:for 2021-2022, financial_year will be 2122  
    api_version = '2.0' # str | API Version Header  
    from_date = '02-04-2023' # str | Date from which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format (optional)  
    to_date = '20-03-2024' # str | Date till which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format (optional)  
      
    try:  
        # Get Trade-wise Profit and Loss Report Data  
        api_response = api_instance.get_profit_and_loss_charges(segment, financial_year, api_version, from_date=from_date, to_date=to_date)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling TradeProfitAndLossApi->get_trade_wise_profit_and_loss_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
      
    // Configure OAuth2 access token for authorization: OAUTH2  
    let OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = '{your_access_token}';  
      
    let apiInstance = new UpstoxClient.TradeProfitAndLossApi();  
    let segment = "FO"; // String | Segment for which data is requested can be from the following options EQ - Equity,   FO - Futures and Options,   COM  - Commodity,   CD - Currency Derivatives  
    let financialYear = "2324"; // String | Financial year for which data has been requested. Concatenation of last 2 digits of from year and to year Sample:for 2021-2022, financial_year will be 2122  
    let apiVersion = "2.0"; // String | API Version Header  
    let opts = {   
      'fromDate': "02-04-2023", // String | Date from which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format  
      'toDate': "20-03-2024" // String | Date till which data needs to be fetched. from_date and to_date should fall under the same financial year as mentioned in financial_year attribute. Date in dd-mm-yyyy format  
    };  
    apiInstance.getProfitAndLossCharges(segment, financialYear, apiVersion, opts, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetProfitAndLossChargesResponse;  
    import com.upstox.api.GetTradeWiseProfitAndLossDataResponse;  
    import com.upstox.api.GetTradeWiseProfitAndLossMetaDataResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.TradeProfitAndLossApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            TradeProfitAndLossApi apiInstance = new TradeProfitAndLossApi();  
            String segment = "FO";  
            String financialYear = "2324";  
            String apiVersion = "2.0";  
            String fromDate = "02-04-2023";  
            String toDate = "20-03-2024";  
            try {  
                GetProfitAndLossChargesResponse result = apiInstance.getProfitAndLossCharges(segment, financialYear, apiVersion, fromDate, toDate);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling TradeProfitAndLossApi#getProfitAndLossCharges");  
                e.printStackTrace();  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/historical-data/historical-candle-data
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Historical Data
  * Historical Candle Data



On this page

# Historical Candle Data

## Get historical candle data with a 1-minute interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/historical-candle-data/#get-historical-candle-data-with-a-1-minute-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/1minute/2023-11-13/2023-11-12' \  
    --header 'Accept: application/json'   
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/1minute/2023-11-13/2023-11-12'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/1minute/2023-11-13/2023-11-12';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/1minute/2023-11-13/2023-11-12";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/1minute/2023-11-12/2023-11-12';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
      
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    api_version = '2.0'  
      
    api_instance = upstox_client.HistoryApi()  
    instrument_key = 'NSE_EQ|INE669E01016'  
    interval = '1minute'  
    to_date = '2023-11-13'  
    from_date = '2023-11-12'  
    try:  
        api_response = api_instance.get_historical_candle_data1(instrument_key, interval, to_date,from_date, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling HistoryApi->get_historical_candle_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let apiInstance = new UpstoxClient.HistoryApi();  
      
    let apiVersion = "2.0";   
    let instrumentKey = "NSE_EQ|INE669E01016";   
    let interval = "1minute";   
    let toDate = "2023-11-13";  
    let fromDate = "2023-11-12";  
      
    apiInstance.getHistoricalCandleData1(instrumentKey, interval, toDate, fromDate,apiVersion, (error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
    });  
      
    
    
    
    import com.upstox.ApiException;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import io.swagger.client.api.HistoryApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            HistoryApi apiInstance = new HistoryApi();  
            String apiVersion = "2.0";  
            String instrumentKey = "NSE_EQ|INE669E01016";  
            String interval = "1minute";  
            String toDate = "2023-11-13";  
            String fromDate = "2023-11-12";  
            try {  
                GetHistoricalCandleResponse result = apiInstance.getHistoricalCandleData1(instrumentKey, interval, toDate, fromDate, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryApi#getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get data with a 30-minute interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/historical-candle-data/#get-data-with-a-30-minute-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/30minute/2023-11-13/2023-11-12' \  
    --header 'Accept: application/json'   
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/30minute/2023-11-13/2023-11-12'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/30minute/2023-11-13/2023-11-12';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/30minute/2023-11-13/2023-11-12";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/30minute/2023-11-13/2023-11-12';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    api_version = '2.0'  
      
    api_instance = upstox_client.HistoryApi()  
    instrument_key = 'NSE_EQ|INE669E01016'  
    interval = '30minute'  
    to_date = '2023-11-13'  
    from_date = '2023-11-12'  
    try:  
        api_response = api_instance.get_historical_candle_data1(instrument_key, interval, to_date,from_date, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling HistoryApi->get_historical_candle_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let apiInstance = new UpstoxClient.HistoryApi();  
      
    let apiVersion = "2.0";   
    let instrumentKey = "NSE_EQ|INE669E01016";   
    let interval = "30minute";   
    let toDate = "2023-11-13";  
    let fromDate = "2023-11-12";  
    apiInstance.getHistoricalCandleData1(instrumentKey, interval, toDate, fromDate,apiVersion, (error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
    });  
      
    
    
    
    import com.upstox.ApiException;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import io.swagger.client.api.HistoryApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            HistoryApi apiInstance = new HistoryApi();  
            String apiVersion = "2.0";  
            String instrumentKey = "NSE_EQ|INE669E01016";  
            String interval = "30minute";  
            String toDate = "2023-11-13";  
            String fromDate = "2023-11-12";  
            try {  
                GetHistoricalCandleResponse result = apiInstance.getHistoricalCandleData1(instrumentKey, interval, toDate, fromDate, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryApi#getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

## Get data with a daily interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/historical-candle-data/#get-data-with-a-daily-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/day/2023-11-19/2023-11-12' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/day/2023-11-19/2023-11-12'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/day/2023-11-19/2023-11-12';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/day/2023-11-19/2023-11-12";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/day/2023-11-19/2023-11-12';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
      
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    api_version = '2.0'  
      
    api_instance = upstox_client.HistoryApi()  
    instrument_key = 'NSE_EQ|INE669E01016'  
    interval = 'day'  
    to_date = '2023-11-13'  
    from_date = '2023-11-12'  
    try:  
        api_response = api_instance.get_historical_candle_data1(instrument_key, interval, to_date,from_date, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling HistoryApi->get_historical_candle_data: %s\n" % e)  
    
    
    
    let apiVersion = "2.0";   
    let instrumentKey = "NSE_EQ|INE669E01016";   
    let interval = "day";   
    let toDate = "2023-11-13";  
    let fromDate = "2023-11-07";  
      
    apiInstance.getHistoricalCandleData1(instrumentKey, interval, toDate, fromDate,apiVersion, (error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
    });  
      
    
    
    
    import com.upstox.ApiException;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import io.swagger.client.api.HistoryApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            HistoryApi apiInstance = new HistoryApi();  
            String apiVersion = "2.0";  
            String instrumentKey = "NSE_EQ|INE669E01016";  
            String interval = "day";  
            String toDate = "2023-11-13";  
            String fromDate = "2023-11-12";  
            try {  
                GetHistoricalCandleResponse result = apiInstance.getHistoricalCandleData1(instrumentKey, interval, toDate, fromDate, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryApi#getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

## Get data with a weekly interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/historical-candle-data/#get-data-with-a-weekly-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/week/2023-11-19/2023-07-12' \  
    --header 'Accept: application/json'   
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/week/2023-11-19/2023-07-12'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/week/2023-11-19/2023-07-12';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/week/2023-11-19/2023-07-12";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/week/2023-11-19/2023-07-12';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    api_version = '2.0'  
      
    api_instance = upstox_client.HistoryApi()  
    instrument_key = 'NSE_EQ|INE669E01016'  
    interval = 'week'  
    to_date = '2023-11-13'  
    from_date = '2023-10-13'  
    try:  
        # Historical candle data  
        api_response = api_instance.get_historical_candle_data1(instrument_key, interval, to_date,from_date, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling HistoryApi->get_historical_candle_data: %s\n" % e)  
    
    
    
    let apiVersion = "2.0";   
    let instrumentKey = "NSE_EQ|INE669E01016";   
    let interval = "week";   
    let toDate = "2023-11-13";  
    let fromDate = "2023-10-07";  
      
    apiInstance.getHistoricalCandleData1(instrumentKey, interval, toDate, fromDate,apiVersion, (error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
    });  
    
    
    
    import com.upstox.ApiException;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import io.swagger.client.api.HistoryApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            HistoryApi apiInstance = new HistoryApi();  
            String apiVersion = "2.0";  
            String instrumentKey = "NSE_EQ|INE669E01016";  
            String interval = "week";  
            String toDate = "2023-11-13";  
            String fromDate = "2023-10-13";  
            try {  
                GetHistoricalCandleResponse result = apiInstance.getHistoricalCandleData1(instrumentKey, interval, toDate, fromDate, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryApi#getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

## Get data with a monthly interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/historical-candle-data/#get-data-with-a-monthly-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/month/2023-11-19/2022-11-12' \  
    --header 'Accept: application/json'   
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/month/2023-11-19/2022-11-12'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/month/2023-11-19/2022-11-12';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/month/2023-11-19/2022-11-12";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/month/2023-11-19/2022-11-12';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    api_version = '2.0'  
      
    api_instance = upstox_client.HistoryApi()  
    instrument_key = 'NSE_EQ|INE669E01016'  
    interval = 'month'  
    to_date = '2023-11-13'  
    from_date = '2022-10-13'  
    try:  
        api_response = api_instance.get_historical_candle_data1(instrument_key, interval, to_date,from_date, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling HistoryApi->get_historical_candle_data: %s\n" % e)  
    
    
    
    let apiVersion = "2.0";   
    let instrumentKey = "NSE_EQ|INE669E01016";   
    let interval = "month";   
    let toDate = "2023-11-13";  
    let fromDate = "2022-10-07";  
      
    apiInstance.getHistoricalCandleData1(instrumentKey, interval, toDate, fromDate,apiVersion, (error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
    });  
    
    
    
    import com.upstox.ApiException;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import io.swagger.client.api.HistoryApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            HistoryApi apiInstance = new HistoryApi();  
            String apiVersion = "2.0";  
            String instrumentKey = "NSE_EQ|INE669E01016";  
            String interval = "month";  
            String toDate = "2023-11-13";  
            String fromDate = "2022-10-13";  
            try {  
                GetHistoricalCandleResponse result = apiInstance.getHistoricalCandleData1(instrumentKey, interval, toDate, fromDate, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryApi#getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

  


## Get historical candle data with a 1-minute interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/historical-candle-data/#get-historical-candle-data-with-a-1-minute-interval-1> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/1minute/2023-11-13' \  
    --header 'Accept: application/json'   
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/1minute/2023-11-13'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/1minute/2023-11-13';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/1minute/2023-11-13";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/1minute/2023-11-12';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
      
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    api_version = '2.0'  
      
    api_instance = upstox_client.HistoryApi()  
    instrument_key = 'NSE_EQ|INE669E01016'  
    interval = '1minute'  
    to_date = '2023-11-13'  
    try:  
        api_response = api_instance.get_historical_candle_data(instrument_key, interval, to_date, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling HistoryApi->get_historical_candle_data: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let apiInstance = new UpstoxClient.HistoryApi();  
      
    let apiVersion = "2.0";   
    let instrumentKey = "NSE_EQ|INE669E01016";   
    let interval = "1minute";   
    let toDate = "2023-11-13";  
    apiInstance.getHistoricalCandleData(instrumentKey, interval, toDate, apiVersion, (error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
    });  
    
    
    
    import com.upstox.ApiException;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import io.swagger.client.api.HistoryApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            HistoryApi apiInstance = new HistoryApi();  
            String apiVersion = "2.0";  
            String instrumentKey = "NSE_EQ|INE669E01016";  
            String interval = "1minute";  
            String toDate = "2023-11-13";  
            try {  
                GetHistoricalCandleResponse result = apiInstance.getHistoricalCandleData(instrumentKey, interval, toDate, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryApi#getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get data with a 30-minute interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/historical-candle-data/#get-data-with-a-30-minute-interval-1> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/30minute/2023-11-13' \  
    --header 'Accept: application/json'   
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/30minute/2023-11-13'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/30minute/2023-11-13';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/30minute/2023-11-13";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/30minute/2023-11-13';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    api_version = '2.0'  
      
    api_instance = upstox_client.HistoryApi()  
    instrument_key = 'NSE_EQ|INE669E01016'  
    interval = '30minute'  
    to_date = '2023-11-13'  
    try:  
        api_response = api_instance.get_historical_candle_data(instrument_key, interval, to_date, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling HistoryApi->get_historical_candle_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let apiInstance = new UpstoxClient.HistoryApi();  
      
    let apiVersion = "2.0";   
    let instrumentKey = "NSE_EQ|INE669E01016";   
    let interval = "30minute";   
    let toDate = "2023-11-13";  
      
    apiInstance.getHistoricalCandleData(instrumentKey, interval, toDate, apiVersion, (error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
    });  
    
    
    
    import com.upstox.ApiException;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import io.swagger.client.api.HistoryApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            HistoryApi apiInstance = new HistoryApi();  
            String apiVersion = "2.0";  
            String instrumentKey = "NSE_EQ|INE669E01016";  
            String interval = "30minute";  
            String toDate = "2023-11-13";  
            try {  
                GetHistoricalCandleResponse result = apiInstance.getHistoricalCandleData(instrumentKey, interval, toDate, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryApi#getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

## Get data with a daily interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/historical-candle-data/#get-data-with-a-daily-interval-1> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/day/2023-11-19' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/day/2023-11-19'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/day/2023-11-19';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/day/2023-11-19";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/day/2023-11-19';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
      
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    api_version = '2.0'  
      
    api_instance = upstox_client.HistoryApi()  
    instrument_key = 'NSE_EQ|INE669E01016'  
    interval = 'day'  
    to_date = '2023-11-13'  
    try:  
        api_response = api_instance.get_historical_candle_data(instrument_key, interval, to_date, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling HistoryApi->get_historical_candle_data: %s\n" % e)  
      
    
    
    
    let apiVersion = "2.0";   
    let instrumentKey = "NSE_EQ|INE669E01016";   
    let interval = "day";   
    let toDate = "2023-11-13";  
      
    apiInstance.getHistoricalCandleData(instrumentKey, interval, toDate, apiVersion, (error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
    });  
      
    
    
    
    import com.upstox.ApiException;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import io.swagger.client.api.HistoryApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            HistoryApi apiInstance = new HistoryApi();  
            String apiVersion = "2.0";  
            String instrumentKey = "NSE_EQ|INE669E01016";  
            String interval = "day";  
            String toDate = "2023-11-13";  
            try {  
                GetHistoricalCandleResponse result = apiInstance.getHistoricalCandleData(instrumentKey, interval, toDate, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryApi#getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

## Get data with a weekly interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/historical-candle-data/#get-data-with-a-weekly-interval-1> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/week/2023-11-19' \  
    --header 'Accept: application/json'   
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/week/2023-11-19'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/week/2023-11-19';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/week/2023-11-19";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/week/2023-11-19';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    api_version = '2.0'  
      
    api_instance = upstox_client.HistoryApi()  
    instrument_key = 'NSE_EQ|INE669E01016'  
    interval = 'week'  
    to_date = '2023-11-13'  
    try:  
        api_response = api_instance.get_historical_candle_data(instrument_key, interval, to_date, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling HistoryApi->get_historical_candle_data: %s\n" % e)  
      
    
    
    
    let apiVersion = "2.0";   
    let instrumentKey = "NSE_EQ|INE669E01016";   
    let interval = "week";   
    let toDate = "2023-11-13";  
      
    apiInstance.getHistoricalCandleData(instrumentKey, interval, toDate, apiVersion, (error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
    });  
      
    
    
    
    import com.upstox.ApiException;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import io.swagger.client.api.HistoryApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            HistoryApi apiInstance = new HistoryApi();  
            String apiVersion = "2.0";  
            String instrumentKey = "NSE_EQ|INE669E01016";  
            String interval = "week";  
            String toDate = "2023-11-13";  
            try {  
                GetHistoricalCandleResponse result = apiInstance.getHistoricalCandleData(instrumentKey, interval, toDate, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryApi#getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

## Get data with a monthly interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/historical-candle-data/#get-data-with-a-monthly-interval-1> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/month/2023-11-19' \  
    --header 'Accept: application/json'   
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/month/2023-11-19'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/month/2023-11-19';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/month/2023-11-19";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v2/historical-candle/NSE_EQ%7CINE848E01016/month/2023-11-19';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    api_version = '2.0'  
      
    api_instance = upstox_client.HistoryApi()  
    instrument_key = 'NSE_EQ|INE669E01016'  
    interval = 'month'  
    to_date = '2023-11-13'  
    try:  
        api_response = api_instance.get_historical_candle_data(instrument_key, interval, to_date, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling HistoryApi->get_historical_candle_data: %s\n" % e)  
    
    
    
    let apiVersion = "2.0";   
    let instrumentKey = "NSE_EQ|INE669E01016";   
    let interval = "month";   
    let toDate = "2023-11-13";  
      
    apiInstance.getHistoricalCandleData(instrumentKey, interval, toDate, apiVersion, (error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
    });  
      
    
    
    
    import com.upstox.ApiException;  
    import com.upstox.api.GetHistoricalCandleResponse;  
    import io.swagger.client.api.HistoryApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            HistoryApi apiInstance = new HistoryApi();  
            String apiVersion = "2.0";  
            String instrumentKey = "NSE_EQ|INE669E01016";  
            String interval = "month";  
            String toDate = "2023-11-13";  
            try {  
                GetHistoricalCandleResponse result = apiInstance.getHistoricalCandleData(instrumentKey, interval, toDate, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryApi#getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/historical-data/v3/historical-candle-data
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Historical Data
  * Historical Candle Data V3



On this page

# Historical Candle Data V3

## Get data with a 1-minute interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/v3/historical-candle-data/#get-data-with-a-1-minute-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/1/2025-01-02/2025-01-01 \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/1/2025-01-02/2025-01-01'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/1/2025-01-02/2025-01-01';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/1/2025-01-02/2025-01-01";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/1/2025-01-02/2025-01-01';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
      
    
    
    
    import upstox_client  
    apiInstance = upstox_client.HistoryV3Api()  
    try:  
        response = apiInstance.get_historical_candle_data1("NSE_EQ|INE848E01016", "minutes", "1", "2025-01-02", "2025-01-01")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_historical_candle_data1: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getHistoricalCandleData1("NSE_EQ|INE848E01016", "minutes", "1", "2025-01-02", "2025-01-01", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    public class Main {  
        public static void main(String[] args) {  
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetHistoricalCandleResponse result = historyV3Api.getHistoricalCandleData1("NSE_EQ|INE848E01016", "minutes", 1, "2025-01-02", "2025-01-01");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get data with a 3-minute interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/v3/historical-candle-data/#get-data-with-a-3-minute-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/3/2025-01-02/2025-01-01' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/3/2025-01-02/2025-01-01'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/3/2025-01-02/2025-01-01';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/3/2025-01-02/2025-01-01";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/3/2025-01-02/2025-01-01';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    apiInstance = upstox_client.HistoryV3Api()  
    try:  
        response = apiInstance.get_historical_candle_data1("NSE_EQ|INE848E01016", "minutes", "3", "2025-01-02", "2025-01-01")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_historical_candle_data1: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getHistoricalCandleData1("NSE_EQ|INE848E01016", "minutes", "3", "2025-01-02", "2025-01-01", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    public class Main {  
        public static void main(String[] args) {  
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetHistoricalCandleResponse result = historyV3Api.getHistoricalCandleData1("NSE_EQ|INE848E01016", "minutes", 3, "2025-01-02", "2025-01-01");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get data with a 15-minute interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/v3/historical-candle-data/#get-data-with-a-15-minute-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/15/2025-01-04/2025-01-01' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/15/2025-01-04/2025-01-01'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/15/2025-01-04/2025-01-01';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/15/2025-01-04/2025-01-01";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/minutes/15/2025-01-04/2025-01-01';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    apiInstance = upstox_client.HistoryV3Api()  
    try:  
        response = apiInstance.get_historical_candle_data1("NSE_EQ|INE848E01016", "minutes", "15", "2025-01-04", "2025-01-01")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_historical_candle_data1: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getHistoricalCandleData1("NSE_EQ|INE848E01016", "minutes", "15", "2025-01-04", "2025-01-01", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    public class Main {  
        public static void main(String[] args) {  
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetHistoricalCandleResponse result = historyV3Api.getHistoricalCandleData1("NSE_EQ|INE848E01016", "minutes", 15, "2025-01-04", "2025-01-01");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get data with a 1-hour interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/v3/historical-candle-data/#get-data-with-a-1-hour-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/hours/1/2025-02-01/2025-01-01' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/hours/1/2025-02-01/2025-01-01'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/hours/1/2025-02-01/2025-01-01';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/hours/1/2025-02-01/2025-01-01";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/hours/1/2025-02-01/2025-01-01';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    apiInstance = upstox_client.HistoryV3Api()  
    try:  
        response = apiInstance.get_historical_candle_data1("NSE_EQ|INE848E01016", "hours", "1", "2025-02-01", "2025-01-01")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_historical_candle_data1: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getHistoricalCandleData1("NSE_EQ|INE848E01016", "hours", "1", "2025-02-01", "2025-01-01", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    public class Main {  
        public static void main(String[] args) {  
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetHistoricalCandleResponse result = historyV3Api.getHistoricalCandleData1("NSE_EQ|INE848E01016", "hours", 1, "2025-02-01", "2025-01-01");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get data with a 4-hour interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/v3/historical-candle-data/#get-data-with-a-4-hour-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/hours/4/2025-02-01/2025-01-01' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/hours/4/2025-02-01/2025-01-01'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/hours/4/2025-02-01/2025-01-01';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/hours/4/2025-02-01/2025-01-01";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/hours/4/2025-02-01/2025-01-01';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    apiInstance = upstox_client.HistoryV3Api()  
    try:  
        response = apiInstance.get_historical_candle_data1("NSE_EQ|INE848E01016", "hours", "4", "2025-02-01", "2025-01-01")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_historical_candle_data1: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getHistoricalCandleData1("NSE_EQ|INE848E01016", "hours", "4", "2025-02-01", "2025-01-01", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    public class Main {  
        public static void main(String[] args) {  
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetHistoricalCandleResponse result = historyV3Api.getHistoricalCandleData1("NSE_EQ|INE848E01016", "hours", 4, "2025-02-01", "2025-01-01");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get data with a daily interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/v3/historical-candle-data/#get-data-with-a-daily-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/days/1/2025-03-01/2025-01-01' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/days/1/2025-03-01/2025-01-01'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/days/1/2025-03-01/2025-01-01';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/days/1/2025-03-01/2025-01-01";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/days/1/2025-03-01/2025-01-01';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
      
    
    
    
    import upstox_client  
    apiInstance = upstox_client.HistoryV3Api()  
    try:  
        response = apiInstance.get_historical_candle_data1("NSE_EQ|INE848E01016", "days", "1", "2025-03-01", "2025-01-01")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_historical_candle_data1: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getHistoricalCandleData1("NSE_EQ|INE848E01016", "days", "1", "2025-03-01", "2025-01-01", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    public class Main {  
        public static void main(String[] args) {  
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetHistoricalCandleResponse result = historyV3Api.getHistoricalCandleData1("NSE_EQ|INE848E01016", "days", 1, "2025-03-01", "2025-01-01");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get data with a weekly interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/v3/historical-candle-data/#get-data-with-a-weekly-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/weeks/1/2025-01-01/2024-01-01' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/weeks/1/2025-01-01/2024-01-01'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/weeks/1/2025-01-01/2024-01-01';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
      
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/weeks/1/2025-01-01/2024-01-01";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/weeks/1/2025-01-01/2024-01-01';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
      
    
    
    
    import upstox_client  
    apiInstance = upstox_client.HistoryV3Api()  
    try:  
        response = apiInstance.get_historical_candle_data1("NSE_EQ|INE848E01016", "weeks", "1", "2025-01-01", "2024-01-01")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_historical_candle_data1: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getHistoricalCandleData1("NSE_EQ|INE848E01016", "weeks", "1", "2025-01-01", "2024-01-01", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    public class Main {  
        public static void main(String[] args) {  
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetHistoricalCandleResponse result = historyV3Api.getHistoricalCandleData1("NSE_EQ|INE848E01016", "weeks", 1, "2025-01-01", "2024-01-01");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get data with a monthly interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/v3/historical-candle-data/#get-data-with-a-monthly-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/months/1/2025-01-01/2010-01-01' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/months/1/2025-01-01/2010-01-01'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/months/1/2025-01-01/2010-01-01';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/months/1/2025-01-01/2010-01-01";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/NSE_EQ%7CINE848E01016/months/1/2025-01-01/2010-01-01';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    apiInstance = upstox_client.HistoryV3Api()  
    try:  
        response = apiInstance.get_historical_candle_data1("NSE_EQ|INE848E01016", "months", "1", "2025-01-01", "2010-01-01")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_historical_candle_data1: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getHistoricalCandleData1("NSE_EQ|INE848E01016", "months", "1", "2025-01-01", "2010-01-01", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    public class Main {  
        public static void main(String[] args) {  
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetHistoricalCandleResponse result = historyV3Api.getHistoricalCandleData1("NSE_EQ|INE848E01016", "months", 1, "2025-01-01", "2010-01-01");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getHistoricalCandleData1");  
                e.printStackTrace();  
            }  
        }  
    }  
    

  



---
# Source: https://upstox.com/developer/api-documentation/example-code/historical-data/intra-day-candle-data
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Historical Data
  * Intraday Candle Data



On this page

# IntraDay Candle Data

## Get intraday candle data with a 1-minute interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/intra-day-candle-data/#get-intraday-candle-data-with-a-1-minute-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/historical-candle/intraday/NSE_EQ%7CINE848E01016/1minute' \  
    --header 'Accept: application/json'   
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/historical-candle/intraday/NSE_EQ%7CINE848E01016/1minute'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/historical-candle/intraday/NSE_EQ%7CINE848E01016/1minute';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/historical-candle/intraday/NSE_EQ%7CINE848E01016/1minute";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v2/historical-candle/intraday/NSE_EQ%7CINE848E01016/1minute';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    api_version = '2.0'  
      
    api_instance = upstox_client.HistoryApi()  
    instrument_key = 'NSE_EQ|INE669E01016'  
    interval = '1minute'  
    try:  
      
        api_response = api_instance.get_intra_day_candle_data(instrument_key,interval,api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling HistoryApi->get_historical_candle_data: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let apiInstance = new UpstoxClient.HistoryApi();  
      
    let apiVersion = "2.0";   
    let instrumentKey = "NSE_EQ|INE669E01016";   
    let interval = "1minute";   
      
    apiInstance.getIntraDayCandleData(instrumentKey, interval, apiVersion, (error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
    });  
    
    
    
    import com.upstox.ApiException;  
    import com.upstox.api.GetIntraDayCandleResponse;  
    import io.swagger.client.api.HistoryApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            HistoryApi apiInstance = new HistoryApi();  
            String apiVersion = "2.0";  
            String instrumentKey = "NSE_EQ|INE669E01016";  
            String interval = "1minute";  
            try {  
                GetIntraDayCandleResponse result = apiInstance.getIntraDayCandleData(instrumentKey, interval, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryApi#getIntraDayCandleData");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    

## Get intraday candle data with a 30-minute interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/intra-day-candle-data/#get-intraday-candle-data-with-a-30-minute-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/historical-candle/intraday/NSE_EQ%7CINE848E01016/30minute' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/historical-candle/intraday/NSE_EQ%7CINE848E01016/30minute'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/historical-candle/intraday/NSE_EQ%7CINE848E01016/30minute';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v2/historical-candle/intraday/NSE_EQ%7CINE848E01016/30minute";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v2/historical-candle/intraday/NSE_EQ%7CINE848E01016/30minute';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    api_version = '2.0'  
      
    api_instance = upstox_client.HistoryApi()  
    instrument_key = 'NSE_EQ|INE669E01016'  
    interval = '30minute'  
    try:  
      
        api_response = api_instance.get_intra_day_candle_data(instrument_key,interval,api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling HistoryApi->get_historical_candle_data: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let apiInstance = new UpstoxClient.HistoryApi();  
      
    let apiVersion = "2.0";   
    let instrumentKey = "NSE_EQ|INE669E01016";   
    let interval = "30minute";   
      
    apiInstance.getIntraDayCandleData(instrumentKey, interval, apiVersion, (error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
    });  
    
    
    
    import com.upstox.ApiException;  
    import com.upstox.api.GetIntraDayCandleResponse;  
    import io.swagger.client.api.HistoryApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            HistoryApi apiInstance = new HistoryApi();  
            String apiVersion = "2.0";  
            String instrumentKey = "NSE_EQ|INE669E01016";  
            String interval = "30minute";  
            try {  
                GetIntraDayCandleResponse result = apiInstance.getIntraDayCandleData(instrumentKey, interval, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryApi#getIntraDayCandleData");  
                e.printStackTrace();  
            }  
        }  
    }  
      
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/historical-data/v3/intra-day-candle-data
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Historical Data
  * Intraday Candle Data V3



On this page

# Intraday Candle Data V3

## Get data with a 1-minute interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/v3/intra-day-candle-data/#get-data-with-a-1-minute-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/1 \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/1'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/1';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/1";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/1';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
      
    
    
    
    import upstox_client  
    apiInstance = upstox_client.HistoryV3Api()  
    try:  
        response = apiInstance.get_intra_day_candle_data("NSE_EQ|INE848E01016", "minutes", "1")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_intra_day_candle_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getIntraDayCandleData("NSE_EQ|INE848E01016", "minutes", "1", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    public class Main {  
        public static void main(String[] args) {  
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetIntraDayCandleResponse result = historyV3Api.getIntraDayCandleData("NSE_EQ|INE848E01016", "minutes", 1);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getIntraDayCandleData");  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get data with a 3-minute interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/v3/intra-day-candle-data/#get-data-with-a-3-minute-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/3' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/3'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/3';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/3";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/3';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    apiInstance = upstox_client.HistoryV3Api()  
    try:  
        response = apiInstance.get_intra_day_candle_data("NSE_EQ|INE848E01016", "minutes", "3")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_intra_day_candle_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getIntraDayCandleData("NSE_EQ|INE848E01016", "minutes", "3", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    public class Main {  
        public static void main(String[] args) {  
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetIntraDayCandleResponse result = historyV3Api.getIntraDayCandleData("NSE_EQ|INE848E01016", "minutes", 3);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getIntraDayCandleData");  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get data with a 5-minute interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/v3/intra-day-candle-data/#get-data-with-a-5-minute-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/5' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/5'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/5';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/5";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/5';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    apiInstance = upstox_client.HistoryV3Api()  
    try:  
        response = apiInstance.get_intra_day_candle_data("NSE_EQ|INE848E01016", "minutes", "5")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_intra_day_candle_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getIntraDayCandleData("NSE_EQ|INE848E01016", "minutes", "5", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    public class Main {  
        public static void main(String[] args) {  
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetIntraDayCandleResponse result = historyV3Api.getIntraDayCandleData("NSE_EQ|INE848E01016", "minutes", 5);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getIntraDayCandleData");  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get data with a 15-minute interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/v3/intra-day-candle-data/#get-data-with-a-15-minute-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/15' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/15'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/15';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/15";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/15';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    apiInstance = upstox_client.HistoryV3Api()  
    try:  
        response = apiInstance.get_intra_day_candle_data("NSE_EQ|INE848E01016", "minutes", "15")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_intra_day_candle_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getIntraDayCandleData("NSE_EQ|INE848E01016", "minutes", "15", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    public class Main {  
        public static void main(String[] args) {  
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetIntraDayCandleResponse result = historyV3Api.getIntraDayCandleData("NSE_EQ|INE848E01016", "minutes", 15);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getIntraDayCandleData");  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get data with a 30-minute interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/v3/intra-day-candle-data/#get-data-with-a-30-minute-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/30' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/30'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/30';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/30";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/minutes/30';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    apiInstance = upstox_client.HistoryV3Api()  
    try:  
        response = apiInstance.get_intra_day_candle_data("NSE_EQ|INE848E01016", "minutes", "30")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_intra_day_candle_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getIntraDayCandleData("NSE_EQ|INE848E01016", "minutes", "30", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    public class Main {  
        public static void main(String[] args) {  
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetIntraDayCandleResponse result = historyV3Api.getIntraDayCandleData("NSE_EQ|INE848E01016", "minutes", 30);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getIntraDayCandleData");  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get data with a 1-hour interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/v3/intra-day-candle-data/#get-data-with-a-1-hour-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/hours/1' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/hours/1'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/hours/1';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/hours/1";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/hours/1';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    apiInstance = upstox_client.HistoryV3Api()  
    try:  
        response = apiInstance.get_intra_day_candle_data("NSE_EQ|INE848E01016", "hours", "1")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_intra_day_candle_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getIntraDayCandleData("NSE_EQ|INE848E01016", "hours", "1", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    public class Main {  
        public static void main(String[] args) {  
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetIntraDayCandleResponse result = historyV3Api.getIntraDayCandleData("NSE_EQ|INE848E01016", "hours", 1);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getIntraDayCandleData");  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get data with a 2-hour interval[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/v3/intra-day-candle-data/#get-data-with-a-2-hour-interval> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/hours/2' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/hours/2'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/hours/2';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/hours/2";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/hours/2';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
    
    
    
    import upstox_client  
    apiInstance = upstox_client.HistoryV3Api()  
    try:  
        response = apiInstance.get_intra_day_candle_data("NSE_EQ|INE848E01016", "hours", "2")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_intra_day_candle_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getIntraDayCandleData("NSE_EQ|INE848E01016", "hours", "2", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    public class Main {  
        public static void main(String[] args) {  
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetIntraDayCandleResponse result = historyV3Api.getIntraDayCandleData("NSE_EQ|INE848E01016", "hours", 2);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getIntraDayCandleData");  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get current day data[â€‹](<https://upstox.com/developer/api-documentation/example-code/historical-data/v3/intra-day-candle-data/#get-current-day-data> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/days/1' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/days/1'  
    headers = {  
        'Accept': 'application/json'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Check the response status  
    if response.status_code == 200:  
        # Do something with the response data (e.g., print it)  
        print(response.json())  
    else:  
        # Print an error message if the request was not successful  
        print(f"Error: {response.status_code} - {response.text}")  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/days/1';  
    const headers = {  
        'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
        .then(response => {  
            // Do something with the response data (e.g., print it)  
            console.log(response.data);  
        })  
        .catch(error => {  
            // Print an error message if the request was not successful  
            console.error(`Error: ${error.response.status} - ${error.response.data}`);  
        });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
      
        public static void main(String[] args) {  
            String url = "https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/days/1";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .build();  
      
            try {  
                HttpResponse<String> httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
                // Check the response status  
                if (httpResponse.statusCode() == 200) {  
                    // Do something with the response body (e.g., print it)  
                    System.out.println(httpResponse.body());  
                } else {  
                    // Print an error message if the request was not successful  
                    System.err.println("Error: " + httpResponse.statusCode() + " - " + httpResponse.body());  
                }  
            } catch (Exception e) {  
                // Handle exceptions  
                e.printStackTrace();  
            }  
        }  
    }  
      
    
    
    
      
    <?php  
      
    $url = 'https://api.upstox.com/v3/historical-candle/intraday/NSE_EQ%7CINE848E01016/days/1';  
      
    $options = [  
        'http' => [  
            'header' => "Accept: application/json\r\n",  
            'method' => 'GET',  
        ],  
    ];  
      
    $context = stream_context_create($options);  
    $response = file_get_contents($url, false, $context);  
      
    // Check for errors  
    if ($response === FALSE) {  
        echo 'Error fetching data';  
    } else {  
        // Do something with the response (e.g., print it)  
        echo $response;  
    }  
    ?>  
      
    
    
    
    import upstox_client  
    apiInstance = upstox_client.HistoryV3Api()  
    try:  
        response = apiInstance.get_intra_day_candle_data("NSE_EQ|INE848E01016", "days", "1")  
        print(response)  
    except Exception as e:  
        print("Exception when calling HistoryV3Api->get_intra_day_candle_data: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    const historicalApiInstance = new UpstoxClient.HistoryV3Api();  
      
    historicalApiInstance.getIntraDayCandleData("NSE_EQ|INE848E01016", "days", "1", (error, data, response) => {  
      if (error) {  
        console.error(error.response.text);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    public class Main {  
        public static void main(String[] args) {  
            HistoryV3Api historyV3Api = new HistoryV3Api();  
            try {  
                GetIntraDayCandleResponse result = historyV3Api.getIntraDayCandleData("NSE_EQ|INE848E01016", "days", 1);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling HistoryV3Api->getIntraDayCandleData");  
                e.printStackTrace();  
            }  
        }  
    }  
    

  



---
# Source: https://upstox.com/developer/api-documentation/example-code/market-quote/full-market-quotes
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Market Quote
  * Full Market Quotes



On this page

# Full Market Quotes

## Get full market quote[â€‹](<https://upstox.com/developer/api-documentation/example-code/market-quote/full-market-quotes/#get-full-market-quote> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/market-quote/quotes?instrument_key=NSE_EQ%7CINE848E01016' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/market-quote/quotes?instrument_key=NSE_EQ%7CINE848E01016'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.text)  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/market-quote/quotes?instrument_key=NSE_EQ%7CINE848E01016';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpHeaders;  
      
    public class Main {  
      
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/market-quote/quotes?instrument_key=NSE_EQ%7CINE848E01016";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            HttpResponse<String> response = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
            int statusCode = response.statusCode();  
            HttpHeaders headers = response.headers();  
            String responseBody = response.body();  
      
            System.out.println("Status Code: " + statusCode);  
            System.out.println("Response Headers: " + headers);  
            System.out.println("Response Body: " + responseBody);  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/market-quote/quotes?instrument_key=NSE_EQ%7CINE848E01016';  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
      
    // Set cURL options  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, [  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader,  
    ]);  
      
    // Execute cURL session and get the response  
    $response = curl_exec($ch);  
      
    // Check for cURL errors  
    if (curl_errno($ch)) {  
        echo 'Curl error: ' . curl_error($ch);  
    }  
      
    // Close cURL session  
    curl_close($ch);  
      
    // Output the response  
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    symbol = 'NSE_EQ|INE669E01016'  
    api_instance = upstox_client.MarketQuoteApi(upstox_client.ApiClient(configuration))  
      
      
    try:  
        api_response = api_instance.get_full_market_quote(symbol, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling MarketQuoteApi->get_full_market_quote: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.MarketQuoteApi();  
      
      
    let apiVersion = "2.0";   
    let symbol = "NSE_EQ|INE669E01016";   
      
    apiInstance.getFullMarketQuote(symbol, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetFullMarketQuoteResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.MarketQuoteApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            MarketQuoteApi apiInstance = new MarketQuoteApi();  
            String symbol = "NSE_EQ|INE669E01016"; // String | Comma separated list of symbols  
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                GetFullMarketQuoteResponse result = apiInstance.getFullMarketQuote(symbol, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling MarketQuoteApi#getFullMarketQuote");  
                e.printStackTrace();  
            }  
      
        }  
    }  
    

## Get full market quote for multiple instrument keys[â€‹](<https://upstox.com/developer/api-documentation/example-code/market-quote/full-market-quotes/#get-full-market-quote-for-multiple-instrument-keys> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/market-quote/quotes?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/market-quote/quotes?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.text)  
      
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/market-quote/quotes?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpHeaders;  
      
    public class Main {  
      
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/market-quote/quotes?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            HttpResponse<String> response = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
            int statusCode = response.statusCode();  
            HttpHeaders headers = response.headers();  
            String responseBody = response.body();  
      
            System.out.println("Status Code: " + statusCode);  
            System.out.println("Response Headers: " + headers);  
            System.out.println("Response Body: " + responseBody);  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/market-quote/quotes?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016';  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
      
    // Set cURL options  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, [  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader,  
    ]);  
      
    // Execute cURL session and get the response  
    $response = curl_exec($ch);  
      
    // Check for cURL errors  
    if (curl_errno($ch)) {  
        echo 'Curl error: ' . curl_error($ch);  
    }  
      
    // Close cURL session  
    curl_close($ch);  
      
    // Output the response  
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    symbol = 'NSE_EQ|INE669E01016,NSE_EQ|INE848E01016'  
    api_instance = upstox_client.MarketQuoteApi(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.get_full_market_quote(symbol, api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling MarketQuoteApi->get_full_market_quote: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.MarketQuoteApi();  
      
      
    let apiVersion = "2.0";   
    let symbol = "NSE_EQ|INE669E01016,NSE_EQ|INE848E01016";   
      
    apiInstance.getFullMarketQuote(symbol, apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetFullMarketQuoteResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.MarketQuoteApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            MarketQuoteApi apiInstance = new MarketQuoteApi();  
            String symbol = "NSE_EQ|INE669E01016,NSE_EQ|INE848E01016"; // String | Comma separated list of symbols  
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                GetFullMarketQuoteResponse result = apiInstance.getFullMarketQuote(symbol, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling MarketQuoteApi#getFullMarketQuote");  
                e.printStackTrace();  
            }  
      
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/market-quote/ohlc-quotes
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Market Quote
  * OHLC Quotes



On this page

# OHLC Quotes

## Get ohlc (open, high, low, close) market quotes[â€‹](<https://upstox.com/developer/api-documentation/example-code/market-quote/ohlc-quotes/#get-ohlc-open-high-low-close-market-quotes> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/market-quote/ohlc?instrument_key=NSE_EQ%7CINE669E01016&interval=1d' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/market-quote/ohlc'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',   
    }  
      
    data = {  
        "instrument_key": "NSE_EQ|INE669E01016",  
        "interval": "1d"  
    }  
      
    response = requests.get(url, headers=headers, params=data)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/market-quote/ohlc';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const params = {  
      instrument_key: 'NSE_EQ|INE669E01016',  
      interval: '1d',  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log('Response Status Code:', response.status);  
        console.log('Response Data:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            // Set the API endpoint URL  
            String apiUrl = "https://api.upstox.com/v2/market-quote/ohlc?instrument_key=NSE_EQ%7CINE669E01016&interval=1d";  
      
            // Set the request headers  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            // Build the URI  
            URI uri = URI.create(apiUrl);  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Build the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(uri)  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            // Send the request and retrieve the response  
            HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
            // Print the response  
            System.out.println("Response Code: " + response.statusCode());  
            System.out.println("Response Body: " + response.body());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/market-quote/ohlc';  
    $headers = [  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'instrument_key' => 'NSE_EQ|INE669E01016',  
        'interval' => '1d',  
    ];  
      
    $ch = curl_init($url . '?' . http_build_query($data));  
      
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
    $status_code = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'Response Status Code: ' . $status_code . PHP_EOL;  
    echo 'Response Data: ' . $response . PHP_EOL;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    symbol = 'NSE_EQ|INE669E01016'  
    api_instance = upstox_client.MarketQuoteApi(upstox_client.ApiClient(configuration))  
    interval='1d'  
      
    try:  
        api_response = api_instance.get_market_quote_ohlc(symbol,interval,api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling MarketQuoteApi->get_full_market_quote: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.MarketQuoteApi();  
      
    let apiVersion = "2.0";   
    let symbol = "NSE_EQ|INE669E01016";   
    let interval = "1d";  
    apiInstance.getMarketQuoteOHLC(symbol, interval,apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetMarketQuoteOHLCResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.MarketQuoteApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            MarketQuoteApi apiInstance = new MarketQuoteApi();  
            String apiVersion = "2.0";  
            String symbol = "NSE_EQ|INE669E01016";  
            String interval = "1d";  
            try {  
                GetMarketQuoteOHLCResponse result = apiInstance.getMarketQuoteOHLC(symbol, interval, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling MarketQuoteApi#getMarketQuoteOHLC");  
                e.printStackTrace();  
            }  
      
        }  
    }  
    

## Get ohlc (open, high, low, close) market quotes for multiple instrument keys[â€‹](<https://upstox.com/developer/api-documentation/example-code/market-quote/ohlc-quotes/#get-ohlc-open-high-low-close-market-quotes-for-multiple-instrument-keys> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/market-quote/ohlc?instrument_key=NSE_EQ%7CINE669E01016%2CNSE_EQ%7CINE848E01016&interval=1d' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/market-quote/ohlc'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',   
    }  
      
    data = {  
        "instrument_key": "NSE_EQ|INE669E01016,NSE_EQ|INE848E01016",  
        "interval": "1d"  
    }  
      
    response = requests.get(url, headers=headers, params=data)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/market-quote/ohlc';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const params = {  
      instrument_key: 'NSE_EQ|INE669E01016,NSE_EQ|INE848E01016',  
      interval: '1d',  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log('Response Status Code:', response.status);  
        console.log('Response Data:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            // Set the API endpoint URL  
            String apiUrl = "https://api.upstox.com/v2/market-quote/ohlc?instrument_key=NSE_EQ%7CINE669E01016%2CNSE_EQ%7CINE848E01016&interval=1d";  
      
            // Set the request headers  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            // Build the URI  
            URI uri = URI.create(apiUrl);  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Build the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(uri)  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            // Send the request and retrieve the response  
            HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
            // Print the response  
            System.out.println("Response Code: " + response.statusCode());  
            System.out.println("Response Body: " + response.body());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/market-quote/ohlc';  
    $headers = [  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'instrument_key' => 'NSE_EQ|INE669E01016,NSE_EQ|INE848E01016',  
        'interval' => '1d',  
    ];  
      
    $ch = curl_init($url . '?' . http_build_query($data));  
      
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
    $status_code = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'Response Status Code: ' . $status_code . PHP_EOL;  
    echo 'Response Data: ' . $response . PHP_EOL;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    symbol = 'NSE_EQ|INE669E01016,NSE_EQ|INE848E01016'  
    api_instance = upstox_client.MarketQuoteApi(upstox_client.ApiClient(configuration))  
    interval='1d'  
      
    try:  
        api_response = api_instance.get_market_quote_ohlc(symbol,interval,api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling MarketQuoteApi->get_full_market_quote: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.MarketQuoteApi();  
      
    let apiVersion = "2.0";   
    let symbol = "NSE_EQ|INE669E01016,NSE_EQ|INE848E01016";   
    let interval = "1d";  
    apiInstance.getMarketQuoteOHLC(symbol, interval,apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetMarketQuoteOHLCResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.MarketQuoteApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            MarketQuoteApi apiInstance = new MarketQuoteApi();  
            String apiVersion = "2.0";  
            String symbol = "NSE_EQ|INE669E01016,NSE_EQ|INE848E01016";  
            String interval = "1d";  
            try {  
                GetMarketQuoteOHLCResponse result = apiInstance.getMarketQuoteOHLC(symbol, interval, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling MarketQuoteApi#getMarketQuoteOHLC");  
                e.printStackTrace();  
            }  
      
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/market-quote/ohlc-quotes-v3
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Market Quote
  * OHLC Quotes V3



On this page

# OHLC Quotes V3

## Get ohlc (open, high, low, close) market quotes[â€‹](<https://upstox.com/developer/api-documentation/example-code/market-quote/ohlc-quotes-v3/#get-ohlc-open-high-low-close-market-quotes> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/market-quote/ohlc?instrument_key=NSE_EQ%7CINE669E01016&interval=1d' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/market-quote/ohlc'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',   
    }  
      
    data = {  
        "instrument_key": "NSE_EQ|INE669E01016",  
        "interval": "1d"  
    }  
      
    response = requests.get(url, headers=headers, params=data)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/market-quote/ohlc';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const params = {  
      instrument_key: 'NSE_EQ|INE669E01016',  
      interval: '1d',  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log('Response Status Code:', response.status);  
        console.log('Response Data:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            // Set the API endpoint URL  
            String apiUrl = "https://api.upstox.com/v3/market-quote/ohlc?instrument_key=NSE_EQ%7CINE669E01016&interval=1d";  
      
            // Set the request headers  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            // Build the URI  
            URI uri = URI.create(apiUrl);  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Build the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(uri)  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            // Send the request and retrieve the response  
            HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
            // Print the response  
            System.out.println("Response Code: " + response.statusCode());  
            System.out.println("Response Body: " + response.body());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/market-quote/ohlc';  
    $headers = [  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'instrument_key' => 'NSE_EQ|INE669E01016',  
        'interval' => '1d',  
    ];  
      
    $ch = curl_init($url . '?' . http_build_query($data));  
      
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
    $status_code = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'Response Status Code: ' . $status_code . PHP_EOL;  
    echo 'Response Data: ' . $response . PHP_EOL;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    apiInstance = upstox_client.MarketQuoteV3Api(upstox_client.ApiClient(configuration))  
    try:  
        # For a single instrument  
        response = apiInstance.get_market_quote_ohlc("1d", instrument_key="NSE_EQ|INE669E01016")  
        print(response)  
    except ApiException as e:  
        print("Exception when calling MarketQuoteV3Api->get_market_quote_ohlc: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let marketQuoteApiInstance = new UpstoxClient.MarketQuoteV3Api();  
    marketQuoteApiInstance.getMarketQuoteOHLC("1d", {instrumentKey: "NSE_EQ|INE669E01016"}, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.MarketQuoteV3Api;  
    import com.upstox.model.GetMarketQuoteOHLCResponseV3;  
    import com.upstox.auth.*;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            MarketQuoteV3Api marketQuoteV3Api = new MarketQuoteV3Api();  
      
            try {  
                GetMarketQuoteOHLCResponseV3 result = marketQuoteV3Api.getMarketQuoteOHLC("1d", "NSE_EQ|INE669E01016");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling MarketQuoteV3Api#getMarketQuoteOHLC");  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get ohlc (open, high, low, close) market quotes for multiple instrument keys[â€‹](<https://upstox.com/developer/api-documentation/example-code/market-quote/ohlc-quotes-v3/#get-ohlc-open-high-low-close-market-quotes-for-multiple-instrument-keys> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/market-quote/ohlc?instrument_key=NSE_EQ%7CINE669E01016%2CNSE_EQ%7CINE848E01016&interval=1d' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/market-quote/ohlc'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}',   
    }  
      
    data = {  
        "instrument_key": "NSE_EQ|INE669E01016,NSE_EQ|INE848E01016",  
        "interval": "1d"  
    }  
      
    response = requests.get(url, headers=headers, params=data)  
      
    print(response.status_code)  
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/market-quote/ohlc';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}',  
    };  
      
    const params = {  
      instrument_key: 'NSE_EQ|INE669E01016,NSE_EQ|INE848E01016',  
      interval: '1d',  
    };  
      
    axios.get(url, { headers, params })  
      .then(response => {  
        console.log('Response Status Code:', response.status);  
        console.log('Response Data:', response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error.message);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
        public static void main(String[] args) throws Exception {  
            // Set the API endpoint URL  
            String apiUrl = "https://api.upstox.com/v3/market-quote/ohlc?instrument_key=NSE_EQ%7CINE669E01016%2CNSE_EQ%7CINE848E01016&interval=1d";  
      
            // Set the request headers  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            // Build the URI  
            URI uri = URI.create(apiUrl);  
      
            // Create the HttpClient  
            HttpClient httpClient = HttpClient.newHttpClient();  
      
            // Build the HttpRequest  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(uri)  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            // Send the request and retrieve the response  
            HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
      
            // Print the response  
            System.out.println("Response Code: " + response.statusCode());  
            System.out.println("Response Body: " + response.body());  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/market-quote/ohlc';  
    $headers = [  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}',  
    ];  
      
    $data = [  
        'instrument_key' => 'NSE_EQ|INE669E01016,NSE_EQ|INE848E01016',  
        'interval' => '1d',  
    ];  
      
    $ch = curl_init($url . '?' . http_build_query($data));  
      
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
    $status_code = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo 'Response Status Code: ' . $status_code . PHP_EOL;  
    echo 'Response Data: ' . $response . PHP_EOL;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    apiInstance = upstox_client.MarketQuoteV3Api(upstox_client.ApiClient(configuration))  
    try:  
        # For multiple instruments  
        response = apiInstance.get_market_quote_ohlc("1d", instrument_key="NSE_EQ|INE669E01016,NSE_EQ|INE848E01016")  
        print(response)  
    except ApiException as e:  
        print("Exception when calling MarketQuoteV3Api->get_market_quote_ohlc: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let marketQuoteApiInstance = new UpstoxClient.MarketQuoteV3Api();  
    marketQuoteApiInstance.getMarketQuoteOHLC("1d", {instrumentKey: "NSE_EQ|INE669E01016,NSE_EQ|INE848E01016"}, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.MarketQuoteV3Api;  
    import com.upstox.model.GetMarketQuoteOHLCResponseV3;  
    import com.upstox.auth.*;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            MarketQuoteV3Api marketQuoteV3Api = new MarketQuoteV3Api();  
      
            try {  
                GetMarketQuoteOHLCResponseV3 result = marketQuoteV3Api.getMarketQuoteOHLC("1d", "NSE_EQ|INE669E01016,NSE_EQ|INE848E01016");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling MarketQuoteV3Api#getMarketQuoteOHLC");  
                e.printStackTrace();  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/market-quote/ltp-quotes
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Market Quote
  * LTP Quotes



On this page

# LTP Quotes

## Get ltp (last traded price) market quotes[â€‹](<https://upstox.com/developer/api-documentation/example-code/market-quote/ltp-quotes/#get-ltp-last-traded-price-market-quotes> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpHeaders;  
      
    public class Main {  
      
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            HttpResponse<String> response = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
            int statusCode = response.statusCode();  
            HttpHeaders headers = response.headers();  
            String responseBody = response.body();  
      
            System.out.println("Status Code: " + statusCode);  
            System.out.println("Response Headers: " + headers);  
            System.out.println("Response Body: " + responseBody);  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016';  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
      
    // Set cURL options  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, [  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader,  
    ]);  
      
    // Execute cURL session and get the response  
    $response = curl_exec($ch);  
      
    // Check for cURL errors  
    if (curl_errno($ch)) {  
        echo 'Curl error: ' . curl_error($ch);  
    }  
      
    // Close cURL session  
    curl_close($ch);  
      
    // Output the response  
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    symbol = 'NSE_EQ|INE669E01016'  
    api_instance = upstox_client.MarketQuoteApi(upstox_client.ApiClient(configuration))  
      
      
    try:  
        api_response = api_instance.ltp(symbol,api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling MarketQuoteApi->get_full_market_quote: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.MarketQuoteApi();  
      
      
    let apiVersion = "2.0";   
    let symbol = "NSE_EQ|INE669E01016";   
    apiInstance.ltp(symbol,apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetMarketQuoteLastTradedPriceResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.MarketQuoteApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            MarketQuoteApi apiInstance = new MarketQuoteApi();  
            String symbol = "NSE_EQ|INE669E01016"; // String | Comma separated list of symbols  
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                GetMarketQuoteLastTradedPriceResponse result = apiInstance.ltp(symbol, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling MarketQuoteApi#ltp");  
                e.printStackTrace();  
            }  
      
        }  
    }  
    

## Get ltp (last traded price) market quotes for multiple instruments keys[â€‹](<https://upstox.com/developer/api-documentation/example-code/market-quote/ltp-quotes/#get-ltp-last-traded-price-market-quotes-for-multiple-instruments-keys> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpHeaders;  
      
    public class Main {  
      
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v2/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            HttpResponse<String> response = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
            int statusCode = response.statusCode();  
            HttpHeaders headers = response.headers();  
            String responseBody = response.body();  
      
            System.out.println("Status Code: " + statusCode);  
            System.out.println("Response Headers: " + headers);  
            System.out.println("Response Body: " + responseBody);  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v2/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016';  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
      
    // Set cURL options  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, [  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader,  
    ]);  
      
    // Execute cURL session and get the response  
    $response = curl_exec($ch);  
      
    // Check for cURL errors  
    if (curl_errno($ch)) {  
        echo 'Curl error: ' . curl_error($ch);  
    }  
      
    // Close cURL session  
    curl_close($ch);  
      
    // Output the response  
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
    api_version = '2.0'  
      
    symbol = 'NSE_EQ|INE669E01016,NSE_EQ|INE848E01016'  
    api_instance = upstox_client.MarketQuoteApi(upstox_client.ApiClient(configuration))  
      
      
    try:  
        api_response = api_instance.ltp(symbol,api_version)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling MarketQuoteApi->get_full_market_quote: %s\n" % e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.MarketQuoteApi();  
      
      
    let apiVersion = "2.0";   
    let symbol = 'NSE_EQ|INE669E01016,NSE_EQ|INE848E01016';   
    apiInstance.ltp(symbol,apiVersion, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetMarketQuoteLastTradedPriceResponse;  
    import com.upstox.auth.*;  
    import io.swagger.client.api.MarketQuoteApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            MarketQuoteApi apiInstance = new MarketQuoteApi();  
            String symbol = "NSE_EQ|INE669E01016,NSE_EQ|INE848E01016"; // String | Comma separated list of symbols  
            String apiVersion = "2.0"; // String | API Version Header  
            try {  
                GetMarketQuoteLastTradedPriceResponse result = apiInstance.ltp(symbol, apiVersion);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling MarketQuoteApi#ltp");  
                e.printStackTrace();  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/market-quote/ltp-quotes-v3
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Market Quote
  * LTP Quotes V3



On this page

# LTP Quotes V3

## Get ltp (last traded price) market quotes[â€‹](<https://upstox.com/developer/api-documentation/example-code/market-quote/ltp-quotes-v3/#get-ltp-last-traded-price-market-quotes> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpHeaders;  
      
    public class Main {  
      
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v3/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            HttpResponse<String> response = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
            int statusCode = response.statusCode();  
            HttpHeaders headers = response.headers();  
            String responseBody = response.body();  
      
            System.out.println("Status Code: " + statusCode);  
            System.out.println("Response Headers: " + headers);  
            System.out.println("Response Body: " + responseBody);  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016';  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
      
    // Set cURL options  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, [  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader,  
    ]);  
      
    // Execute cURL session and get the response  
    $response = curl_exec($ch);  
      
    // Check for cURL errors  
    if (curl_errno($ch)) {  
        echo 'Curl error: ' . curl_error($ch);  
    }  
      
    // Close cURL session  
    curl_close($ch);  
      
    // Output the response  
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    apiInstance = upstox_client.MarketQuoteV3Api(upstox_client.ApiClient(configuration))  
    try:  
        # For a single instrument  
        response = apiInstance.get_ltp(instrument_key="NSE_EQ|INE848E01016")  
        print(response)  
    except ApiException as e:  
        print("Exception when calling MarketQuoteV3Api->get_ltp: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let marketQuoteApiInstance = new UpstoxClient.MarketQuoteV3Api();  
    marketQuoteApiInstance.getLtp({instrumentKey: "NSE_EQ|INE848E01016"}, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.MarketQuoteV3Api;  
    import com.upstox.model.GetMarketQuoteLastTradedPriceResponseV3;  
    import com.upstox.auth.*;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            MarketQuoteV3Api marketQuoteV3Api = new MarketQuoteV3Api();  
      
            try {  
                GetMarketQuoteLastTradedPriceResponseV3 result = marketQuoteV3Api.getLtp("NSE_EQ|INE848E01016");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling MarketQuoteV3Api#getLtp");  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get ltp (last traded price) market quotes for multiple instruments keys[â€‹](<https://upstox.com/developer/api-documentation/example-code/market-quote/ltp-quotes-v3/#get-ltp-last-traded-price-market-quotes-for-multiple-instruments-keys> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpHeaders;  
      
    public class Main {  
      
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v3/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            HttpResponse<String> response = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
            int statusCode = response.statusCode();  
            HttpHeaders headers = response.headers();  
            String responseBody = response.body();  
      
            System.out.println("Status Code: " + statusCode);  
            System.out.println("Response Headers: " + headers);  
            System.out.println("Response Body: " + responseBody);  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/market-quote/ltp?instrument_key=NSE_EQ%7CINE848E01016,NSE_EQ|INE669E01016';  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
      
    // Set cURL options  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, [  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader,  
    ]);  
      
    // Execute cURL session and get the response  
    $response = curl_exec($ch);  
      
    // Check for cURL errors  
    if (curl_errno($ch)) {  
        echo 'Curl error: ' . curl_error($ch);  
    }  
      
    // Close cURL session  
    curl_close($ch);  
      
    // Output the response  
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    apiInstance = upstox_client.MarketQuoteV3Api(upstox_client.ApiClient(configuration))  
    try:  
        # For multiple instruments  
        response = apiInstance.get_ltp(instrument_key="NSE_EQ|INE848E01016,NSE_EQ|INE669E01016")  
        print(response)  
    except ApiException as e:  
        print("Exception when calling MarketQuoteV3Api->get_ltp: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let marketQuoteApiInstance = new UpstoxClient.MarketQuoteV3Api();  
    marketQuoteApiInstance.getLtp({instrumentKey: "NSE_EQ|INE848E01016,NSE_EQ|INE669E01016"}, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.MarketQuoteV3Api;  
    import com.upstox.model.GetMarketQuoteLastTradedPriceResponseV3;  
    import com.upstox.auth.*;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            MarketQuoteV3Api marketQuoteV3Api = new MarketQuoteV3Api();  
      
            try {  
                GetMarketQuoteLastTradedPriceResponseV3 result = marketQuoteV3Api.getLtp("NSE_EQ|INE848E01016,NSE_EQ|INE669E01016");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling MarketQuoteV3Api#getLtp");  
                e.printStackTrace();  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/market-quote/option-greek
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Market Quote
  * Option Greeks



On this page

# Option Greeks

## Get Option Greek fields[â€‹](<https://upstox.com/developer/api-documentation/example-code/market-quote/option-greek/#get-option-greek-fields> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/market-quote/option-greek?instrument_key=NSE_FO%7C43885' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/market-quote/option-greek?instrument_key=NSE_FO%7C43885'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/market-quote/option-greek?instrument_key=NSE_FO%7C43885';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpHeaders;  
      
    public class Main {  
      
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v3/market-quote/option-greek?instrument_key=NSE_FO%7C43885";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            HttpResponse<String> response = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
            int statusCode = response.statusCode();  
            HttpHeaders headers = response.headers();  
            String responseBody = response.body();  
      
            System.out.println("Status Code: " + statusCode);  
            System.out.println("Response Headers: " + headers);  
            System.out.println("Response Body: " + responseBody);  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/market-quote/option-greek?instrument_key=NSE_FO%7C43885';  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
      
    // Set cURL options  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, [  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader,  
    ]);  
      
    // Execute cURL session and get the response  
    $response = curl_exec($ch);  
      
    // Check for cURL errors  
    if (curl_errno($ch)) {  
        echo 'Curl error: ' . curl_error($ch);  
    }  
      
    // Close cURL session  
    curl_close($ch);  
      
    // Output the response  
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    apiInstance = upstox_client.MarketQuoteV3Api(upstox_client.ApiClient(configuration))  
    try:  
        # For a single instrument  
        response = apiInstance.get_market_quote_option_greek(instrument_key="NSE_FO|43885")  
        print(response)  
    except ApiException as e:  
        print("Exception when calling MarketQuoteV3Api->get_market_quote_option_greek: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let marketQuoteApiInstance = new UpstoxClient.MarketQuoteV3Api();  
    marketQuoteApiInstance.getMarketQuoteOptionGreek({instrumentKey: "NSE_FO|43885"}, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.MarketQuoteV3Api;  
    import com.upstox.model.GetMarketQuoteOptionGreekResponseV3;  
    import com.upstox.auth.*;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            MarketQuoteV3Api marketQuoteV3Api = new MarketQuoteV3Api();  
      
            try {  
                GetMarketQuoteOptionGreekResponseV3 response = marketQuoteV3Api.getMarketQuoteOptionGreek("NSE_FO|43885");  
                System.out.println(response);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling MarketQuoteV3Api#getMarketQuoteOptionGreek");  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get Option Greek fields for multiple instruments keys[â€‹](<https://upstox.com/developer/api-documentation/example-code/market-quote/option-greek/#get-option-greek-fields-for-multiple-instruments-keys> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v3/market-quote/option-greek?instrument_key=NSE_FO%7C43885,NSE_FO|43886' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v3/market-quote/option-greek?instrument_key=NSE_FO%7C43885,NSE_FO|43886'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v3/market-quote/option-greek?instrument_key=NSE_FO%7C43885,NSE_FO|43886';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error(error);  
      });  
    
    
    
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
    import java.net.http.HttpHeaders;  
      
    public class Main {  
      
        public static void main(String[] args) throws Exception {  
            String url = "https://api.upstox.com/v3/market-quote/option-greek?instrument_key=NSE_FO%7C43885,NSE_FO|43886";  
            String acceptHeader = "application/json";  
            String authorizationHeader = "Bearer {your_access_token}";  
      
            HttpClient httpClient = HttpClient.newHttpClient();  
            HttpRequest httpRequest = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", acceptHeader)  
                    .header("Authorization", authorizationHeader)  
                    .build();  
      
            HttpResponse<String> response = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());  
      
            int statusCode = response.statusCode();  
            HttpHeaders headers = response.headers();  
            String responseBody = response.body();  
      
            System.out.println("Status Code: " + statusCode);  
            System.out.println("Response Headers: " + headers);  
            System.out.println("Response Body: " + responseBody);  
        }  
    }  
    
    
    
    <?php  
      
    $url = 'https://api.upstox.com/v3/market-quote/option-greek?instrument_key=NSE_FO%7C43885,NSE_FO|43886';  
    $acceptHeader = 'application/json';  
    $authorizationHeader = 'Bearer {your_access_token}';  
      
    $ch = curl_init($url);  
      
    // Set cURL options  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, [  
        'Accept: ' . $acceptHeader,  
        'Authorization: ' . $authorizationHeader,  
    ]);  
      
    // Execute cURL session and get the response  
    $response = curl_exec($ch);  
      
    // Check for cURL errors  
    if (curl_errno($ch)) {  
        echo 'Curl error: ' . curl_error($ch);  
    }  
      
    // Close cURL session  
    curl_close($ch);  
      
    // Output the response  
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = '{your_access_token}'  
      
    apiInstance = upstox_client.MarketQuoteV3Api(upstox_client.ApiClient(configuration))  
    try:  
        # For multiple instruments  
        response = apiInstance.get_market_quote_option_greek(instrument_key="NSE_FO|38604,NSE_FO|49210")  
        print(response)  
    except ApiException as e:  
        print("Exception when calling MarketQuoteV3Api->get_market_quote_option_greek: %s\n" % e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let marketQuoteApiInstance = new UpstoxClient.MarketQuoteV3Api();  
    marketQuoteApiInstance.getMarketQuoteOptionGreek({instrumentKey: "NSE_FO|38604,NSE_FO|49210"}, (error, data, response) => {  
      if (error) {  
        console.error(error);  
      } else {  
        console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
      }  
    });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.MarketQuoteV3Api;  
    import com.upstox.model.GetMarketQuoteOptionGreekResponseV3;  
    import com.upstox.auth.*;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            MarketQuoteV3Api marketQuoteV3Api = new MarketQuoteV3Api();  
      
            try {  
                GetMarketQuoteOptionGreekResponseV3 response = marketQuoteV3Api.getMarketQuoteOptionGreek("NSE_FO|38604,NSE_FO|49210");  
                System.out.println(response);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling MarketQuoteV3Api#getMarketQuoteOptionGreek");  
                e.printStackTrace();  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/market-information/market-holidays
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Market Information
  * Market Holidays



On this page

# Market Holidays

## Get market holidays for current year[â€‹](<https://upstox.com/developer/api-documentation/example-code/market-information/market-holidays/#get-market-holidays-for-current-year> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/market/holidays' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/market/holidays'  
    headers = {'Accept': 'application/json'}  
      
    response = requests.get(url, headers=headers)  
      
    if response.status_code == 200:  
        data = response.json()  
        # Process the JSON response  
        print(data)  
    else:  
        print("Failed to retrieve data. Status code:", response.status_code)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/market/holidays';  
    const headers = {  
      'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        // Process the JSON response  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error);  
      });  
    
    
    
    import java.io.IOException;  
    import java.net.URI;  
    import java.net.URISyntaxException;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Hello {  
        public static void main(String[] args) throws URISyntaxException, IOException, InterruptedException {  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(new URI("https://api.upstox.com/v2/market/holidays"))  
                    .header("Accept", "application/json")  
                    .GET()  
                    .build();  
            HttpClient client = HttpClient.newHttpClient();  
            HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
            System.out.println(response.body());  
        }  
    }  
    
    
    
    <?php  
    $url = 'https://api.upstox.com/v2/market/holidays';  
    $headers = array(  
        'Accept: application/json'  
    );  
      
    $curl = curl_init($url);  
    curl_setopt($curl, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($curl);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($curl);  
    } else {  
        // Process the response  
        echo $response;  
    }  
      
    curl_close($curl);  
    ?>  
      
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
      
    api_instance = upstox_client.MarketHolidaysAndTimingsApi(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.get_holidays()  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling MarketHolidaysAndTimingsApi: %s\n" %e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
      
    let apiInstance = new UpstoxClient.MarketHolidaysAndTimingsApi();  
    apiInstance.getHolidays((error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
      });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetHolidayResponse;  
    import io.swagger.client.api.MarketHolidaysAndTimingsApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            MarketHolidaysAndTimingsApi apiInstance = new MarketHolidaysAndTimingsApi();  
      
            try {  
                GetHolidayResponse result = apiInstance.getHolidays();  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling API= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get market holiday status of a date[â€‹](<https://upstox.com/developer/api-documentation/example-code/market-information/market-holidays/#get-market-holiday-status-of-a-date> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/market/holidays/2024-01-22' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/market/holidays/2024-01-22'  
    headers = {'Accept': 'application/json'}  
      
    response = requests.get(url, headers=headers)  
      
    if response.status_code == 200:  
        data = response.json()  
        # Process the JSON response  
        print(data)  
    else:  
        print("Failed to retrieve data. Status code:", response.status_code)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/market/holidays/2024-01-22';  
    const headers = {  
      'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        // Process the JSON response  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error);  
      });  
    
    
    
    import java.io.IOException;  
    import java.net.URI;  
    import java.net.URISyntaxException;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Hello {  
        public static void main(String[] args) throws URISyntaxException, IOException, InterruptedException {  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(new URI("https://api.upstox.com/v2/market/holidays/2024-01-22"))  
                    .header("Accept", "application/json")  
                    .GET()  
                    .build();  
            HttpClient client = HttpClient.newHttpClient();  
            HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
            System.out.println(response.body());  
        }  
    }  
    
    
    
    <?php  
    $url = 'https://api.upstox.com/v2/market/holidays/2024-01-22';  
    $headers = array(  
        'Accept: application/json'  
    );  
      
    $curl = curl_init($url);  
    curl_setopt($curl, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($curl);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($curl);  
    } else {  
        // Process the response  
        echo $response;  
    }  
      
    curl_close($curl);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
      
    api_instance = upstox_client.MarketHolidaysAndTimingsApi(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.get_holiday("2024-01-22")  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling MarketHolidaysAndTimingsApi: %s\n" %e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
      
    let apiInstance = new UpstoxClient.MarketHolidaysAndTimingsApi();  
      
    apiInstance.getHoliday("2024-01-22",(error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
      });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetHolidayResponse;  
    import io.swagger.client.api.MarketHolidaysAndTimingsApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            MarketHolidaysAndTimingsApi apiInstance = new MarketHolidaysAndTimingsApi();  
      
            try {  
                GetHolidayResponse result = apiInstance.getHoliday("2024-01-22");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling API= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/market-information/market-timings
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Market Information
  * Market Timings



On this page

# Market Timings

## Get market timings of a date[â€‹](<https://upstox.com/developer/api-documentation/example-code/market-information/market-timings/#get-market-timings-of-a-date> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/market/timings/2024-01-22' \  
    --header 'Accept: application/json'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/market/timings/2024-01-22'  
    headers = {'Accept': 'application/json'}  
      
    response = requests.get(url, headers=headers)  
      
    if response.status_code == 200:  
        data = response.json()  
        # Process the JSON response  
        print(data)  
    else:  
        print("Failed to retrieve data. Status code:", response.status_code)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/market/timings/2024-01-22';  
    const headers = {  
      'Accept': 'application/json'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        // Process the JSON response  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error);  
      });  
    
    
    
    import java.io.IOException;  
    import java.net.URI;  
    import java.net.URISyntaxException;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Hello {  
        public static void main(String[] args) throws URISyntaxException, IOException, InterruptedException {  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(new URI("https://api.upstox.com/v2/market/timings/2024-01-22"))  
                    .header("Accept", "application/json")  
                    .GET()  
                    .build();  
            HttpClient client = HttpClient.newHttpClient();  
            HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
            System.out.println(response.body());  
        }  
    }  
    
    
    
    <?php  
    $url = 'https://api.upstox.com/v2/market/timings/2024-01-22';  
    $headers = array(  
        'Accept: application/json'  
    );  
      
    $curl = curl_init($url);  
    curl_setopt($curl, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($curl);  
      
    if ($response === false) {  
        echo 'Error: ' . curl_error($curl);  
    } else {  
        // Process the response  
        echo $response;  
    }  
      
    curl_close($curl);  
    ?>  
      
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
    configuration = upstox_client.Configuration()  
      
    api_instance = upstox_client.MarketHolidaysAndTimingsApi(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.get_exchange_timings("2024-01-22")  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling MarketHolidaysAndTimingsApi: %s\n" %e)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
      
    let apiInstance = new UpstoxClient.MarketHolidaysAndTimingsApi();  
      
    apiInstance.getExchangeTimings("2024-01-22",(error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
      });  
    
    
    
    import com.upstox.ApiException;  
    import com.upstox.api.GetExchangeTimingResponse;  
    import io.swagger.client.api.MarketHolidaysAndTimingsApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            MarketHolidaysAndTimingsApi apiInstance = new MarketHolidaysAndTimingsApi();  
      
            try {  
                GetExchangeTimingResponse result = apiInstance.getExchangeTimings("2024-01-22");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling API= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/market-information/exchange-status
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Market Information
  * Exchange Status



On this page

# Exchange Status

## Get market status for a particular exchange[â€‹](<https://upstox.com/developer/api-documentation/example-code/market-information/exchange-status/#get-market-status-for-a-particular-exchange> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/market/status/NSE' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/market/status/NSE'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/market/status/NSE';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error);  
      });  
    
    
    
    import java.io.IOException;  
    import java.net.URI;  
    import java.net.URISyntaxException;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Hello {  
        public static void main(String[] args) throws URISyntaxException, IOException, InterruptedException {  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(new URI("https://api.upstox.com/v2/market/status/NSE"))  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer {your_access_token}")  
                    .GET()  
                    .build();  
            HttpClient client = HttpClient.newHttpClient();  
            HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
            System.out.println(response.body());  
        }  
    }  
    
    
    
    <?php  
    $url = 'https://api.upstox.com/v2/market/status/NSE';  
      
    $headers = array(  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}'  
    );  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
      
    if(curl_errno($ch)) {  
        echo 'Error: ' . curl_error($ch);  
    } else {  
        echo $response;  
    }  
      
    curl_close($ch);  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = "{your_access_token}"  
    api_instance = upstox_client.MarketHolidaysAndTimingsApi(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.get_market_status("NSE")  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling MarketHolidaysAndTimingsApi: %s\n" %e)  
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.MarketHolidaysAndTimingsApi();  
    apiInstance.getMarketStatus("NSE",(error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
      });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetMarketStatusResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.MarketHolidaysAndTimingsApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
            MarketHolidaysAndTimingsApi apiInstance = new MarketHolidaysAndTimingsApi();  
      
            try {  
                GetMarketStatusResponse result = apiInstance.getMarketStatus("NSE");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling API= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
      
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/option-chain/option-contracts
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Option Chain
  * Option Contracts



On this page

# Option Contracts

## Get option contracts of an instrument key[â€‹](<https://upstox.com/developer/api-documentation/example-code/option-chain/option-contracts/#get-option-contracts-of-an-instrument-key> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/option/contract?instrument_key=NSE_INDEX%7CNifty%2050' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'   
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/option/contract?instrument_key=NSE_INDEX%7CNifty%2050'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Print the response content  
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/option/contract?instrument_key=NSE_INDEX%7CNifty%2050';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error);  
      });  
    
    
    
    import java.io.IOException;  
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
        public static void main(String[] args) throws IOException, InterruptedException {  
            String url = "https://api.upstox.com/v2/option/contract?instrument_key=NSE_INDEX%7CNifty%2050";  
            String token = "{your_access_token}";  
            HttpClient client = HttpClient.newHttpClient();  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer " + token)  
                    .build();  
      
            HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
      
            System.out.println("Response Code: " + response.statusCode());  
            System.out.println("Response Content: " + response.body());  
        }  
    }  
    
    
    
    <?php  
    $url = 'https://api.upstox.com/v2/option/contract?instrument_key=NSE_INDEX%7CNifty%2050';  
    $token = '{your_access_token}';  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, [  
        'Accept: application/json',  
        'Authorization: Bearer ' . $token  
    ]);  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Response Code: $httpCode\n";  
    echo "Response Content: $response\n";  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = "{your_access_token}"  
      
    api_instance = upstox_client.OptionsApi(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.get_option_contracts("NSE_INDEX|Nifty 50")  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->options apis: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
      
    let apiInstance = new UpstoxClient.OptionsApi();  
    apiInstance.getOptionContracts("NSE_INDEX|Nifty 50",null,(error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
      });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetOptionContractResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OptionsApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OptionsApi apiInstance = new OptionsApi();  
      
            try {  
                GetOptionContractResponse result = apiInstance.getOptionContracts("NSE_INDEX|Nifty 50", null);  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling API= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    

## Get option contracts of an instrument key with expiry date[â€‹](<https://upstox.com/developer/api-documentation/example-code/option-chain/option-contracts/#get-option-contracts-of-an-instrument-key-with-expiry-date> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/option/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-03-28' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'   
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/option/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-03-28'  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, headers=headers)  
      
    # Print the response content  
    print(response.text)  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/option/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-03-28';  
    const headers = {  
      'Accept': 'application/json',  
      'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { headers })  
      .then(response => {  
        console.log(response.data);  
      })  
      .catch(error => {  
        console.error('Error:', error);  
      });  
    
    
    
    import java.io.IOException;  
    import java.net.URI;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
        public static void main(String[] args) throws IOException, InterruptedException {  
            String url = "https://api.upstox.com/v2/option/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-03-28";  
            String token = "{your_access_token}";  
            HttpClient client = HttpClient.newHttpClient();  
            HttpRequest request = HttpRequest.newBuilder()  
                    .uri(URI.create(url))  
                    .header("Accept", "application/json")  
                    .header("Authorization", "Bearer " + token)  
                    .build();  
      
            HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());  
      
            System.out.println("Response Code: " + response.statusCode());  
            System.out.println("Response Content: " + response.body());  
        }  
    }  
    
    
    
    <?php  
    $url = 'https://api.upstox.com/v2/option/contract?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-03-28';  
    $token = '{your_access_token}';  
      
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    curl_setopt($ch, CURLOPT_HTTPHEADER, [  
        'Accept: application/json',  
        'Authorization: Bearer ' . $token  
    ]);  
      
    $response = curl_exec($ch);  
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
      
    curl_close($ch);  
      
    echo "Response Code: $httpCode\n";  
    echo "Response Content: $response\n";  
      
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = "{your_access_token}"  
      
    api_instance = upstox_client.OptionsApi(upstox_client.ApiClient(configuration))  
      
    param = {  
        'expiry_date': "2024-10-31"  
    }  
    try:  
        api_response = api_instance.get_option_contracts("NSE_INDEX|Nifty 50", **param)  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->options apis: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let opts = {  
      'expiryDate': "2024-10-31"  
    }  
    let apiInstance = new UpstoxClient.OptionsApi();  
    apiInstance.getOptionContracts("NSE_INDEX|Nifty 50",opts,(error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
      });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetOptionContractResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OptionsApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OptionsApi apiInstance = new OptionsApi();  
      
            try {  
                GetOptionContractResponse result = apiInstance.getOptionContracts("NSE_INDEX|Nifty 50", "2024-10-31");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling API= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    


---
# Source: https://upstox.com/developer/api-documentation/example-code/option-chain/put-call-option-chain
---
  * [](<https://upstox.com/developer/api-documentation/>)
  * [Example Code](<https://upstox.com/developer/api-documentation/example-code/introduction>)
  * Option Chain
  * Put/Call Option Chain



On this page

# Put call option chain

## Get put/call option chain[â€‹](<https://upstox.com/developer/api-documentation/example-code/option-chain/put-call-option-chain/#get-putcall-option-chain> "Direct link to heading")

  * Curl
  * Python
  * Node.js
  * Java
  * PHP
  * Python SDK
  * Node.js SDK
  * Java SDK


    
    
    curl --location 'https://api.upstox.com/v2/option/chain?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-03-28' \  
    --header 'Accept: application/json' \  
    --header 'Authorization: Bearer {your_access_token}'  
    
    
    
    import requests  
      
    url = 'https://api.upstox.com/v2/option/chain'  
    params = {  
        'instrument_key': 'NSE_INDEX|Nifty 50',  
        'expiry_date': '2024-03-28'  
    }  
    headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    }  
      
    response = requests.get(url, params=params, headers=headers)  
      
    print(response.json())  
    
    
    
    const axios = require('axios');  
      
    const url = 'https://api.upstox.com/v2/option/chain';  
    const params = {  
        instrument_key: 'NSE_INDEX|Nifty 50',  
        expiry_date: '2024-03-28'  
    };  
    const headers = {  
        'Accept': 'application/json',  
        'Authorization': 'Bearer {your_access_token}'  
    };  
      
    axios.get(url, { params, headers })  
        .then(response => {  
            console.log(response.data);  
        })  
        .catch(error => {  
            console.error('Error:', error);  
        });  
      
    
    
    
    import java.io.IOException;  
    import java.net.URI;  
    import java.net.URISyntaxException;  
    import java.net.http.HttpClient;  
    import java.net.http.HttpRequest;  
    import java.net.http.HttpResponse;  
      
    public class Main {  
        public static void main(String[] args) {  
            HttpClient httpClient = HttpClient.newBuilder().build();  
            HttpRequest request = null;  
            try {  
                request = HttpRequest.newBuilder()  
                        .uri(new URI("https://api.upstox.com/v2/option/chain?instrument_key=NSE_INDEX%7CNifty%2050&expiry_date=2024-03-28"))  
                        .header("Accept", "application/json")  
                        .header("Authorization", "Bearer {your_access_token}")  
                        .build();  
            } catch (URISyntaxException e) {  
                e.printStackTrace();  
            }  
      
            try {  
                HttpResponse<String> response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());  
                System.out.println(response.body());  
            } catch (IOException | InterruptedException e) {  
                e.printStackTrace();  
            }  
        }  
    }  
    
    
    
    <?php  
    $url = 'https://api.upstox.com/v2/option/chain';  
    $params = [  
        'instrument_key' => 'NSE_INDEX|Nifty 50',  
        'expiry_date' => '2024-03-28'  
    ];  
    $headers = [  
        'Accept: application/json',  
        'Authorization: Bearer {your_access_token}'  
    ];  
      
    $ch = curl_init();  
    curl_setopt($ch, CURLOPT_URL, $url . '?' . http_build_query($params));  
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
      
    $response = curl_exec($ch);  
    curl_close($ch);  
      
    echo $response;  
    ?>  
    
    
    
    import upstox_client  
    from upstox_client.rest import ApiException  
      
    configuration = upstox_client.Configuration()  
    configuration.access_token = "{your_access_token}"  
      
    api_instance = upstox_client.OptionsApi(upstox_client.ApiClient(configuration))  
      
    try:  
        api_response = api_instance.get_put_call_option_chain("NSE_INDEX|Nifty 50", "2024-10-31")  
        print(api_response)  
    except ApiException as e:  
        print("Exception when calling OrderApi->options apis: %s\n" % e.body)  
      
    
    
    
    let UpstoxClient = require('upstox-js-sdk');  
    let defaultClient = UpstoxClient.ApiClient.instance;  
    var OAUTH2 = defaultClient.authentications['OAUTH2'];  
    OAUTH2.accessToken = "{your_access_token}";  
    let apiInstance = new UpstoxClient.OptionsApi();  
    apiInstance.getPutCallOptionChain("NSE_INDEX|Nifty 50","2024-10-31",(error, data, response) => {  
        if (error) {  
          console.error(error);  
        } else {  
          console.log('API called successfully. Returned data: ' + JSON.stringify(data));  
        }  
      });  
    
    
    
    import com.upstox.ApiClient;  
    import com.upstox.ApiException;  
    import com.upstox.Configuration;  
    import com.upstox.api.GetOptionChainResponse;  
    import com.upstox.auth.OAuth;  
    import io.swagger.client.api.OptionsApi;  
      
    public class Main {  
        public static void main(String[] args) {  
            ApiClient defaultClient = Configuration.getDefaultApiClient();  
      
            OAuth OAUTH2 = (OAuth) defaultClient.getAuthentication("OAUTH2");  
            OAUTH2.setAccessToken("{your_access_token}");  
      
            OptionsApi apiInstance = new OptionsApi();  
      
            try {  
                GetOptionChainResponse result = apiInstance.getPutCallOptionChain("NSE_INDEX|Nifty 50", "2024-10-31");  
                System.out.println(result);  
            } catch (ApiException e) {  
                System.err.println("Exception when calling API= " + e.getResponseBody());  
                e.printStackTrace();  
            }  
        }  
    }  
    
