{% extends "base.html" %}

{% block title %}Options Chain - Upstox Trading Terminal{% endblock %}

{% block content %}
<h2 style="font-size: 24px; font-weight: 700; margin-bottom: 24px;">Live Options Chain</h2>
<p style="color: #9ca3af; margin-bottom: 24px;">Real-time option prices, Greeks, and Open Interest</p>

<div class="card">
    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 24px; padding: 16px; background: rgba(255, 255, 255, 0.05); border-radius: 12px; font-size: 12px; font-weight: 600;">
        <div><span style="color: #9ca3af;">Underlying:</span> <span style="color: white; margin-left: 8px;">NIFTY</span></div>
        <div><span style="color: #9ca3af;">Spot Price:</span> <span style="color: white; margin-left: 8px;">₹21,800</span></div>
        <div><span style="color: #9ca3af;">Expiry:</span> <span style="color: white; margin-left: 8px;">6 Feb 2026</span></div>
        <div><span style="color: #9ca3af;">Total Strikes:</span> <span style="color: white; margin-left: 8px;">15</span></div>
    </div>

    <table style="width: 100%; border-collapse: collapse; font-size: 11px; font-family: monospace;">
        <thead>
            <tr style="border-bottom: 2px solid rgba(255, 255, 255, 0.1);">
                <th colspan="5" style="text-align: center; padding: 12px; background: rgba(16, 185, 129, 0.1); color: #10b981; font-weight: 700; border-bottom: 2px solid #10b981;">CALLS</th>
                <th style="text-align: center; padding: 12px; background: rgba(255, 255, 255, 0.05); color: white;">STRIKE</th>
                <th colspan="5" style="text-align: center; padding: 12px; background: rgba(244, 63, 94, 0.1); color: #f43f5e; font-weight: 700; border-bottom: 2px solid #f43f5e;">PUTS</th>
            </tr>
            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.05); color: #9ca3af; text-transform: uppercase; font-size: 10px;">
                <th style="padding: 8px;">OI</th>
                <th style="padding: 8px;">Vol</th>
                <th style="padding: 8px;">IV%</th>
                <th style="padding: 8px;">Δ</th>
                <th style="padding: 8px; border-right: 1px solid rgba(255, 255, 255, 0.05);">LTP</th>
                <th style="padding: 8px;">Strike</th>
                <th style="padding: 8px;">LTP</th>
                <th style="padding: 8px;">Δ</th>
                <th style="padding: 8px;">IV%</th>
                <th style="padding: 8px;">Vol</th>
                <th style="padding: 8px;">OI</th>
            </tr>
        </thead>
        <tbody>
            {% for strike in [21100, 21200, 21300, 21400, 21500, 21600, 21700, 21800, 21900, 22000] %}
            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.05); text-align: center; {% if strike == 21800 %}background: rgba(99, 102, 241, 0.1);{% endif %}">
                <td style="padding: 8px; color: #9ca3af;">48,341</td>
                <td style="padding: 8px; color: #9ca3af;">9,668</td>
                <td style="padding: 8px; color: #9ca3af;">18.3%</td>
                <td style="padding: 8px; color: #9ca3af;">0.53</td>
                <td style="padding: 8px; border-right: 1px solid rgba(255, 255, 255, 0.05); color: white; font-weight: 600;">₹{{ (701 - (strike - 21100))|round(2) }}</td>
                <td style="padding: 8px; color: white; font-weight: 600;">{{ strike }}</td>
                <td style="padding: 8px; color: white; font-weight: 600;">₹{{ (1 + (strike - 21100)/100)|round(2) }}</td>
                <td style="padding: 8px; color: #9ca3af;">-0.47</td>
                <td style="padding: 8px; color: #9ca3af;">18.3%</td>
                <td style="padding: 8px; color: #9ca3af;">9,668</td>
                <td style="padding: 8px; color: #9ca3af;">48,341</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
